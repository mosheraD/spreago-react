{"version":3,"sources":["images/flag.png","images/ux.png","images/john.png","images/image-place.png","RecordRTC.js","components/card-interview/images/border-bookmark.png","components/header/images/logo.png","components/header-employer/images/logo.png","components/explore-premium/images/premium.png","images/1.png","components/footer/images/spreago-logo-dark.png","components/questions/images/more.png","components/custom-video/video/video.mp4","components/side-image/side-image.component.jsx","components/login/login.component.jsx","components/login-page/login-page.component.jsx","components/create-acc/create-acc.component.jsx","components/create-acc-page/create-acc-page.component.jsx","components/email-conf/email-conf.component.jsx","components/email-conf-page/email-conf-page.component.jsx","components/registration/registration.component.jsx","components/registration-page/registration-page.component.jsx","components/forget-password/forget-password.component.jsx","components/forget-password-page/forget-password-page.component.jsx","components/card-interview/card-interview.component.jsx","components/latest-Interviews/latest-Interviews.component.jsx","components/header/header.component.jsx","components/header-employer/header-employer.component.jsx","components/list-item/list-item.component.jsx","components/add-to-list/add-to-list.component.jsx","components/recommended-articles/recommended-articles.component.jsx","components/explore-premium/explore-premium-component.jsx","components/card-candidate/card-candidate.component.jsx","components/find-candidate/find-candidate.component.jsx","components/card/card-component.jsx","components/latest-biographies/latest-biographies.component.jsx","components/your-biographies/your-biographies.component.jsx","components/card-your-interview/card-your-interview.component.jsx","components/your-Interviews/your-Interviews.component.jsx","components/company-members/company-members.component.jsx","components/footer/footer.component.jsx","components/homepage/homepage.component.jsx","components/reset-password/reset-password.component.jsx","components/reset-password-page/reset-password-page.component.jsx","getJwt.js","Auth.js","components/video/video.component.jsx","components/addons/addons-save.component.jsx","components/addons/addon-text.component.jsx","components/addons/addon-img.component.jsx","components/addons/addon-sidebar.component.jsx","components/addons/addon-flag.component.jsx","components/video-recorder/video-recorder.jsx","components/custom-video/custom-video.component.jsx","components/record/record.component.jsx","components/overview/overview.component.jsx","components/preview/preview.component.jsx","components/questions/question.component.jsx","components/create-biography/create-biography.component.jsx","components/pagination/pagination.component.jsx","components/card-biography/card-biography.component.jsx","components/your-biographies-page/your-biographies-page.jsx","components/biographies/biographies.component.jsx","App.js","serviceWorker.js","index.js","images/logo.png","images/member.png","components/record/images/more.png"],"names":["module","exports","RecordRTC","mediaStream","config","RecordRTCConfiguration","type","self","this","initRecorder","initCallback","Recorder","GetRecorderType","mediaRecorder","record","setState","disableLogs","console","log","constructor","name","stopRecording","callback","state","resumeRecording","setTimeout","warn","stop","_callback","warningLog","__blob","Object","keys","forEach","key","blob","bytesToSize","size","url","URL","createObjectURL","e","call","autoWriteToDisk","getDataURL","dataURL","parameter","DiskStorage","Store","readFile","_blob","postMessage","FileReaderSync","readAsDataURL","_mediaRecorder","Worker","navigator","mozGetUserMedia","reader","FileReader","onload","event","target","result","webWorker","_function","Blob","toString","worker","revokeObjectURL","processInWebWorker","onmessage","data","handleRecordingDuration","counter","recordingDuration","onRecordingStopped","onStateChanged","WARNING","returnObject","startRecording","config2","version","clearRecordedData","pauseRecording","pause","resume","setRecordingDuration","getBlob","toURL","getInternalRecorder","save","fileName","invokeSaveAsDialog","getFromDisk","setAdvertisementArray","arrayOfWebPImages","advertisement","length","i","push","duration","image","bufferSize","sampleRate","buffer","reset","getState","destroy","disableLogsCache","Storage","AudioContextConstructor","close","prop","recorderType","audio","video","WhammyRecorder","CanvasRecorder","WebAssemblyRecorder","GifRecorder","StereoAudioRecorder","MediaStreamRecorder","getTracks","MediaRecorder","prototype","mimeType","split","bitsPerSecond","recorder","isChrome","isEdge","isOpera","ReadableStream","isMediaRecorderCompatible","isTypeSupported","Array","MultiStreamRecorder","isSafari","MRecordRTC","addStream","_mediaStream","mediaType","gif","audioRecorder","numberOfAudioChannels","timeSlice","onTimeStamp","newStream","videoTrack","isFirefox","MediaStream","addTrack","videoRecorder","canvas","frameInterval","workerPath","webAssemblyPath","frameRate","bitrate","isSingleRecorder","gifRecorder","quality","blobURL","output","callback00","webkitURL","_audioDataURL","_videoDataURL","writeToDisk","args","Fetch","_type","replace","options","audioDataURL","videoDataURL","gifDataURL","audioBlob","videoBlob","gifBlob","that","global","window","userAgent","getUserMedia","error","arguments","document","documentElement","appendChild","createElement","captureStream","mozCaptureStream","obj","getContext","play","drawImage","toDataURL","style","HTMLVideoElement","location","protocol","href","hash","screen","width","height","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","lastTime","element","currTime","Date","getTime","timeToCall","Math","max","id","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","AudioContext","webkitAudioContext","mozAudioContext","webkitGetUserMedia","indexOf","msSaveBlob","msSaveOrOpenBlob","opera","toLowerCase","test","isElectron","bytes","parseInt","floor","pow","toPrecision","file","fileExtension","splitted","fileFullName","round","random","hyperlink","download","body","click","dispatchEvent","MouseEvent","view","bubbles","cancelable","process","versions","electron","stream","kind","filter","t","setSrcObject","srcObject","mozSrcObject","webkitMediaStream","track","getSeekableBlob","inputBlob","EBML","Error","Reader","decoder","Decoder","tools","fileReader","decode","read","refinedMetadataBuf","makeMetadataSeekable","metadatas","cues","slice","metadataSize","newBlob","readAsArrayBuffer","appVersion","verOffset","ix","nAgt","fullVersion","parseFloat","majorVersion","substring","isNaN","arrayOfBlobs","updateTimeStamp","timestamps","getMimeType","secondObject","clearRecordedDataCB","getArrayOfBlobs","allStates","recorderHints","canRecordMimeType","ondataavailable","recordingCallback","getNativeBlob","onstart","onpause","onresume","onstop","onerror","looper","manuallyStopped","timeslice","start","getAllStates","checkForInactiveTracks","active","ended","isMediaStreamActive","jsAudioNode","leftchannel","rightchannel","recording","recordingLength","desiredSampRate","mergeLeftRightBuffers","mergeAudioBuffers","cb","interleaved","leftBuffers","rightBuffers","internalInterleavedLength","interpolateArray","newSampleRate","oldSampleRate","fitCount","newData","springFactor","Number","tmp","before","toFixed","after","ceil","atPoint","linearInterpolate","mergeBuffers","channelBuffer","rLength","Float64Array","offset","lng","set","writeUTFBytes","string","setUint8","charCodeAt","leftChannel","rightChannel","inputIndex","index","interleave","interleavedLength","ArrayBuffer","DataView","setUint32","setUint16","setInt16","noWorker","workerURL","terminate","resetVariables","isAudioProcessStarted","isPaused","byteLength","context","audioInput","createMediaStreamSource","legalBufferValues","JSON","stringify","createJavaScriptNode","createScriptProcessor","connect","intervalsBasedBuffers","left","right","onaudioprocess","disconnect","onAudioProcessStarted","inputBuffer","getChannelData","chLeft","Float32Array","chRight","createMediaStreamDestination","destination","htmlElement","html2canvas","isCanvasSupportsStreamCapturing","item","globalCanvas","mediaStreamRecorder","isRecording","_isChrome","webkitRTCPeerConnection","chrome","chromeVersion","matchArray","match","useWhammyRecorder","HTMLCanvasElement","CanvasRenderingContext2D","canvasMediaStream","webkitCaptureStream","mdStream","whammy","frames","drawCanvasFrame","getWebPImages","nodeName","framesLength","frame","idx","framesRemaining","onEncodingCallback","webp","compile","isPausedRecording","cloneCanvas","newCanvas","grabMouse","showMousePointer","onrendered","Whammy","Video","drawFrames","paused","isStopDrawing","dropBlackFrames","_frames","_framesToCheck","_pixTolerance","_frameTolerance","localCanvas","context2d","resultFrames","checkUntilNotBlack","endCheckFrame","sampleColor","maxColorDifference","sqrt","pixTolerance","frameTolerance","doNotCheckNext","o","loop","functionToLoop","asyncLoop","f","matchPixCount","endPixCheck","maxPixCount","finishImage","Image","imageData","getImageData","pix","currentColor","r","g","b","src","concat","cloneNode","onloadedmetadata","muted","_this","WhammyVideo","whammyInWebWorker","getClusterData","clusterTimecode","clusterCounter","clusterFrames","map","block","flags","keyframe","invisible","lacing","discardable","trackNum","timecode","String","fromCharCode","join","makeSimpleBlock","numToBuffer","num","parts","Uint8Array","reverse","bitsToBuffer","bits","substr","getStrLength","unpadded","webm","info","checkFrames","frameNumber","clusterDuration","cluster","generateEBML","json","ebml","len","zeroes","sizeToString","padded","riff","VP8","RIFF","WEBP","frameStart","c","parseWebP","parseRIFF","chunks","atob","add","init","indexedDB","open","db","dbName","request","onError","onsuccess","setVersion","createObjectStore","putInDB","onupgradeneeded","dataBase","dataStoreName","transaction","getFromStore","portionName","objectStore","get","put","GIFEncoder","script","isHTMLObject","isLoadedMetaData","offsetWidth","offsetHeight","gifEncoder","setRepeat","setDelay","setQuality","onGifRecordingStarted","now","lastAnimationFrame","drawVideoFrame","time","clearedRecordedData","undefined","lastFrameTime","onGifPreview","addFrame","bin","autoplay","playsInline","MultiStreamsMixer","arrayOfMediaStreams","elementClass","videos","isStopDrawingFrames","opacity","position","zIndex","top","className","useGainNode","drawVideosToCanvas","videosLength","fullcanvas","remaining","x","y","onRender","getVideo","volume","resetVideoStreams","streams","startDrawingFrames","appendStreams","audioSource","audioContext","audioDestination","releaseStreams","gainNode","audioSources","source","clearRect","getMixedStream","mixedVideoStream","capturedStream","videoStream","getMixedVideoStream","mixedAudioStream","createGain","gain","value","audioTracksLength","getMixedAudioStream","mixer","tracks","getAllVideoTracks","previewStream","addStreams","getMixer","finished","cameraStream","controller","cvs","first","onplaying","ctx","frameTimeout","cameraTimer","setInterval","clearInterval","onVideoProcessStarted","_controlledReadableStream","enqueue","WritableStream","realtime","arrayOfBuffers","fetch","then","arrayBuffer","addEventListener","timebaseDen","pipeTo","write","RecordRTCPromisesHandler","recordRTC","Promise","resolve","reject","SideImage","Row","Col","xs","Login","props","showPassword","checkedB","email","password","user","code","bearerTokenResponse","to","userType","loginFrom","localStorage","history","pathname","jwt","responseGoogle","response","accessToken","loginSocial","variables","token","provider","res","loginSocialite","Status","message","BearerTokenResponse","typeName","setItem","onSubmit","preventDefault","login","catch","err","autoComplete","Logo","alt","Typography","variant","color","TextField","fullWidth","required","label","onChange","FormControl","InputLabel","htmlFor","OutlinedInput","handleChangePassword","endAdornment","InputAdornment","IconButton","aria-label","onClick","onMouseDown","edge","labelWidth","lg","FormControlLabel","control","Checkbox","checked","span","Button","clientId","onSuccess","onFailure","cookiePolicy","Component","LOGIN","gql","LOGIN_SOCIAL","compose","graphql","withRouter","LoginPage","Container","fluid","md","CreateAcc","errorMessage","from","mail","mutate","sendPinCodeForRegister","SEND_CODE","CreateAccPage","EmailConf","inputreset","inputs","querySelectorAll","emailConfirmation","pin_code","verifyPinCode","fields","fieldHeight","onComplete","sendCodeForReset","sendPinCodeForpasswordresets","EMAIL_CONFIRMATION","SEND_CODE_FOR_RESET","SEND_CODE_FOR_REGISTER","EmailConfPage","Registration","country","city","allCities","profileObj","countries","loading","handleChange","countries_id","cities_id","user_type_id","register","Select","cities","inputProps","renderCountris","RadioGroup","Radio","labelPlacement","defaultValue","GET_CONTRIES_AND_CITIES","REGISTRATION","RegistrationPage","ForgetPassword","RequestStatus","messageLog","cardInterview","theme","createMuiTheme","palette","primary","main","light","dark","secondary","contrastText","ThemeProvider","img","bookmark","icon","faUserFriends","faBoxOpen","faClock","disabled","LatestInterviews","Paper","elevation","borderBottom","StyledBadge","withStyles","badge","backgroundColor","boxShadow","background","paper","borderRadius","animation","border","content","transform","Badge","ElevationScroll","children","trigger","useScrollTrigger","disableHysteresis","threshold","React","cloneElement","useStyles","makeStyles","search","shape","marginLeft","breakpoints","up","spacing","searchIcon","pointerEvents","display","alignItems","justifyContent","inputRoot","inputInput","padding","transition","transitions","create","Header","classes","parse","getItem","links","Map","CssBaseline","AppBar","Navbar","bg","expand","Brand","spreago","Toggle","aria-controls","Collapse","rows","entries","Nav","handleLinks","InputBase","placeholder","root","input","overlap","anchorOrigin","vertical","horizontal","Avatar","clear","Toolbar","ListItem","AddToList","RecommendedArticles","ExplorePremium","List","dense","ListItemAvatar","ListItemText","CardCandidate","Card","FindCandidate","LatestBiographies","Img","ImgOverlay","ListItemSecondaryAction","YourBiographies","sm","cardYourInterview","YourInterviews","CompanyMembers","Footer","Homepage","ResetPassword","showConfirmPassword","confirmPassword","CheckPassword","inputtxt","passwordresets","RESET_PASSWORD","ResetPasswordPage","getJwt","Auth","Authenticated","UPLOAD_FILE_STREAM","SaveChanges","handleSave","callbackFromParent","handleClear","xl","Fab","fontSize","cursor","TextEditor","saveData","handleOnclick","hideAddonsBtns","viewText","closeImgEditor","querySelector","classList","toggle","resetData","handleChangeInput","remove","handleAlignLeft","handleAlignRight","handleAlignCenter","handleItalic","handleBold","btns","textValue","startTime","finishTime","textAlign","TextStyle","TextWeight","getElementById","elementRelative","position_x","position_y","offsetLeft","offsetTop","scrollLeft","clientLeft","scrollTop","clientTop","offsetParent","textAddonInput","start_time","finish_time","text","text_align","text_weight","text_style","text_size","padding_top","padding_bottom","padding_left","padding_right","showData","textInfo","bottom","aria-hidden","maxLength","AddonImage","resetdata","viewImgs","handleStop","elements","arrayOfImgs","pop","ele","getBoundingClientRect","fileObject","fileObj","fileBlob","fileUrl","imgeAddone","handleClose","parentNode","closeTextEditor","imgsInfo","fileObjArr","isArray","fileDetails","link","imgFiles","viewImgDetails","viewImg","for","accept","files","bounds","onStop","maxWidth","AddonSidebar","compareValues","order","a","hasOwnProperty","varA","toUpperCase","varB","comparison","handelDelete","object","handleView","resetSidebar","allAddons","checkData","tempAllAdons","handleOnClick","recordCards","btnNextRecord","btnBackRecord","recordCard","sortUnorderedList","ul","sortDescending","lis","getElementsByTagName","vals","l","innerHTML","sort","textAddonsInputs","imgAddonsInputs","tempImgAddon","tempTextAddon","question","textAddons","imgAddons","apolloCache","InMemoryCache","addTypename","access_token","uploadLink","createUploadLink","uri","headers","authorization","client","ApolloClient","cache","title","maxHeight","overflow","minHeight","data-time","mutation","UPLOAD_ADDONS","addonsUpload","handleImgAddons","imgAddonArr","imgAddon","handleTextAddons","question_id","imageAddonsInputs","Flag","flagBtn","currentTime","contains","viewFlag","VideoRecorder","dataFromChild","status","showAddonsBtns","imgAddonsTemp","textAddonsTemp","splice","showFlag","hideFlag","bioId","setAttribute","removeAttribute","load","timeLimit","stopRecordingCallback","seekableBlob","controls","File","camera","onclick","mediaDevices","alert","videoUpload","encType","hidden","ConnectionErorr","controlslist","Record","progressValue","enableWebCam","questions","firstQuestion","handleClick","elem","currentTarget","data-id","scrollTo","behavior","data-uploaded","dots","show","Modal","aria-labelledby","centered","onHide","Body","autoPlay","flag","includes","GET_QUESTIONS","Overview","privacy","public","private","brief","speciality","tags","specialities","tagsChoosen","brif","name_en","specialityId","bioTagsNames","apolloFetch","createApolloFetch","use","next","query","tag","privacies","specialityErrorMessage","briefErrorMessage","edit_bio","bio_id","privacies_id","specialities_id","bioEdit","nav_items","create_bio","bioCreate","bio","multiline","helperText","Autocomplete","specialitychoosen","freeSolo","option","renderInput","params","multiple","renderTags","getTagProps","Chip","defaultChecked","CREATE_BIO","EDIT_BIO","Preview","questionSelected","showLoader","video_id","CompileButton","compiledVideo","handleCloseDeleteModal","showDeleteModal","handelCloseCompiledVideo","visible","maximum_time","delete_question","questionDelete","draft","compile_video","bioWaitForProcess","publish","GET_BIOGRAPHIES","DELETE_QUESTION","PUBLISH","DRAFT","COMPILE_VIDEO","Questions","handleBackBtn","HandleRemoveIssue","Node","originalRemoveChild","removeChild","child","apply","originalInsertBefore","insertBefore","newNode","referenceNode","handleDelete","closest","handleEdit","items","tab","textContent","questionToEdit","questionAfterEdit","indexOfEdit","range","questionInputs","yourQuetions","deleted","allQuestions","minimum_time","mandatory","ordering","bind","errorMessageEdit","getAttribute","listItems","arrayOfQuestions","createQuestions","Inputs","questionArray","more","closeButton","Title","newvalue","CREATE_QUESTIONS","CreateBiography","timeout","connectInterval","ws","WebSocket","onopen","send","onclose","min","reason","check","user_id","evt","newBiography","updatedBio","bioOnProcess","bioProcessDone","readyState","CLOSED","Tab","defaultActiveKey","Item","Link","eventKey","Content","Pane","Pagination","currentPage","pageCount","startingPage","card","pageSize","nextProps","activeClassName","setCurrentPage","upperLimit","createPaginatedData","createControls","defaultProps","CardBiography","handleShow","handleCloseShareModal","showShareModal","copy","bioSelected","shareLink","delete_bio","rounded","Tooltip","placement","onCopy","EmailShareButton","EmailIcon","LinkedinShareButton","LinkedinIcon","FacebookShareButton","FacebookIcon","WhatsappShareButton","WhatsappIcon","DELETE_BIO","YourBiographiesPage","borderTop","filterdArray","Biographies","biographies","draftState","draftBiographies","filteredArray","filteredDraftArray","userName","prevProps","get_biographies","biosYours","biosCompletedYours","biosYoursNotPublishedWithDruft","me","find","outline","typography","button","textTransform","App","path","component","exact","render","Boolean","hostname","operation","setContext","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7f4ed121.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAZCAYAAADqrKTxAAAABHNCSVQICAgIfAhkiAAAAM9JREFUOE/tlFERwkAMRHcVgBQkIIE6KApaHICD4gAcgINKAAdIoArCbOfCHDfX0v43n5e8S2Yve0QmzOwGoCb5yuU5ABmAN4CG5CmtGYO8Vt32JFs/mAJ5rUY+aOQ5kGCNfJwLPQGUU6Gu70A2ajcFuqfy/4MKkhLgJ0Yhktn8AgUNFyFiIcxsC6AiWejczGR3D3lI+3d199LMtO5Vv/Jh1xIoXtYzyVqQblqFjP8D6pyLjuRa0A7AJQIH6iEjlrLK93EDrA6bhHoAaGNffQDRqISzTZCO5QAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/ux.c57837c7.png\";","module.exports = __webpack_public_path__ + \"static/media/john.72441ae6.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAABfCAYAAAAQ2t4QAAAABHNCSVQICAgIfAhkiAAABL5JREFUeF7tnb9OG1kUh+/AAIOAYhACgRy3FFBQUFAYGQrq5C3yELvl7jtEeYqkprLkEiSQRQESWDgWAoSwJYRsYMCr443J2HgMK+yTlc53S4jnl/vdj3P/jO3xnHMul8t9mJ6e/mNiYuKT7/tz8jMaBN5DIIqii9vb22/X19d/Z7PZH55Ilkql8mNjY+nh4WHned57rs9rIdAk0Gg03OPjo7u7uyuVy+WMVygUvoRh+Nn3fRBBoO8ERLZqtfrVKxaL50EQzFHJ+s6YC/6sbPV6/cIrlUqN0dFRoEBgYATu7+8dog0MLxduEUA0XFAhgGgqmAlBNBxQIYBoKpgJQTQcUCGAaCqYCUE0HFAhgGgqmAlBNBxQIYBoKpgJQTQcUCGAaCqYCUE0HFAhgGgqmAlBNBxQIYBoKpgJQTQcUCGAaCqYCUE0HFAhgGgqmAlBNBxQIYBoKpgJQTQcUCGAaCqYCUE0HFAhgGgqmAlBNBxQIYBoKpgJMS3azc2N29vbc/V6Xc0E+Q66xcVFt7CwoJb5fwgyLdrOzo6rVCrq4yCybW5uquf+zkBEq1Tc1taW2hhsb283szQz1TrXIwjRBiDaw8ODGxkZ6Yod0Qx+42Nr6uxXdTk7O3OHh4cuiiIXBIFbWVlxU1NTbcIhGqK9a4aRtZ6IG28i2/r6OqI555g6+zR1npycuOPj4xeyrq2ttVU1KhoVLbGi9VpztV50enrqjo6OXlxjY2Ojbb2GaIiWKJqctc3OzvY8+xIZd3d3nZzNtVo6nW6emcUboiFaV9Hia6/OabDzBSKbbAjkAFg2Ad0OZREN0bqKls/nXa1Wa/5ODlozmUzi0cVbdhOIhmgvPOm27pJKJZXtvzSpdPKYGtmFIhqitbkjckg1kzOxzjY/P++Wl5ff5JpMo7LGk7VaGIaIZvERPb0ObA8ODprrraS2tLT06o1x2RhIhsi6urqKaFafBZUkWrfD127C9docXF5eOpG1VRERzfCzoJJEe+u7OpI2B1IJRbJ4QzREa3snRTdJei3GOjcHSVMuoiHas2i9NgCvySbVTabJ+IEtFe0XAe51xu51Jt2vfNP28pV/REWjoj1XtNYZVz/E6rwGoiEaog3iL6vjmkydsamTijY44xAN0QZnV+zKiBYTbZCfiJqcnGzejOdeJ/c6Vf6yEc2waCqGxUL4XKc28d+cJ4er+/v7z+830/jv8El1gxVNQywy/iVgejOABHoEEE2PtekkRDM9/HqdRzQ91qaTEM308Ot1HtH0WJtOQjTTw6/XeUTTY206CdFMD79e5xFNj7XpJEQzPfx6nUc0PdamkxDN9PDrdR7R9FibTkI008Ov13lE02NtOgnRTA+/XucRTY+16SREMz38ep1HND3WppMQzfTw63Ue0fRYm05CNNPDr9d5RNNjbToJ0UwPv17nEU2PtekkRDM9/HqdRzQ91qaTEM308Ot1vilasVg8D4JgzvM8vWSSzBBoNBryDNMLr1AofAnD8LN8dxcNAv0mII+QrFarX71cLvchlUrlgyBIDw0NOSpbv1HbvJ5UsqenJ6lmpXK5nGnOlyLbzMzMn+Pj4x9935+ziYZe95NAFEUXtVrt+9XV1V/ZbPbHPzbTUKlnhOQdAAAAAElFTkSuQmCC\"","'use strict';\n\n// Last time updated: 2020-05-17 5:04:38 PM UTC\n\n// ________________\n// RecordRTC v5.6.1\n\n// Open-Sourced: https://github.com/muaz-khan/RecordRTC\n\n// --------------------------------------------------\n// Muaz Khan     - www.MuazKhan.com\n// MIT License   - www.WebRTC-Experiment.com/licence\n// --------------------------------------------------\n\n// ____________\n// RecordRTC.js\n\n/**\n * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. \n * @summary Record audio, video or screen inside the browser.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef RecordRTC\n * @class\n * @example\n * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {\n *     type: 'video', // audio or video or gif or canvas\n *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc\n * });\n * recorder.startRecording();\n * @see For further information:\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}\n */\n\nfunction RecordRTC(mediaStream, config) {\n    if (!mediaStream) {\n        throw 'First parameter is required.';\n    }\n\n    config = config || {\n        type: 'video'\n    };\n\n    config = new RecordRTCConfiguration(mediaStream, config);\n\n    // a reference to user's recordRTC object\n    var self = this;\n\n    function startRecording(config2) {\n        if (!config.disableLogs) {\n            console.log('RecordRTC version: ', self.version);\n        }\n\n        if (!!config2) {\n            // allow users to set options using startRecording method\n            // config2 is similar to main \"config\" object (second parameter over RecordRTC constructor)\n            config = new RecordRTCConfiguration(mediaStream, config2);\n        }\n\n        if (!config.disableLogs) {\n            console.log('started recording ' + config.type + ' stream.');\n        }\n\n        if (mediaRecorder) {\n            mediaRecorder.clearRecordedData();\n            mediaRecorder.record();\n\n            setState('recording');\n\n            if (self.recordingDuration) {\n                handleRecordingDuration();\n            }\n            return self;\n        }\n\n        initRecorder(function() {\n            if (self.recordingDuration) {\n                handleRecordingDuration();\n            }\n        });\n\n        return self;\n    }\n\n    function initRecorder(initCallback) {\n        if (initCallback) {\n            config.initCallback = function() {\n                initCallback();\n                initCallback = config.initCallback = null; // recorder.initRecorder should be call-backed once.\n            };\n        }\n\n        var Recorder = new GetRecorderType(mediaStream, config);\n\n        mediaRecorder = new Recorder(mediaStream, config);\n        mediaRecorder.record();\n\n        setState('recording');\n\n        if (!config.disableLogs) {\n            console.log('Initialized recorderType:', mediaRecorder.constructor.name, 'for output-type:', config.type);\n        }\n    }\n\n    function stopRecording(callback) {\n        callback = callback || function() {};\n\n        if (!mediaRecorder) {\n            warningLog();\n            return;\n        }\n\n        if (self.state === 'paused') {\n            self.resumeRecording();\n\n            setTimeout(function() {\n                stopRecording(callback);\n            }, 1);\n            return;\n        }\n\n        if (self.state !== 'recording' && !config.disableLogs) {\n            console.warn('Recording state should be: \"recording\", however current state is: ', self.state);\n        }\n\n        if (!config.disableLogs) {\n            console.log('Stopped recording ' + config.type + ' stream.');\n        }\n\n        if (config.type !== 'gif') {\n            mediaRecorder.stop(_callback);\n        } else {\n            mediaRecorder.stop();\n            _callback();\n        }\n\n        setState('stopped');\n\n        function _callback(__blob) {\n            if (!mediaRecorder) {\n                if (typeof callback.call === 'function') {\n                    callback.call(self, '');\n                } else {\n                    callback('');\n                }\n                return;\n            }\n\n            Object.keys(mediaRecorder).forEach(function(key) {\n                if (typeof mediaRecorder[key] === 'function') {\n                    return;\n                }\n\n                self[key] = mediaRecorder[key];\n            });\n\n            var blob = mediaRecorder.blob;\n\n            if (!blob) {\n                if (__blob) {\n                    mediaRecorder.blob = blob = __blob;\n                } else {\n                    throw 'Recording failed.';\n                }\n            }\n\n            if (blob && !config.disableLogs) {\n                console.log(blob.type, '->', bytesToSize(blob.size));\n            }\n\n            if (callback) {\n                var url;\n\n                try {\n                    url = URL.createObjectURL(blob);\n                } catch (e) {}\n\n                if (typeof callback.call === 'function') {\n                    callback.call(self, url);\n                } else {\n                    callback(url);\n                }\n            }\n\n            if (!config.autoWriteToDisk) {\n                return;\n            }\n\n            getDataURL(function(dataURL) {\n                var parameter = {};\n                parameter[config.type + 'Blob'] = dataURL;\n                DiskStorage.Store(parameter);\n            });\n        }\n    }\n\n    function pauseRecording() {\n        if (!mediaRecorder) {\n            warningLog();\n            return;\n        }\n\n        if (self.state !== 'recording') {\n            if (!config.disableLogs) {\n                console.warn('Unable to pause the recording. Recording state: ', self.state);\n            }\n            return;\n        }\n\n        setState('paused');\n\n        mediaRecorder.pause();\n\n        if (!config.disableLogs) {\n            console.log('Paused recording.');\n        }\n    }\n\n    function resumeRecording() {\n        if (!mediaRecorder) {\n            warningLog();\n            return;\n        }\n\n        if (self.state !== 'paused') {\n            if (!config.disableLogs) {\n                console.warn('Unable to resume the recording. Recording state: ', self.state);\n            }\n            return;\n        }\n\n        setState('recording');\n\n        // not all libs have this method yet\n        mediaRecorder.resume();\n\n        if (!config.disableLogs) {\n            console.log('Resumed recording.');\n        }\n    }\n\n    function readFile(_blob) {\n        postMessage(new FileReaderSync().readAsDataURL(_blob));\n    }\n\n    function getDataURL(callback, _mediaRecorder) {\n        if (!callback) {\n            throw 'Pass a callback function over getDataURL.';\n        }\n\n        var blob = _mediaRecorder ? _mediaRecorder.blob : (mediaRecorder || {}).blob;\n\n        if (!blob) {\n            if (!config.disableLogs) {\n                console.warn('Blob encoder did not finish its job yet.');\n            }\n\n            setTimeout(function() {\n                getDataURL(callback, _mediaRecorder);\n            }, 1000);\n            return;\n        }\n\n        if (typeof Worker !== 'undefined' && !navigator.mozGetUserMedia) {\n            var webWorker = processInWebWorker(readFile);\n\n            webWorker.onmessage = function(event) {\n                callback(event.data);\n            };\n\n            webWorker.postMessage(blob);\n        } else {\n            var reader = new FileReader();\n            reader.readAsDataURL(blob);\n            reader.onload = function(event) {\n                callback(event.target.result);\n            };\n        }\n\n        function processInWebWorker(_function) {\n            try {\n                var blob = URL.createObjectURL(new Blob([_function.toString(),\n                    'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\n                ], {\n                    type: 'application/javascript'\n                }));\n\n                var worker = new Worker(blob);\n                URL.revokeObjectURL(blob);\n                return worker;\n            } catch (e) {}\n        }\n    }\n\n    function handleRecordingDuration(counter) {\n        counter = counter || 0;\n\n        if (self.state === 'paused') {\n            setTimeout(function() {\n                handleRecordingDuration(counter);\n            }, 1000);\n            return;\n        }\n\n        if (self.state === 'stopped') {\n            return;\n        }\n\n        if (counter >= self.recordingDuration) {\n            stopRecording(self.onRecordingStopped);\n            return;\n        }\n\n        counter += 1000; // 1-second\n\n        setTimeout(function() {\n            handleRecordingDuration(counter);\n        }, 1000);\n    }\n\n    function setState(state) {\n        if (!self) {\n            return;\n        }\n\n        self.state = state;\n\n        if (typeof self.onStateChanged.call === 'function') {\n            self.onStateChanged.call(self, state);\n        } else {\n            self.onStateChanged(state);\n        }\n    }\n\n    var WARNING = 'It seems that recorder is destroyed or \"startRecording\" is not invoked for ' + config.type + ' recorder.';\n\n    function warningLog() {\n        if (config.disableLogs === true) {\n            return;\n        }\n\n        console.warn(WARNING);\n    }\n\n    var mediaRecorder;\n\n    var returnObject = {\n        /**\n         * This method starts the recording.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * var recorder = RecordRTC(mediaStream, {\n         *     type: 'video'\n         * });\n         * recorder.startRecording();\n         */\n        startRecording: startRecording,\n\n        /**\n         * This method stops the recording. It is strongly recommended to get \"blob\" or \"URI\" inside the callback to make sure all recorders finished their job.\n         * @param {function} callback - Callback to get the recorded blob.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     // use either \"this\" or \"recorder\" object; both are identical\n         *     video.src = this.toURL();\n         *     var blob = this.getBlob();\n         * });\n         */\n        stopRecording: stopRecording,\n\n        /**\n         * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @todo Firefox is unable to pause the recording. Fix it.\n         * @example\n         * recorder.pauseRecording();  // pause the recording\n         * recorder.resumeRecording(); // resume again\n         */\n        pauseRecording: pauseRecording,\n\n        /**\n         * This method resumes the recording.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.pauseRecording();  // first of all, pause the recording\n         * recorder.resumeRecording(); // now resume it\n         */\n        resumeRecording: resumeRecording,\n\n        /**\n         * This method initializes the recording.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @todo This method should be deprecated.\n         * @example\n         * recorder.initRecorder();\n         */\n        initRecorder: initRecorder,\n\n        /**\n         * Ask RecordRTC to auto-stop the recording after 5 minutes.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * var fiveMinutes = 5 * 1000 * 60;\n         * recorder.setRecordingDuration(fiveMinutes, function() {\n         *    var blob = this.getBlob();\n         *    video.src = this.toURL();\n         * });\n         * \n         * // or otherwise\n         * recorder.setRecordingDuration(fiveMinutes).onRecordingStopped(function() {\n         *    var blob = this.getBlob();\n         *    video.src = this.toURL();\n         * });\n         */\n        setRecordingDuration: function(recordingDuration, callback) {\n            if (typeof recordingDuration === 'undefined') {\n                throw 'recordingDuration is required.';\n            }\n\n            if (typeof recordingDuration !== 'number') {\n                throw 'recordingDuration must be a number.';\n            }\n\n            self.recordingDuration = recordingDuration;\n            self.onRecordingStopped = callback || function() {};\n\n            return {\n                onRecordingStopped: function(callback) {\n                    self.onRecordingStopped = callback;\n                }\n            };\n        },\n\n        /**\n         * This method can be used to clear/reset all the recorded data.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @todo Figure out the difference between \"reset\" and \"clearRecordedData\" methods.\n         * @example\n         * recorder.clearRecordedData();\n         */\n        clearRecordedData: function() {\n            if (!mediaRecorder) {\n                warningLog();\n                return;\n            }\n\n            mediaRecorder.clearRecordedData();\n\n            if (!config.disableLogs) {\n                console.log('Cleared old recorded data.');\n            }\n        },\n\n        /**\n         * Get the recorded blob. Use this method inside the \"stopRecording\" callback.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     var blob = this.getBlob();\n         *\n         *     var file = new File([blob], 'filename.webm', {\n         *         type: 'video/webm'\n         *     });\n         *\n         *     var formData = new FormData();\n         *     formData.append('file', file); // upload \"File\" object rather than a \"Blob\"\n         *     uploadToServer(formData);\n         * });\n         * @returns {Blob} Returns recorded data as \"Blob\" object.\n         */\n        getBlob: function() {\n            if (!mediaRecorder) {\n                warningLog();\n                return;\n            }\n\n            return mediaRecorder.blob;\n        },\n\n        /**\n         * Get data-URI instead of Blob.\n         * @param {function} callback - Callback to get the Data-URI.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     recorder.getDataURL(function(dataURI) {\n         *         video.src = dataURI;\n         *     });\n         * });\n         */\n        getDataURL: getDataURL,\n\n        /**\n         * Get virtual/temporary URL. Usage of this URL is limited to current tab.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     video.src = this.toURL();\n         * });\n         * @returns {String} Returns a virtual/temporary URL for the recorded \"Blob\".\n         */\n        toURL: function() {\n            if (!mediaRecorder) {\n                warningLog();\n                return;\n            }\n\n            return URL.createObjectURL(mediaRecorder.blob);\n        },\n\n        /**\n         * Get internal recording object (i.e. internal module) e.g. MutliStreamRecorder, MediaStreamRecorder, StereoAudioRecorder or WhammyRecorder etc.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * var internalRecorder = recorder.getInternalRecorder();\n         * if(internalRecorder instanceof MultiStreamRecorder) {\n         *     internalRecorder.addStreams([newAudioStream]);\n         *     internalRecorder.resetVideoStreams([screenStream]);\n         * }\n         * @returns {Object} Returns internal recording object.\n         */\n        getInternalRecorder: function() {\n            return mediaRecorder;\n        },\n\n        /**\n         * Invoke save-as dialog to save the recorded blob into your disk.\n         * @param {string} fileName - Set your own file name.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.stopRecording(function() {\n         *     this.save('file-name');\n         *\n         *     // or manually:\n         *     invokeSaveAsDialog(this.getBlob(), 'filename.webm');\n         * });\n         */\n        save: function(fileName) {\n            if (!mediaRecorder) {\n                warningLog();\n                return;\n            }\n\n            invokeSaveAsDialog(mediaRecorder.blob, fileName);\n        },\n\n        /**\n         * This method gets a blob from indexed-DB storage.\n         * @param {function} callback - Callback to get the recorded blob.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.getFromDisk(function(dataURL) {\n         *     video.src = dataURL;\n         * });\n         */\n        getFromDisk: function(callback) {\n            if (!mediaRecorder) {\n                warningLog();\n                return;\n            }\n\n            RecordRTC.getFromDisk(config.type, callback);\n        },\n\n        /**\n         * This method appends an array of webp images to the recorded video-blob. It takes an \"array\" object.\n         * @type {Array.<Array>}\n         * @param {Array} arrayOfWebPImages - Array of webp images.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @todo This method should be deprecated.\n         * @example\n         * var arrayOfWebPImages = [];\n         * arrayOfWebPImages.push({\n         *     duration: index,\n         *     image: 'data:image/webp;base64,...'\n         * });\n         * recorder.setAdvertisementArray(arrayOfWebPImages);\n         */\n        setAdvertisementArray: function(arrayOfWebPImages) {\n            config.advertisement = [];\n\n            var length = arrayOfWebPImages.length;\n            for (var i = 0; i < length; i++) {\n                config.advertisement.push({\n                    duration: i,\n                    image: arrayOfWebPImages[i]\n                });\n            }\n        },\n\n        /**\n         * It is equivalent to <code class=\"str\">\"recorder.getBlob()\"</code> method. Usage of \"getBlob\" is recommended, though.\n         * @property {Blob} blob - Recorded Blob can be accessed using this property.\n         * @memberof RecordRTC\n         * @instance\n         * @readonly\n         * @example\n         * recorder.stopRecording(function() {\n         *     var blob = this.blob;\n         *\n         *     // below one is recommended\n         *     var blob = this.getBlob();\n         * });\n         */\n        blob: null,\n\n        /**\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\n         * @property {number} bufferSize - Buffer-size used to encode the WAV container\n         * @memberof RecordRTC\n         * @instance\n         * @readonly\n         * @example\n         * recorder.stopRecording(function() {\n         *     alert('Recorder used this buffer-size: ' + this.bufferSize);\n         * });\n         */\n        bufferSize: 0,\n\n        /**\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\n         * @property {number} sampleRate - Sample-rates used to encode the WAV container\n         * @memberof RecordRTC\n         * @instance\n         * @readonly\n         * @example\n         * recorder.stopRecording(function() {\n         *     alert('Recorder used these sample-rates: ' + this.sampleRate);\n         * });\n         */\n        sampleRate: 0,\n\n        /**\n         * {recorderType:StereoAudioRecorder} returns ArrayBuffer object.\n         * @property {ArrayBuffer} buffer - Audio ArrayBuffer, supported only in Chrome.\n         * @memberof RecordRTC\n         * @instance\n         * @readonly\n         * @example\n         * recorder.stopRecording(function() {\n         *     var arrayBuffer = this.buffer;\n         *     alert(arrayBuffer.byteLength);\n         * });\n         */\n        buffer: null,\n\n        /**\n         * This method resets the recorder. So that you can reuse single recorder instance many times.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.reset();\n         * recorder.startRecording();\n         */\n        reset: function() {\n            if (self.state === 'recording' && !config.disableLogs) {\n                console.warn('Stop an active recorder.');\n            }\n\n            if (mediaRecorder && typeof mediaRecorder.clearRecordedData === 'function') {\n                mediaRecorder.clearRecordedData();\n            }\n            mediaRecorder = null;\n            setState('inactive');\n            self.blob = null;\n        },\n\n        /**\n         * This method is called whenever recorder's state changes. Use this as an \"event\".\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\n         * @method\n         * @memberof RecordRTC\n         * @instance\n         * @example\n         * recorder.onStateChanged = function(state) {\n         *     console.log('Recorder state: ', state);\n         * };\n         */\n        onStateChanged: function(state) {\n            if (!config.disableLogs) {\n                console.log('Recorder state changed:', state);\n            }\n        },\n\n        /**\n         * A recorder can have inactive, recording, paused or stopped states.\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\n         * @memberof RecordRTC\n         * @static\n         * @readonly\n         * @example\n         * // this looper function will keep you updated about the recorder's states.\n         * (function looper() {\n         *     document.querySelector('h1').innerHTML = 'Recorder\\'s state is: ' + recorder.state;\n         *     if(recorder.state === 'stopped') return; // ignore+stop\n         *     setTimeout(looper, 1000); // update after every 3-seconds\n         * })();\n         * recorder.startRecording();\n         */\n        state: 'inactive',\n\n        /**\n         * Get recorder's readonly state.\n         * @method\n         * @memberof RecordRTC\n         * @example\n         * var state = recorder.getState();\n         * @returns {String} Returns recording state.\n         */\n        getState: function() {\n            return self.state;\n        },\n\n        /**\n         * Destroy RecordRTC instance. Clear all recorders and objects.\n         * @method\n         * @memberof RecordRTC\n         * @example\n         * recorder.destroy();\n         */\n        destroy: function() {\n            var disableLogsCache = config.disableLogs;\n\n            config = {\n                disableLogs: true\n            };\n            self.reset();\n            setState('destroyed');\n            returnObject = self = null;\n\n            if (Storage.AudioContextConstructor) {\n                Storage.AudioContextConstructor.close();\n                Storage.AudioContextConstructor = null;\n            }\n\n            config.disableLogs = disableLogsCache;\n\n            if (!config.disableLogs) {\n                console.log('RecordRTC is destroyed.');\n            }\n        },\n\n        /**\n         * RecordRTC version number\n         * @property {String} version - Release version number.\n         * @memberof RecordRTC\n         * @static\n         * @readonly\n         * @example\n         * alert(recorder.version);\n         */\n        version: '5.6.1'\n    };\n\n    if (!this) {\n        self = returnObject;\n        return returnObject;\n    }\n\n    // if someone wants to use RecordRTC with the \"new\" keyword.\n    for (var prop in returnObject) {\n        this[prop] = returnObject[prop];\n    }\n\n    self = this;\n\n    return returnObject;\n}\n\nRecordRTC.version = '5.6.1';\n\nif (typeof module !== 'undefined' /* && !!module.exports*/ ) {\n    module.exports = RecordRTC;\n}\n/* eslint no-undef: \"off\" */\nif (typeof define === 'function' && define.amd) {\n    define('RecordRTC', [], function() {\n        return RecordRTC;\n    });\n}\n\nRecordRTC.getFromDisk = function(type, callback) {\n    if (!callback) {\n        throw 'callback is mandatory.';\n    }\n\n    console.log('Getting recorded ' + (type === 'all' ? 'blobs' : type + ' blob ') + ' from disk!');\n    DiskStorage.Fetch(function(dataURL, _type) {\n        if (type !== 'all' && _type === type + 'Blob' && callback) {\n            callback(dataURL);\n        }\n\n        if (type === 'all' && callback) {\n            callback(dataURL, _type.replace('Blob', ''));\n        }\n    });\n};\n\n/**\n * This method can be used to store recorded blobs into IndexedDB storage.\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\n * @method\n * @memberof RecordRTC\n * @example\n * RecordRTC.writeToDisk({\n *     audio: audioBlob,\n *     video: videoBlob,\n *     gif  : gifBlob\n * });\n */\nRecordRTC.writeToDisk = function(options) {\n    console.log('Writing recorded blob(s) to disk!');\n    options = options || {};\n    if (options.audio && options.video && options.gif) {\n        options.audio.getDataURL(function(audioDataURL) {\n            options.video.getDataURL(function(videoDataURL) {\n                options.gif.getDataURL(function(gifDataURL) {\n                    DiskStorage.Store({\n                        audioBlob: audioDataURL,\n                        videoBlob: videoDataURL,\n                        gifBlob: gifDataURL\n                    });\n                });\n            });\n        });\n    } else if (options.audio && options.video) {\n        options.audio.getDataURL(function(audioDataURL) {\n            options.video.getDataURL(function(videoDataURL) {\n                DiskStorage.Store({\n                    audioBlob: audioDataURL,\n                    videoBlob: videoDataURL\n                });\n            });\n        });\n    } else if (options.audio && options.gif) {\n        options.audio.getDataURL(function(audioDataURL) {\n            options.gif.getDataURL(function(gifDataURL) {\n                DiskStorage.Store({\n                    audioBlob: audioDataURL,\n                    gifBlob: gifDataURL\n                });\n            });\n        });\n    } else if (options.video && options.gif) {\n        options.video.getDataURL(function(videoDataURL) {\n            options.gif.getDataURL(function(gifDataURL) {\n                DiskStorage.Store({\n                    videoBlob: videoDataURL,\n                    gifBlob: gifDataURL\n                });\n            });\n        });\n    } else if (options.audio) {\n        options.audio.getDataURL(function(audioDataURL) {\n            DiskStorage.Store({\n                audioBlob: audioDataURL\n            });\n        });\n    } else if (options.video) {\n        options.video.getDataURL(function(videoDataURL) {\n            DiskStorage.Store({\n                videoBlob: videoDataURL\n            });\n        });\n    } else if (options.gif) {\n        options.gif.getDataURL(function(gifDataURL) {\n            DiskStorage.Store({\n                gifBlob: gifDataURL\n            });\n        });\n    }\n};\n\n// __________________________\n// RecordRTC-Configuration.js\n\n/**\n * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.\n * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid \"config\" object.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef RecordRTCConfiguration\n * @class\n * @example\n * var options = RecordRTCConfiguration(mediaStream, options);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}\n */\n\nfunction RecordRTCConfiguration(mediaStream, config) {\n    if (!config.recorderType && !config.type) {\n        if (!!config.audio && !!config.video) {\n            config.type = 'video';\n        } else if (!!config.audio && !config.video) {\n            config.type = 'audio';\n        }\n    }\n\n    if (config.recorderType && !config.type) {\n        if (config.recorderType === WhammyRecorder || config.recorderType === CanvasRecorder || (typeof WebAssemblyRecorder !== 'undefined' && config.recorderType === WebAssemblyRecorder)) {\n            config.type = 'video';\n        } else if (config.recorderType === GifRecorder) {\n            config.type = 'gif';\n        } else if (config.recorderType === StereoAudioRecorder) {\n            config.type = 'audio';\n        } else if (config.recorderType === MediaStreamRecorder) {\n            if (getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\n                config.type = 'video';\n            } else if (!getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\n                config.type = 'video';\n            } else if (getTracks(mediaStream, 'audio').length && !getTracks(mediaStream, 'video').length) {\n                config.type = 'audio';\n            } else {\n                // config.type = 'UnKnown';\n            }\n        }\n    }\n\n    if (typeof MediaStreamRecorder !== 'undefined' && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\n        if (!config.mimeType) {\n            config.mimeType = 'video/webm';\n        }\n\n        if (!config.type) {\n            config.type = config.mimeType.split('/')[0];\n        }\n\n        if (!config.bitsPerSecond) {\n            // config.bitsPerSecond = 128000;\n        }\n    }\n\n    // consider default type=audio\n    if (!config.type) {\n        if (config.mimeType) {\n            config.type = config.mimeType.split('/')[0];\n        }\n        if (!config.type) {\n            config.type = 'audio';\n        }\n    }\n\n    return config;\n}\n\n// __________________\n// GetRecorderType.js\n\n/**\n * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.\n * @summary It returns best recorder-type available for your browser.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef GetRecorderType\n * @class\n * @example\n * var RecorderType = GetRecorderType(options);\n * var recorder = new RecorderType(options);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\n */\n\nfunction GetRecorderType(mediaStream, config) {\n    var recorder;\n\n    // StereoAudioRecorder can work with all three: Edge, Firefox and Chrome\n    // todo: detect if it is Edge, then auto use: StereoAudioRecorder\n    if (isChrome || isEdge || isOpera) {\n        // Media Stream Recording API has not been implemented in chrome yet;\n        // That's why using WebAudio API to record stereo audio in WAV format\n        recorder = StereoAudioRecorder;\n    }\n\n    if (typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype && !isChrome) {\n        recorder = MediaStreamRecorder;\n    }\n\n    // video recorder (in WebM format)\n    if (config.type === 'video' && (isChrome || isOpera)) {\n        recorder = WhammyRecorder;\n\n        if (typeof WebAssemblyRecorder !== 'undefined' && typeof ReadableStream !== 'undefined') {\n            recorder = WebAssemblyRecorder;\n        }\n    }\n\n    // video recorder (in Gif format)\n    if (config.type === 'gif') {\n        recorder = GifRecorder;\n    }\n\n    // html2canvas recording!\n    if (config.type === 'canvas') {\n        recorder = CanvasRecorder;\n    }\n\n    if (isMediaRecorderCompatible() && recorder !== CanvasRecorder && recorder !== GifRecorder && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\n        if (getTracks(mediaStream, 'video').length || getTracks(mediaStream, 'audio').length) {\n            // audio-only recording\n            if (config.type === 'audio') {\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('audio/webm')) {\n                    recorder = MediaStreamRecorder;\n                }\n                // else recorder = StereoAudioRecorder;\n            } else {\n                // video or screen tracks\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('video/webm')) {\n                    recorder = MediaStreamRecorder;\n                }\n            }\n        }\n    }\n\n    if (mediaStream instanceof Array && mediaStream.length) {\n        recorder = MultiStreamRecorder;\n    }\n\n    if (config.recorderType) {\n        recorder = config.recorderType;\n    }\n\n    if (!config.disableLogs && !!recorder && !!recorder.name) {\n        console.log('Using recorderType:', recorder.name || recorder.constructor.name);\n    }\n\n    if (!recorder && isSafari) {\n        recorder = MediaStreamRecorder;\n    }\n\n    return recorder;\n}\n\n// _____________\n// MRecordRTC.js\n\n/**\n * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.\n * @summary MRecordRTC stands for \"Multiple-RecordRTC\".\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef MRecordRTC\n * @class\n * @example\n * var recorder = new MRecordRTC();\n * recorder.addStream(MediaStream);\n * recorder.mediaType = {\n *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder\n *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder\n *     gif: true    // or GifRecorder\n * };\n * // mimeType is optional and should be set only in advance cases.\n * recorder.mimeType = {\n *     audio: 'audio/wav',\n *     video: 'video/webm',\n *     gif:   'image/gif'\n * };\n * recorder.startRecording();\n * @see For further information:\n * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @requires {@link RecordRTC}\n */\n\nfunction MRecordRTC(mediaStream) {\n\n    /**\n     * This method attaches MediaStream object to {@link MRecordRTC}.\n     * @param {MediaStream} mediaStream - A MediaStream object, either fetched using getUserMedia API, or generated using captureStreamUntilEnded or WebAudio API.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.addStream(MediaStream);\n     */\n    this.addStream = function(_mediaStream) {\n        if (_mediaStream) {\n            mediaStream = _mediaStream;\n        }\n    };\n\n    /**\n     * This property can be used to set the recording type e.g. audio, or video, or gif, or canvas.\n     * @property {object} mediaType - {audio: true, video: true, gif: true}\n     * @memberof MRecordRTC\n     * @example\n     * var recorder = new MRecordRTC();\n     * recorder.mediaType = {\n     *     audio: true, // TRUE or StereoAudioRecorder or MediaStreamRecorder\n     *     video: true, // TRUE or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder\n     *     gif  : true  // TRUE or GifRecorder\n     * };\n     */\n    this.mediaType = {\n        audio: true,\n        video: true\n    };\n\n    /**\n     * This method starts recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.startRecording();\n     */\n    this.startRecording = function() {\n        var mediaType = this.mediaType;\n        var recorderType;\n        var mimeType = this.mimeType || {\n            audio: null,\n            video: null,\n            gif: null\n        };\n\n        if (typeof mediaType.audio !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'audio').length) {\n            mediaType.audio = false;\n        }\n\n        if (typeof mediaType.video !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\n            mediaType.video = false;\n        }\n\n        if (typeof mediaType.gif !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\n            mediaType.gif = false;\n        }\n\n        if (!mediaType.audio && !mediaType.video && !mediaType.gif) {\n            throw 'MediaStream must have either audio or video tracks.';\n        }\n\n        if (!!mediaType.audio) {\n            recorderType = null;\n            if (typeof mediaType.audio === 'function') {\n                recorderType = mediaType.audio;\n            }\n\n            this.audioRecorder = new RecordRTC(mediaStream, {\n                type: 'audio',\n                bufferSize: this.bufferSize,\n                sampleRate: this.sampleRate,\n                numberOfAudioChannels: this.numberOfAudioChannels || 2,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.audio,\n                timeSlice: this.timeSlice,\n                onTimeStamp: this.onTimeStamp\n            });\n\n            if (!mediaType.video) {\n                this.audioRecorder.startRecording();\n            }\n        }\n\n        if (!!mediaType.video) {\n            recorderType = null;\n            if (typeof mediaType.video === 'function') {\n                recorderType = mediaType.video;\n            }\n\n            var newStream = mediaStream;\n\n            if (isMediaRecorderCompatible() && !!mediaType.audio && typeof mediaType.audio === 'function') {\n                var videoTrack = getTracks(mediaStream, 'video')[0];\n\n                if (isFirefox) {\n                    newStream = new MediaStream();\n                    newStream.addTrack(videoTrack);\n\n                    if (recorderType && recorderType === WhammyRecorder) {\n                        // Firefox does NOT supports webp-encoding yet\n                        // But Firefox do supports WebAssemblyRecorder\n                        recorderType = MediaStreamRecorder;\n                    }\n                } else {\n                    newStream = new MediaStream();\n                    newStream.addTrack(videoTrack);\n                }\n            }\n\n            this.videoRecorder = new RecordRTC(newStream, {\n                type: 'video',\n                video: this.video,\n                canvas: this.canvas,\n                frameInterval: this.frameInterval || 10,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.video,\n                timeSlice: this.timeSlice,\n                onTimeStamp: this.onTimeStamp,\n                workerPath: this.workerPath,\n                webAssemblyPath: this.webAssemblyPath,\n                frameRate: this.frameRate, // used by WebAssemblyRecorder; values: usually 30; accepts any.\n                bitrate: this.bitrate // used by WebAssemblyRecorder; values: 0 to 1000+\n            });\n\n            if (!mediaType.audio) {\n                this.videoRecorder.startRecording();\n            }\n        }\n\n        if (!!mediaType.audio && !!mediaType.video) {\n            var self = this;\n\n            var isSingleRecorder = isMediaRecorderCompatible() === true;\n\n            if (mediaType.audio instanceof StereoAudioRecorder && !!mediaType.video) {\n                isSingleRecorder = false;\n            } else if (mediaType.audio !== true && mediaType.video !== true && mediaType.audio !== mediaType.video) {\n                isSingleRecorder = false;\n            }\n\n            if (isSingleRecorder === true) {\n                self.audioRecorder = null;\n                self.videoRecorder.startRecording();\n            } else {\n                self.videoRecorder.initRecorder(function() {\n                    self.audioRecorder.initRecorder(function() {\n                        // Both recorders are ready to record things accurately\n                        self.videoRecorder.startRecording();\n                        self.audioRecorder.startRecording();\n                    });\n                });\n            }\n        }\n\n        if (!!mediaType.gif) {\n            recorderType = null;\n            if (typeof mediaType.gif === 'function') {\n                recorderType = mediaType.gif;\n            }\n            this.gifRecorder = new RecordRTC(mediaStream, {\n                type: 'gif',\n                frameRate: this.frameRate || 200,\n                quality: this.quality || 10,\n                disableLogs: this.disableLogs,\n                recorderType: recorderType,\n                mimeType: mimeType.gif\n            });\n            this.gifRecorder.startRecording();\n        }\n    };\n\n    /**\n     * This method stops recording.\n     * @param {function} callback - Callback function is invoked when all encoders finished their jobs.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.stopRecording(function(recording){\n     *     var audioBlob = recording.audio;\n     *     var videoBlob = recording.video;\n     *     var gifBlob   = recording.gif;\n     * });\n     */\n    this.stopRecording = function(callback) {\n        callback = callback || function() {};\n\n        if (this.audioRecorder) {\n            this.audioRecorder.stopRecording(function(blobURL) {\n                callback(blobURL, 'audio');\n            });\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.stopRecording(function(blobURL) {\n                callback(blobURL, 'video');\n            });\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.stopRecording(function(blobURL) {\n                callback(blobURL, 'gif');\n            });\n        }\n    };\n\n    /**\n     * This method pauses recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.pauseRecording();\n     */\n    this.pauseRecording = function() {\n        if (this.audioRecorder) {\n            this.audioRecorder.pauseRecording();\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.pauseRecording();\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.pauseRecording();\n        }\n    };\n\n    /**\n     * This method resumes recording.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.resumeRecording();\n     */\n    this.resumeRecording = function() {\n        if (this.audioRecorder) {\n            this.audioRecorder.resumeRecording();\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.resumeRecording();\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.resumeRecording();\n        }\n    };\n\n    /**\n     * This method can be used to manually get all recorded blobs.\n     * @param {function} callback - All recorded blobs are passed back to the \"callback\" function.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.getBlob(function(recording){\n     *     var audioBlob = recording.audio;\n     *     var videoBlob = recording.video;\n     *     var gifBlob   = recording.gif;\n     * });\n     * // or\n     * var audioBlob = recorder.getBlob().audio;\n     * var videoBlob = recorder.getBlob().video;\n     */\n    this.getBlob = function(callback) {\n        var output = {};\n\n        if (this.audioRecorder) {\n            output.audio = this.audioRecorder.getBlob();\n        }\n\n        if (this.videoRecorder) {\n            output.video = this.videoRecorder.getBlob();\n        }\n\n        if (this.gifRecorder) {\n            output.gif = this.gifRecorder.getBlob();\n        }\n\n        if (callback) {\n            callback(output);\n        }\n\n        return output;\n    };\n\n    /**\n     * Destroy all recorder instances.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.destroy();\n     */\n    this.destroy = function() {\n        if (this.audioRecorder) {\n            this.audioRecorder.destroy();\n            this.audioRecorder = null;\n        }\n\n        if (this.videoRecorder) {\n            this.videoRecorder.destroy();\n            this.videoRecorder = null;\n        }\n\n        if (this.gifRecorder) {\n            this.gifRecorder.destroy();\n            this.gifRecorder = null;\n        }\n    };\n\n    /**\n     * This method can be used to manually get all recorded blobs' DataURLs.\n     * @param {function} callback - All recorded blobs' DataURLs are passed back to the \"callback\" function.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.getDataURL(function(recording){\n     *     var audioDataURL = recording.audio;\n     *     var videoDataURL = recording.video;\n     *     var gifDataURL   = recording.gif;\n     * });\n     */\n    this.getDataURL = function(callback) {\n        this.getBlob(function(blob) {\n            if (blob.audio && blob.video) {\n                getDataURL(blob.audio, function(_audioDataURL) {\n                    getDataURL(blob.video, function(_videoDataURL) {\n                        callback({\n                            audio: _audioDataURL,\n                            video: _videoDataURL\n                        });\n                    });\n                });\n            } else if (blob.audio) {\n                getDataURL(blob.audio, function(_audioDataURL) {\n                    callback({\n                        audio: _audioDataURL\n                    });\n                });\n            } else if (blob.video) {\n                getDataURL(blob.video, function(_videoDataURL) {\n                    callback({\n                        video: _videoDataURL\n                    });\n                });\n            }\n        });\n\n        function getDataURL(blob, callback00) {\n            if (typeof Worker !== 'undefined') {\n                var webWorker = processInWebWorker(function readFile(_blob) {\n                    postMessage(new FileReaderSync().readAsDataURL(_blob));\n                });\n\n                webWorker.onmessage = function(event) {\n                    callback00(event.data);\n                };\n\n                webWorker.postMessage(blob);\n            } else {\n                var reader = new FileReader();\n                reader.readAsDataURL(blob);\n                reader.onload = function(event) {\n                    callback00(event.target.result);\n                };\n            }\n        }\n\n        function processInWebWorker(_function) {\n            var blob = URL.createObjectURL(new Blob([_function.toString(),\n                'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\n            ], {\n                type: 'application/javascript'\n            }));\n\n            var worker = new Worker(blob);\n            var url;\n            if (typeof URL !== 'undefined') {\n                url = URL;\n            } else if (typeof webkitURL !== 'undefined') {\n                url = webkitURL;\n            } else {\n                throw 'Neither URL nor webkitURL detected.';\n            }\n            url.revokeObjectURL(blob);\n            return worker;\n        }\n    };\n\n    /**\n     * This method can be used to ask {@link MRecordRTC} to write all recorded blobs into IndexedDB storage.\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.writeToDisk();\n     */\n    this.writeToDisk = function() {\n        RecordRTC.writeToDisk({\n            audio: this.audioRecorder,\n            video: this.videoRecorder,\n            gif: this.gifRecorder\n        });\n    };\n\n    /**\n     * This method can be used to invoke a save-as dialog for all recorded blobs.\n     * @param {object} args - {audio: 'audio-name', video: 'video-name', gif: 'gif-name'}\n     * @method\n     * @memberof MRecordRTC\n     * @example\n     * recorder.save({\n     *     audio: 'audio-file-name',\n     *     video: 'video-file-name',\n     *     gif  : 'gif-file-name'\n     * });\n     */\n    this.save = function(args) {\n        args = args || {\n            audio: true,\n            video: true,\n            gif: true\n        };\n\n        if (!!args.audio && this.audioRecorder) {\n            this.audioRecorder.save(typeof args.audio === 'string' ? args.audio : '');\n        }\n\n        if (!!args.video && this.videoRecorder) {\n            this.videoRecorder.save(typeof args.video === 'string' ? args.video : '');\n        }\n        if (!!args.gif && this.gifRecorder) {\n            this.gifRecorder.save(typeof args.gif === 'string' ? args.gif : '');\n        }\n    };\n}\n\n/**\n * This method can be used to get all recorded blobs from IndexedDB storage.\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\n * @param {function} callback - Callback function to get all stored blobs.\n * @method\n * @memberof MRecordRTC\n * @example\n * MRecordRTC.getFromDisk('all', function(dataURL, type){\n *     if(type === 'audio') { }\n *     if(type === 'video') { }\n *     if(type === 'gif')   { }\n * });\n */\nMRecordRTC.getFromDisk = RecordRTC.getFromDisk;\n\n/**\n * This method can be used to store recorded blobs into IndexedDB storage.\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\n * @method\n * @memberof MRecordRTC\n * @example\n * MRecordRTC.writeToDisk({\n *     audio: audioBlob,\n *     video: videoBlob,\n *     gif  : gifBlob\n * });\n */\nMRecordRTC.writeToDisk = RecordRTC.writeToDisk;\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.MRecordRTC = MRecordRTC;\n}\n\nvar browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\n\n(function(that) {\n    if (!that) {\n        return;\n    }\n\n    if (typeof window !== 'undefined') {\n        return;\n    }\n\n    if (typeof global === 'undefined') {\n        return;\n    }\n\n    global.navigator = {\n        userAgent: browserFakeUserAgent,\n        getUserMedia: function() {}\n    };\n\n    if (!global.console) {\n        global.console = {};\n    }\n\n    if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\n        global.console.error = global.console.log = global.console.log || function() {\n            console.log(arguments);\n        };\n    }\n\n    if (typeof document === 'undefined') {\n        /*global document:true */\n        that.document = {\n            documentElement: {\n                appendChild: function() {\n                    return '';\n                }\n            }\n        };\n\n        document.createElement = document.captureStream = document.mozCaptureStream = function() {\n            var obj = {\n                getContext: function() {\n                    return obj;\n                },\n                play: function() {},\n                pause: function() {},\n                drawImage: function() {},\n                toDataURL: function() {\n                    return '';\n                },\n                style: {}\n            };\n            return obj;\n        };\n\n        that.HTMLVideoElement = function() {};\n    }\n    /* eslint no-restricted-globals:0 */\n    if (typeof location === 'undefined') {\n        /*global location:true */\n        that.location = {\n            protocol: 'file:',  \n            href: '',\n            hash: ''\n        };\n    }\n\n    if (typeof screen === 'undefined') {\n        /*global screen:true */\n        that.screen = {\n            width: 0,\n            height: 0\n        };\n    }\n\n    if (typeof URL === 'undefined') {\n        /*global screen:true */\n        that.URL = {\n            createObjectURL: function() {\n                return '';\n            },\n            revokeObjectURL: function() {\n                return '';\n            }\n        };\n    }\n\n    /*global window:true */\n    that.window = global;\n})(typeof global !== 'undefined' ? global : null);\n\n// _____________________________\n// Cross-Browser-Declarations.js\n\n// animation-frame used in WebM recording\n\n/*jshint -W079 */\nvar requestAnimationFrame = window.requestAnimationFrame;\nif (typeof requestAnimationFrame === 'undefined') {\n    if (typeof webkitRequestAnimationFrame !== 'undefined') {\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = webkitRequestAnimationFrame;\n    } else if (typeof mozRequestAnimationFrame !== 'undefined') {\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = mozRequestAnimationFrame;\n    } else if (typeof msRequestAnimationFrame !== 'undefined') {\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = msRequestAnimationFrame;\n    } else if (typeof requestAnimationFrame === 'undefined') {\n        // via: https://gist.github.com/paulirish/1579671\n        var lastTime = 0;\n\n        /*global requestAnimationFrame:true */\n        requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = setTimeout(function() {\n                callback(currTime + timeToCall);\n            }, timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n    }\n}\n\n/*jshint -W079 */\nvar cancelAnimationFrame = window.cancelAnimationFrame;\nif (typeof cancelAnimationFrame === 'undefined') {\n    if (typeof webkitCancelAnimationFrame !== 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = webkitCancelAnimationFrame;\n    } else if (typeof mozCancelAnimationFrame !== 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = mozCancelAnimationFrame;\n    } else if (typeof msCancelAnimationFrame !== 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = msCancelAnimationFrame;\n    } else if (typeof cancelAnimationFrame === 'undefined') {\n        /*global cancelAnimationFrame:true */\n        cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n    }\n}\n\n// WebAudio API representer\nvar AudioContext = window.AudioContext;\n\nif (typeof AudioContext === 'undefined') {\n    if (typeof webkitAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = webkitAudioContext;\n    }\n\n    if (typeof mozAudioContext !== 'undefined') {\n        /*global AudioContext:true */\n        AudioContext = mozAudioContext;\n    }\n}\n\n/*jshint -W079 */\nvar URL = window.URL;\n\nif (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\n    /*global URL:true */\n    URL = webkitURL;\n}\n\nif (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\n    if (typeof navigator.webkitGetUserMedia !== 'undefined') {\n        navigator.getUserMedia = navigator.webkitGetUserMedia;\n    }\n\n    if (typeof navigator.mozGetUserMedia !== 'undefined') {\n        navigator.getUserMedia = navigator.mozGetUserMedia;\n    }\n}\n\nvar isEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveBlob || !!navigator.msSaveOrOpenBlob);\nvar isOpera = !!window.opera || navigator.userAgent.indexOf('OPR/') !== -1;\nvar isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 && ('netscape' in window) && / rv:/.test(navigator.userAgent);\nvar isChrome = (!isOpera && !isEdge && !!navigator.webkitGetUserMedia) || isElectron() || navigator.userAgent.toLowerCase().indexOf('chrome/') !== -1;\n\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\nif (isSafari && !isChrome && navigator.userAgent.indexOf('CriOS') !== -1) {\n    isSafari = false;\n    isChrome = true;\n}\n\nvar MediaStream = window.MediaStream;\n\nif (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\n    MediaStream = webkitMediaStream;\n}\n\n/*global MediaStream:true */\nif (typeof MediaStream !== 'undefined') {\n    // override \"stop\" method for all browsers\n    if (typeof MediaStream.prototype.stop === 'undefined') {\n        MediaStream.prototype.stop = function() {\n            this.getTracks().forEach(function(track) {\n                track.stop();\n            });\n        };\n    }\n}\n\n// below function via: http://goo.gl/B3ae8c\n/**\n * Return human-readable file size.\n * @param {number} bytes - Pass bytes and get formatted string.\n * @returns {string} - formatted string\n * @example\n * bytesToSize(1024*1024*5) === '5 GB'\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\nfunction bytesToSize(bytes) {\n    var k = 1000;\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes === 0) {\n        return '0 Bytes';\n    }\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);\n    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\n}\n\n/**\n * @param {Blob} file - File or Blob object. This parameter is required.\n * @param {string} fileName - Optional file name e.g. \"Recorded-Video.webm\"\n * @example\n * invokeSaveAsDialog(blob or file, [optional] fileName);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\nfunction invokeSaveAsDialog(file, fileName) {\n    if (!file) {\n        throw 'Blob object is required.';\n    }\n\n    if (!file.type) {\n        try {\n            file.type = 'video/webm';\n        } catch (e) {}\n    }\n\n    var fileExtension = (file.type || 'video/webm').split('/')[1];\n\n    if (fileName && fileName.indexOf('.') !== -1) {\n        var splitted = fileName.split('.');\n        fileName = splitted[0];\n        fileExtension = splitted[1];\n    }\n\n    var fileFullName = (fileName || (Math.round(Math.random() * 9999999999) + 888888888)) + '.' + fileExtension;\n\n    if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\n        return navigator.msSaveOrOpenBlob(file, fileFullName);\n    } else if (typeof navigator.msSaveBlob !== 'undefined') {\n        return navigator.msSaveBlob(file, fileFullName);\n    }\n\n    var hyperlink = document.createElement('a');\n    hyperlink.href = URL.createObjectURL(file);\n    hyperlink.download = fileFullName;\n\n    hyperlink.style = 'display:none;opacity:0;color:transparent;';\n    (document.body || document.documentElement).appendChild(hyperlink);\n\n    if (typeof hyperlink.click === 'function') {\n        hyperlink.click();\n    } else {\n        hyperlink.target = '_blank';\n        hyperlink.dispatchEvent(new MouseEvent('click', {\n            view: window,\n            bubbles: true,\n            cancelable: true\n        }));\n    }\n\n    URL.revokeObjectURL(hyperlink.href);\n}\n\n/**\n * from: https://github.com/cheton/is-electron/blob/master/index.js\n **/\nfunction isElectron() {\n    // Renderer process\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n        return true;\n    }\n\n    // Main process\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n        return true;\n    }\n\n    // Detect the user agent when the `nodeIntegration` option is set to true\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction getTracks(stream, kind) {\n    if (!stream || !stream.getTracks) {\n        return [];\n    }\n\n    return stream.getTracks().filter(function(t) {\n        return t.kind === (kind || 'audio');\n    });\n}\n\nfunction setSrcObject(stream, element) {\n    if ('srcObject' in element) {\n        element.srcObject = stream;\n    } else if ('mozSrcObject' in element) {\n        element.mozSrcObject = stream;\n    } else {\n        element.srcObject = stream;\n    }\n}\n\n/**\n * @param {Blob} file - File or Blob object.\n * @param {function} callback - Callback function.\n * @example\n * getSeekableBlob(blob or file, callback);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\nfunction getSeekableBlob(inputBlob, callback) {\n    // EBML.js copyrights goes to: https://github.com/legokichi/ts-ebml\n    if (typeof EBML === 'undefined') {\n        throw new Error('Please link: https://www.webrtc-experiment.com/EBML.js');\n    }\n\n    var reader = new EBML.Reader();\n    var decoder = new EBML.Decoder();\n    var tools = EBML.tools;\n\n    var fileReader = new FileReader();\n    fileReader.onload = function(e) {\n        var ebmlElms = decoder.decode(this.result);\n        ebmlElms.forEach(function(element) {\n            reader.read(element);\n        });\n        reader.stop();\n        var refinedMetadataBuf = tools.makeMetadataSeekable(reader.metadatas, reader.duration, reader.cues);\n        var body = this.result.slice(reader.metadataSize);\n        var newBlob = new Blob([refinedMetadataBuf, body], {\n            type: 'video/webm'\n        });\n\n        callback(newBlob);\n    };\n    fileReader.readAsArrayBuffer(inputBlob);\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.invokeSaveAsDialog = invokeSaveAsDialog;\n    RecordRTC.getTracks = getTracks;\n    RecordRTC.getSeekableBlob = getSeekableBlob;\n    RecordRTC.bytesToSize = bytesToSize;\n    RecordRTC.isElectron = isElectron;\n}\n\n// __________ (used to handle stuff like http://goo.gl/xmE5eg) issue #129\n// Storage.js\n\n/**\n * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. \"new AudioContext\".\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @example\n * Storage.AudioContext === webkitAudioContext\n * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\nvar Storage = {};\n\nif (typeof AudioContext !== 'undefined') {\n    Storage.AudioContext = AudioContext;\n} else if (typeof webkitAudioContext !== 'undefined') {\n    Storage.AudioContext = webkitAudioContext;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.Storage = Storage;\n}\n\nfunction isMediaRecorderCompatible() {\n    if (isFirefox || isSafari || isEdge) {\n        return true;\n    }\n\n    var nVer = navigator.appVersion;\n    var nAgt = navigator.userAgent;\n    var fullVersion = '' + parseFloat(navigator.appVersion);\n    var majorVersion = parseInt(navigator.appVersion, 10);\n    var nameOffset, verOffset, ix;\n\n    if (isChrome || isOpera) {\n        verOffset = nAgt.indexOf('Chrome');\n        fullVersion = nAgt.substring(verOffset + 7);\n    }\n\n    // trim the fullVersion string at semicolon/space if present\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\n        fullVersion = fullVersion.substring(0, ix);\n    }\n\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\n        fullVersion = fullVersion.substring(0, ix);\n    }\n\n    majorVersion = parseInt('' + fullVersion, 10);\n\n    if (isNaN(majorVersion)) {\n        fullVersion = '' + parseFloat(navigator.appVersion);\n        majorVersion = parseInt(navigator.appVersion, 10);\n    }\n\n    return majorVersion >= 49;\n}\n\n// ______________________\n// MediaStreamRecorder.js\n\n/**\n * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.\n * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://github.com/muaz-khan|Muaz Khan}\n * @typedef MediaStreamRecorder\n * @class\n * @example\n * var config = {\n *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis\n *     audioBitsPerSecond : 256 * 8 * 1024,\n *     videoBitsPerSecond : 256 * 8 * 1024,\n *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two\n *     checkForInactiveTracks: true,\n *     timeSlice: 1000, // concatenate intervals based blobs\n *     ondataavailable: function() {} // get intervals based blobs\n * }\n * var recorder = new MediaStreamRecorder(mediaStream, config);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n *\n *     // or\n *     var blob = recorder.blob;\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {disableLogs:true, initCallback: function, mimeType: \"video/webm\", timeSlice: 1000}\n * @throws Will throw an error if first argument \"MediaStream\" is missing. Also throws error if \"MediaRecorder API\" are not supported by the browser.\n */\n\nfunction MediaStreamRecorder(mediaStream, config) {\n    var self = this;\n\n    if (typeof mediaStream === 'undefined') {\n        throw 'First argument \"MediaStream\" is required.';\n    }\n\n    if (typeof MediaRecorder === 'undefined') {\n        throw 'Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.';\n    }\n\n    config = config || {\n        // bitsPerSecond: 256 * 8 * 1024,\n        mimeType: 'video/webm'\n    };\n\n    if (config.type === 'audio') {\n        if (getTracks(mediaStream, 'video').length && getTracks(mediaStream, 'audio').length) {\n            var stream;\n            if (!!navigator.mozGetUserMedia) {\n                stream = new MediaStream();\n                stream.addTrack(getTracks(mediaStream, 'audio')[0]);\n            } else {\n                // webkitMediaStream\n                stream = new MediaStream(getTracks(mediaStream, 'audio'));\n            }\n            mediaStream = stream;\n        }\n\n        if (!config.mimeType || config.mimeType.toString().toLowerCase().indexOf('audio') === -1) {\n            config.mimeType = isChrome ? 'audio/webm' : 'audio/ogg';\n        }\n\n        if (config.mimeType && config.mimeType.toString().toLowerCase() !== 'audio/ogg' && !!navigator.mozGetUserMedia) {\n            // forcing better codecs on Firefox (via #166)\n            config.mimeType = 'audio/ogg';\n        }\n    }\n\n    var arrayOfBlobs = [];\n\n    /**\n     * This method returns array of blobs. Use only with \"timeSlice\". Its useful to preview recording anytime, without using the \"stop\" method.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * var arrayOfBlobs = recorder.getArrayOfBlobs();\n     * @returns {Array} Returns array of recorded blobs.\n     */\n    this.getArrayOfBlobs = function() {\n        return arrayOfBlobs;\n    };\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        // set defaults\n        self.blob = null;\n        self.clearRecordedData();\n        self.timestamps = [];\n        allStates = [];\n        arrayOfBlobs = [];\n\n        var recorderHints = config;\n\n        if (!config.disableLogs) {\n            console.log('Passing following config over MediaRecorder API.', recorderHints);\n        }\n\n        if (mediaRecorder) {\n            // mandatory to make sure Firefox doesn't fails to record streams 3-4 times without reloading the page.\n            mediaRecorder = null;\n        }\n\n        if (isChrome && !isMediaRecorderCompatible()) {\n            // to support video-only recording on stable\n            recorderHints = 'video/vp8';\n        }\n\n        if (typeof MediaRecorder.isTypeSupported === 'function' && recorderHints.mimeType) {\n            if (!MediaRecorder.isTypeSupported(recorderHints.mimeType)) {\n                if (!config.disableLogs) {\n                    console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\n                }\n\n                recorderHints.mimeType = config.type === 'audio' ? 'audio/webm' : 'video/webm';\n            }\n        }\n\n        // using MediaRecorder API here\n        try {\n            mediaRecorder = new MediaRecorder(mediaStream, recorderHints);\n\n            // reset\n            config.mimeType = recorderHints.mimeType;\n        } catch (e) {\n            // chrome-based fallback\n            mediaRecorder = new MediaRecorder(mediaStream);\n        }\n\n        // old hack?\n        if (recorderHints.mimeType && !MediaRecorder.isTypeSupported && 'canRecordMimeType' in mediaRecorder && mediaRecorder.canRecordMimeType(recorderHints.mimeType) === false) {\n            if (!config.disableLogs) {\n                console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\n            }\n        }\n\n        // Dispatching OnDataAvailable Handler\n        mediaRecorder.ondataavailable = function(e) {\n            if (e.data) {\n                allStates.push('ondataavailable: ' + bytesToSize(e.data.size));\n            }\n\n            if (typeof config.timeSlice === 'number') {\n                if (e.data && e.data.size && e.data.size > 100) {\n                    arrayOfBlobs.push(e.data);\n                    updateTimeStamp();\n\n                    if (typeof config.ondataavailable === 'function') {\n                        // intervals based blobs\n                        var blob = config.getNativeBlob ? e.data : new Blob([e.data], {\n                            type: getMimeType(recorderHints)\n                        });\n                        config.ondataavailable(blob);\n                    }\n                }\n                return;\n            }\n\n            if (!e.data || !e.data.size || e.data.size < 100 || self.blob) {\n                // make sure that stopRecording always getting fired\n                // even if there is invalid data\n                if (self.recordingCallback) {\n                    self.recordingCallback(new Blob([], {\n                        type: getMimeType(recorderHints)\n                    }));\n                    self.recordingCallback = null;\n                }\n                return;\n            }\n\n            self.blob = config.getNativeBlob ? e.data : new Blob([e.data], {\n                type: getMimeType(recorderHints)\n            });\n\n            if (self.recordingCallback) {\n                self.recordingCallback(self.blob);\n                self.recordingCallback = null;\n            }\n        };\n\n        mediaRecorder.onstart = function() {\n            allStates.push('started');\n        };\n\n        mediaRecorder.onpause = function() {\n            allStates.push('paused');\n        };\n\n        mediaRecorder.onresume = function() {\n            allStates.push('resumed');\n        };\n\n        mediaRecorder.onstop = function() {\n            allStates.push('stopped');\n        };\n\n        mediaRecorder.onerror = function(error) {\n            if (!error) {\n                return;\n            }\n\n            if (!error.name) {\n                error.name = 'UnknownError';\n            }\n\n            allStates.push('error: ' + error);\n\n            if (!config.disableLogs) {\n                // via: https://w3c.github.io/mediacapture-record/MediaRecorder.html#exception-summary\n                if (error.name.toString().toLowerCase().indexOf('invalidstate') !== -1) {\n                    console.error('The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.', error);\n                } else if (error.name.toString().toLowerCase().indexOf('notsupported') !== -1) {\n                    console.error('MIME type (', recorderHints.mimeType, ') is not supported.', error);\n                } else if (error.name.toString().toLowerCase().indexOf('security') !== -1) {\n                    console.error('MediaRecorder security error', error);\n                }\n\n                // older code below\n                else if (error.name === 'OutOfMemory') {\n                    console.error('The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\n                } else if (error.name === 'IllegalStreamModification') {\n                    console.error('A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\n                } else if (error.name === 'OtherRecordingError') {\n                    console.error('Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\n                } else if (error.name === 'GenericError') {\n                    console.error('The UA cannot provide the codec or recording option that has been requested.', error);\n                } else {\n                    console.error('MediaRecorder Error', error);\n                }\n            }\n\n            (function(looper) {\n                if (!self.manuallyStopped && mediaRecorder && mediaRecorder.state === 'inactive') {\n                    delete config.timeslice;\n\n                    // 10 minutes, enough?\n                    mediaRecorder.start(10 * 60 * 1000);\n                    return;\n                }\n\n                setTimeout(looper, 1000);\n            })();\n\n            if (mediaRecorder.state !== 'inactive' && mediaRecorder.state !== 'stopped') {\n                mediaRecorder.stop();\n            }\n        };\n\n        if (typeof config.timeSlice === 'number') {\n            updateTimeStamp();\n            mediaRecorder.start(config.timeSlice);\n        } else {\n            // default is 60 minutes; enough?\n            // use config => {timeSlice: 1000} otherwise\n\n            mediaRecorder.start(3.6e+6);\n        }\n\n        if (config.initCallback) {\n            config.initCallback(); // old code\n        }\n    };\n\n    /**\n     * @property {Array} timestamps - Array of time stamps\n     * @memberof MediaStreamRecorder\n     * @example\n     * console.log(recorder.timestamps);\n     */\n    this.timestamps = [];\n\n    function updateTimeStamp() {\n        self.timestamps.push(new Date().getTime());\n\n        if (typeof config.onTimeStamp === 'function') {\n            config.onTimeStamp(self.timestamps[self.timestamps.length - 1], self.timestamps);\n        }\n    }\n\n    function getMimeType(secondObject) {\n        if (mediaRecorder && mediaRecorder.mimeType) {\n            return mediaRecorder.mimeType;\n        }\n\n        return secondObject.mimeType || 'video/webm';\n    }\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        callback = callback || function() {};\n\n        self.manuallyStopped = true; // used inside the mediaRecorder.onerror\n\n        if (!mediaRecorder) {\n            return;\n        }\n\n        this.recordingCallback = callback;\n\n        if (mediaRecorder.state === 'recording') {\n            mediaRecorder.stop();\n        }\n\n        if (typeof config.timeSlice === 'number') {\n            setTimeout(function() {\n                self.blob = new Blob(arrayOfBlobs, {\n                    type: getMimeType(config)\n                });\n\n                self.recordingCallback(self.blob);\n            }, 100);\n        }\n    };\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (mediaRecorder.state === 'recording') {\n            mediaRecorder.pause();\n        }\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        if (mediaRecorder.state === 'paused') {\n            mediaRecorder.resume();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        if (mediaRecorder && mediaRecorder.state === 'recording') {\n            self.stop(clearRecordedDataCB);\n        }\n\n        clearRecordedDataCB();\n    };\n\n    function clearRecordedDataCB() {\n        arrayOfBlobs = [];\n        mediaRecorder = null;\n        self.timestamps = [];\n    }\n\n    // Reference to \"MediaRecorder\" object\n    var mediaRecorder;\n\n    /**\n     * Access to native MediaRecorder API\n     * @method\n     * @memberof MediaStreamRecorder\n     * @instance\n     * @example\n     * var internal = recorder.getInternalRecorder();\n     * internal.ondataavailable = function() {}; // override\n     * internal.stream, internal.onpause, internal.onstop, etc.\n     * @returns {Object} Returns internal recording object.\n     */\n    this.getInternalRecorder = function() {\n        return mediaRecorder;\n    };\n\n    function isMediaStreamActive() {\n        if ('active' in mediaStream) {\n            if (!mediaStream.active) {\n                return false;\n            }\n        } else if ('ended' in mediaStream) { // old hack\n            if (mediaStream.ended) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\n     * @memberof MediaStreamRecorder\n     * @example\n     * recorder.stop(function() {\n     *     var blob = recorder.blob;\n     * });\n     */\n    this.blob = null;\n\n\n    /**\n     * Get MediaRecorder readonly state.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * var state = recorder.getState();\n     * @returns {String} Returns recording state.\n     */\n    this.getState = function() {\n        if (!mediaRecorder) {\n            return 'inactive';\n        }\n\n        return mediaRecorder.state || 'inactive';\n    };\n\n    // list of all recording states\n    var allStates = [];\n\n    /**\n     * Get MediaRecorder all recording states.\n     * @method\n     * @memberof MediaStreamRecorder\n     * @example\n     * var state = recorder.getAllStates();\n     * @returns {Array} Returns all recording states\n     */\n    this.getAllStates = function() {\n        return allStates;\n    };\n\n    // if any Track within the MediaStream is muted or not enabled at any time, \n    // the browser will only record black frames \n    // or silence since that is the content produced by the Track\n    // so we need to stopRecording as soon as any single track ends.\n    if (typeof config.checkForInactiveTracks === 'undefined') {\n        config.checkForInactiveTracks = false; // disable to minimize CPU usage\n    }\n\n    var self = this;\n\n    // this method checks if media stream is stopped\n    // or if any track is ended.\n    (function looper() {\n        if (!mediaRecorder || config.checkForInactiveTracks === false) {\n            return;\n        }\n\n        if (isMediaStreamActive() === false) {\n            if (!config.disableLogs) {\n                console.log('MediaStream seems stopped.');\n            }\n            self.stop();\n            return;\n        }\n\n        setTimeout(looper, 1000); // check every second\n    })();\n\n    // for debugging\n    this.name = 'MediaStreamRecorder';\n    this.toString = function() {\n        return this.name;\n    };\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.MediaStreamRecorder = MediaStreamRecorder;\n}\n\n// source code from: http://typedarray.org/wp-content/projects/WebAudioRecorder/script.js\n// https://github.com/mattdiamond/Recorderjs#license-mit\n// ______________________\n// StereoAudioRecorder.js\n\n/**\n * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring \"stereo\" audio-recording in chrome.\n * @summary JavaScript standalone object for stereo audio recording.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef StereoAudioRecorder\n * @class\n * @example\n * var recorder = new StereoAudioRecorder(MediaStream, {\n *     sampleRate: 44100,\n *     bufferSize: 4096\n * });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}\n */\n\nfunction StereoAudioRecorder(mediaStream, config) {\n    if (!getTracks(mediaStream, 'audio').length) {\n        throw 'Your stream has no audio tracks.';\n    }\n\n    config = config || {};\n\n    var self = this;\n\n    // variables\n    var leftchannel = [];\n    var rightchannel = [];\n    var recording = false;\n    var recordingLength = 0;\n    var jsAudioNode;\n\n    var numberOfAudioChannels = 2;\n\n    /**\n     * Set sample rates such as 8K or 16K. Reference: http://stackoverflow.com/a/28977136/552182\n     * @property {number} desiredSampRate - Desired Bits per sample * 1000\n     * @memberof StereoAudioRecorder\n     * @instance\n     * @example\n     * var recorder = StereoAudioRecorder(mediaStream, {\n     *   desiredSampRate: 16 * 1000 // bits-per-sample * 1000\n     * });\n     */\n    var desiredSampRate = config.desiredSampRate;\n\n    // backward compatibility\n    if (config.leftChannel === true) {\n        numberOfAudioChannels = 1;\n    }\n\n    if (config.numberOfAudioChannels === 1) {\n        numberOfAudioChannels = 1;\n    }\n\n    if (!numberOfAudioChannels || numberOfAudioChannels < 1) {\n        numberOfAudioChannels = 2;\n    }\n\n    if (!config.disableLogs) {\n        console.log('StereoAudioRecorder is set to record number of channels: ' + numberOfAudioChannels);\n    }\n\n    // if any Track within the MediaStream is muted or not enabled at any time, \n    // the browser will only record black frames \n    // or silence since that is the content produced by the Track\n    // so we need to stopRecording as soon as any single track ends.\n    if (typeof config.checkForInactiveTracks === 'undefined') {\n        config.checkForInactiveTracks = true;\n    }\n\n    function isMediaStreamActive() {\n        if (config.checkForInactiveTracks === false) {\n            // always return \"true\"\n            return true;\n        }\n\n        if ('active' in mediaStream) {\n            if (!mediaStream.active) {\n                return false;\n            }\n        } else if ('ended' in mediaStream) { // old hack\n            if (mediaStream.ended) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        if (isMediaStreamActive() === false) {\n            throw 'Please make sure MediaStream is active.';\n        }\n\n        resetVariables();\n\n        isAudioProcessStarted = isPaused = false;\n        recording = true;\n\n        if (typeof config.timeSlice !== 'undefined') {\n            looper();\n        }\n    };\n\n    function mergeLeftRightBuffers(config, callback) {\n        function mergeAudioBuffers(config, cb) {\n            var numberOfAudioChannels = config.numberOfAudioChannels;\n\n            // todo: \"slice(0)\" --- is it causes loop? Should be removed?\n            var leftBuffers = config.leftBuffers.slice(0);\n            var rightBuffers = config.rightBuffers.slice(0);\n            var sampleRate = config.sampleRate;\n            var internalInterleavedLength = config.internalInterleavedLength;\n            var desiredSampRate = config.desiredSampRate;\n\n            if (numberOfAudioChannels === 2) {\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\n                rightBuffers = mergeBuffers(rightBuffers, internalInterleavedLength);\n\n                if (desiredSampRate) {\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\n                    rightBuffers = interpolateArray(rightBuffers, desiredSampRate, sampleRate);\n                }\n            }\n\n            if (numberOfAudioChannels === 1) {\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\n\n                if (desiredSampRate) {\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\n                }\n            }\n\n            // set sample rate as desired sample rate\n            if (desiredSampRate) {\n                sampleRate = desiredSampRate;\n            }\n\n            // for changing the sampling rate, reference:\n            // http://stackoverflow.com/a/28977136/552182\n            function interpolateArray(data, newSampleRate, oldSampleRate) {\n                var fitCount = Math.round(data.length * (newSampleRate / oldSampleRate));\n                var newData = [];\n                var springFactor = Number((data.length - 1) / (fitCount - 1));\n                newData[0] = data[0];\n                for (var i = 1; i < fitCount - 1; i++) {\n                    var tmp = i * springFactor;\n                    var before = Number(Math.floor(tmp)).toFixed();\n                    var after = Number(Math.ceil(tmp)).toFixed();\n                    var atPoint = tmp - before;\n                    newData[i] = linearInterpolate(data[before], data[after], atPoint);\n                }\n                newData[fitCount - 1] = data[data.length - 1];\n                return newData;\n            }\n\n            function linearInterpolate(before, after, atPoint) {\n                return before + (after - before) * atPoint;\n            }\n\n            function mergeBuffers(channelBuffer, rLength) {\n                var result = new Float64Array(rLength);\n                var offset = 0;\n                var lng = channelBuffer.length;\n\n                for (var i = 0; i < lng; i++) {\n                    var buffer = channelBuffer[i];\n                    result.set(buffer, offset);\n                    offset += buffer.length;\n                }\n\n                return result;\n            }\n\n            function interleave(leftChannel, rightChannel) {\n                var length = leftChannel.length + rightChannel.length;\n\n                var result = new Float64Array(length);\n\n                var inputIndex = 0;\n\n                for (var index = 0; index < length;) {\n                    result[index++] = leftChannel[inputIndex];\n                    result[index++] = rightChannel[inputIndex];\n                    inputIndex++;\n                }\n                return result;\n            }\n\n            function writeUTFBytes(view, offset, string) {\n                var lng = string.length;\n                for (var i = 0; i < lng; i++) {\n                    view.setUint8(offset + i, string.charCodeAt(i));\n                }\n            }\n\n            // interleave both channels together\n            var interleaved;\n\n            if (numberOfAudioChannels === 2) {\n                interleaved = interleave(leftBuffers, rightBuffers);\n            }\n\n            if (numberOfAudioChannels === 1) {\n                interleaved = leftBuffers;\n            }\n\n            var interleavedLength = interleaved.length;\n\n            // create wav file\n            var resultingBufferLength = 44 + interleavedLength * 2;\n\n            var buffer = new ArrayBuffer(resultingBufferLength);\n\n            var view = new DataView(buffer);\n\n            // RIFF chunk descriptor/identifier \n            writeUTFBytes(view, 0, 'RIFF');\n\n            // RIFF chunk length\n            // changed \"44\" to \"36\" via #401\n            view.setUint32(4, 36 + interleavedLength * 2, true);\n\n            // RIFF type \n            writeUTFBytes(view, 8, 'WAVE');\n\n            // format chunk identifier \n            // FMT sub-chunk\n            writeUTFBytes(view, 12, 'fmt ');\n\n            // format chunk length \n            view.setUint32(16, 16, true);\n\n            // sample format (raw)\n            view.setUint16(20, 1, true);\n\n            // stereo (2 channels)\n            view.setUint16(22, numberOfAudioChannels, true);\n\n            // sample rate \n            view.setUint32(24, sampleRate, true);\n\n            // byte rate (sample rate * block align)\n            view.setUint32(28, sampleRate * 2, true);\n\n            // block align (channel count * bytes per sample) \n            view.setUint16(32, numberOfAudioChannels * 2, true);\n\n            // bits per sample \n            view.setUint16(34, 16, true);\n\n            // data sub-chunk\n            // data chunk identifier \n            writeUTFBytes(view, 36, 'data');\n\n            // data chunk length \n            view.setUint32(40, interleavedLength * 2, true);\n\n            // write the PCM samples\n            var lng = interleavedLength;\n            var index = 44;\n            var volume = 1;\n            for (var i = 0; i < lng; i++) {\n                view.setInt16(index, interleaved[i] * (0x7FFF * volume), true);\n                index += 2;\n            }\n\n            if (cb) {\n                return cb({\n                    buffer: buffer,\n                    view: view\n                });\n            }\n\n            postMessage({\n                buffer: buffer,\n                view: view\n            });\n        }\n\n        if (config.noWorker) {\n            mergeAudioBuffers(config, function(data) {\n                callback(data.buffer, data.view);\n            });\n            return;\n        }\n\n\n        var webWorker = processInWebWorker(mergeAudioBuffers);\n\n        webWorker.onmessage = function(event) {\n            callback(event.data.buffer, event.data.view);\n\n            // release memory\n            URL.revokeObjectURL(webWorker.workerURL);\n\n            // kill webworker (or Chrome will kill your page after ~25 calls)\n            webWorker.terminate();\n        };\n\n        webWorker.postMessage(config);\n    }\n\n    function processInWebWorker(_function) {\n        var workerURL = URL.createObjectURL(new Blob([_function.toString(),\n            ';this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\n        ], {\n            type: 'application/javascript'\n        }));\n\n        var worker = new Worker(workerURL);\n        worker.workerURL = workerURL;\n        return worker;\n    }\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        callback = callback || function() {};\n\n        // stop recording\n        recording = false;\n\n        mergeLeftRightBuffers({\n            desiredSampRate: desiredSampRate,\n            sampleRate: sampleRate,\n            numberOfAudioChannels: numberOfAudioChannels,\n            internalInterleavedLength: recordingLength,\n            leftBuffers: leftchannel,\n            rightBuffers: numberOfAudioChannels === 1 ? [] : rightchannel,\n            noWorker: config.noWorker\n        }, function(buffer, view) {\n            /**\n             * @property {Blob} blob - The recorded blob object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var blob = recorder.blob;\n             * });\n             */\n            self.blob = new Blob([view], {\n                type: 'audio/wav'\n            });\n\n            /**\n             * @property {ArrayBuffer} buffer - The recorded buffer object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var buffer = recorder.buffer;\n             * });\n             */\n            self.buffer = new ArrayBuffer(view.buffer.byteLength);\n\n            /**\n             * @property {DataView} view - The recorded data-view object.\n             * @memberof StereoAudioRecorder\n             * @example\n             * recorder.stop(function(){\n             *     var view = recorder.view;\n             * });\n             */\n            self.view = view;\n\n            self.sampleRate = desiredSampRate || sampleRate;\n            self.bufferSize = bufferSize;\n\n            // recorded audio length\n            self.length = recordingLength;\n\n            isAudioProcessStarted = false;\n\n            if (callback) {\n                callback(self.blob);\n            }\n        });\n    };\n\n    if (typeof RecordRTC.Storage === 'undefined') {\n        RecordRTC.Storage = {\n            AudioContextConstructor: null,\n            AudioContext: window.AudioContext || window.webkitAudioContext\n        };\n    }\n\n    if (!RecordRTC.Storage.AudioContextConstructor || RecordRTC.Storage.AudioContextConstructor.state === 'closed') {\n        RecordRTC.Storage.AudioContextConstructor = new RecordRTC.Storage.AudioContext();\n    }\n\n    var context = RecordRTC.Storage.AudioContextConstructor;\n\n    // creates an audio node from the microphone incoming stream\n    var audioInput = context.createMediaStreamSource(mediaStream);\n\n    var legalBufferValues = [0, 256, 512, 1024, 2048, 4096, 8192, 16384];\n\n    /**\n     * From the spec: This value controls how frequently the audioprocess event is\n     * dispatched and how many sample-frames need to be processed each call.\n     * Lower values for buffer size will result in a lower (better) latency.\n     * Higher values will be necessary to avoid audio breakup and glitches\n     * The size of the buffer (in sample-frames) which needs to\n     * be processed each time onprocessaudio is called.\n     * Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).\n     * @property {number} bufferSize - Buffer-size for how frequently the audioprocess event is dispatched.\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder = new StereoAudioRecorder(mediaStream, {\n     *     bufferSize: 4096\n     * });\n     */\n\n    // \"0\" means, let chrome decide the most accurate buffer-size for current platform.\n    var bufferSize = typeof config.bufferSize === 'undefined' ? 4096 : config.bufferSize;\n\n    if (legalBufferValues.indexOf(bufferSize) === -1) {\n        if (!config.disableLogs) {\n            console.log('Legal values for buffer-size are ' + JSON.stringify(legalBufferValues, null, '\\t'));\n        }\n    }\n\n    if (context.createJavaScriptNode) {\n        jsAudioNode = context.createJavaScriptNode(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\n    } else if (context.createScriptProcessor) {\n        jsAudioNode = context.createScriptProcessor(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\n    } else {\n        throw 'WebAudio API has no support on this browser.';\n    }\n\n    // connect the stream to the script processor\n    audioInput.connect(jsAudioNode);\n\n    if (!config.bufferSize) {\n        bufferSize = jsAudioNode.bufferSize; // device buffer-size\n    }\n\n    /**\n     * The sample rate (in sample-frames per second) at which the\n     * AudioContext handles audio. It is assumed that all AudioNodes\n     * in the context run at this rate. In making this assumption,\n     * sample-rate converters or \"varispeed\" processors are not supported\n     * in real-time processing.\n     * The sampleRate parameter describes the sample-rate of the\n     * linear PCM audio data in the buffer in sample-frames per second.\n     * An implementation must support sample-rates in at least\n     * the range 22050 to 96000.\n     * @property {number} sampleRate - Buffer-size for how frequently the audioprocess event is dispatched.\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder = new StereoAudioRecorder(mediaStream, {\n     *     sampleRate: 44100\n     * });\n     */\n    var sampleRate = typeof config.sampleRate !== 'undefined' ? config.sampleRate : context.sampleRate || 44100;\n\n    if (sampleRate < 22050 || sampleRate > 96000) {\n        // Ref: http://stackoverflow.com/a/26303918/552182\n        if (!config.disableLogs) {\n            console.log('sample-rate must be under range 22050 and 96000.');\n        }\n    }\n\n    if (!config.disableLogs) {\n        if (config.desiredSampRate) {\n            console.log('Desired sample-rate: ' + config.desiredSampRate);\n        }\n    }\n\n    var isPaused = false;\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPaused = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        if (isMediaStreamActive() === false) {\n            throw 'Please make sure MediaStream is active.';\n        }\n\n        if (!recording) {\n            if (!config.disableLogs) {\n                console.log('Seems recording has been restarted.');\n            }\n            this.record();\n            return;\n        }\n\n        isPaused = false;\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof StereoAudioRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        config.checkForInactiveTracks = false;\n\n        if (recording) {\n            this.stop(clearRecordedDataCB);\n        }\n\n        clearRecordedDataCB();\n    };\n\n    function resetVariables() {\n        leftchannel = [];\n        rightchannel = [];\n        recordingLength = 0;\n        isAudioProcessStarted = false;\n        recording = false;\n        isPaused = false;\n        context = null;\n\n        self.leftchannel = leftchannel;\n        self.rightchannel = rightchannel;\n        self.numberOfAudioChannels = numberOfAudioChannels;\n        self.desiredSampRate = desiredSampRate;\n        self.sampleRate = sampleRate;\n        self.recordingLength = recordingLength;\n\n        intervalsBasedBuffers = {\n            left: [],\n            right: [],\n            recordingLength: 0\n        };\n    }\n\n    function clearRecordedDataCB() {\n        if (jsAudioNode) {\n            jsAudioNode.onaudioprocess = null;\n            jsAudioNode.disconnect();\n            jsAudioNode = null;\n        }\n\n        if (audioInput) {\n            audioInput.disconnect();\n            audioInput = null;\n        }\n\n        resetVariables();\n    }\n\n    // for debugging\n    this.name = 'StereoAudioRecorder';\n    this.toString = function() {\n        return this.name;\n    };\n\n    var isAudioProcessStarted = false;\n\n    function onAudioProcessDataAvailable(e) {\n        if (isPaused) {\n            return;\n        }\n\n        if (isMediaStreamActive() === false) {\n            if (!config.disableLogs) {\n                console.log('MediaStream seems stopped.');\n            }\n            jsAudioNode.disconnect();\n            recording = false;\n        }\n\n        if (!recording) {\n            if (audioInput) {\n                audioInput.disconnect();\n                audioInput = null;\n            }\n            return;\n        }\n\n        /**\n         * This method is called on \"onaudioprocess\" event's first invocation.\n         * @method {function} onAudioProcessStarted\n         * @memberof StereoAudioRecorder\n         * @example\n         * recorder.onAudioProcessStarted: function() { };\n         */\n        if (!isAudioProcessStarted) {\n            isAudioProcessStarted = true;\n            if (config.onAudioProcessStarted) {\n                config.onAudioProcessStarted();\n            }\n\n            if (config.initCallback) {\n                config.initCallback();\n            }\n        }\n\n        var left = e.inputBuffer.getChannelData(0);\n\n        // we clone the samples\n        var chLeft = new Float32Array(left);\n        leftchannel.push(chLeft);\n\n        if (numberOfAudioChannels === 2) {\n            var right = e.inputBuffer.getChannelData(1);\n            var chRight = new Float32Array(right);\n            rightchannel.push(chRight);\n        }\n\n        recordingLength += bufferSize;\n\n        // export raw PCM\n        self.recordingLength = recordingLength;\n\n        if (typeof config.timeSlice !== 'undefined') {\n            intervalsBasedBuffers.recordingLength += bufferSize;\n            intervalsBasedBuffers.left.push(chLeft);\n\n            if (numberOfAudioChannels === 2) {\n                intervalsBasedBuffers.right.push(chRight);\n            }\n        }\n    }\n\n    jsAudioNode.onaudioprocess = onAudioProcessDataAvailable;\n\n    // to prevent self audio to be connected with speakers\n    if (context.createMediaStreamDestination) {\n        jsAudioNode.connect(context.createMediaStreamDestination());\n    } else {\n        jsAudioNode.connect(context.destination);\n    }\n\n    // export raw PCM\n    this.leftchannel = leftchannel;\n    this.rightchannel = rightchannel;\n    this.numberOfAudioChannels = numberOfAudioChannels;\n    this.desiredSampRate = desiredSampRate;\n    this.sampleRate = sampleRate;\n    self.recordingLength = recordingLength;\n\n    // helper for intervals based blobs\n    var intervalsBasedBuffers = {\n        left: [],\n        right: [],\n        recordingLength: 0\n    };\n\n    // this looper is used to support intervals based blobs (via timeSlice+ondataavailable)\n    function looper() {\n        if (!recording || typeof config.ondataavailable !== 'function' || typeof config.timeSlice === 'undefined') {\n            return;\n        }\n\n        if (intervalsBasedBuffers.left.length) {\n            mergeLeftRightBuffers({\n                desiredSampRate: desiredSampRate,\n                sampleRate: sampleRate,\n                numberOfAudioChannels: numberOfAudioChannels,\n                internalInterleavedLength: intervalsBasedBuffers.recordingLength,\n                leftBuffers: intervalsBasedBuffers.left,\n                rightBuffers: numberOfAudioChannels === 1 ? [] : intervalsBasedBuffers.right\n            }, function(buffer, view) {\n                var blob = new Blob([view], {\n                    type: 'audio/wav'\n                });\n                config.ondataavailable(blob);\n\n                setTimeout(looper, config.timeSlice);\n            });\n\n            intervalsBasedBuffers = {\n                left: [],\n                right: [],\n                recordingLength: 0\n            };\n        } else {\n            setTimeout(looper, config.timeSlice);\n        }\n    }\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.StereoAudioRecorder = StereoAudioRecorder;\n}\n\n// _________________\n// CanvasRecorder.js\n\n/**\n * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.\n * @summary HTML2Canvas recording into video WebM.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef CanvasRecorder\n * @class\n * @example\n * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.\n * @param {object} config - {disableLogs:true, initCallback: function}\n */\n\nfunction CanvasRecorder(htmlElement, config) {\n    if (typeof html2canvas === 'undefined') {\n        throw 'Please link: https://www.webrtc-experiment.com/screenshot.js';\n    }\n\n    config = config || {};\n    if (!config.frameInterval) {\n        config.frameInterval = 10;\n    }\n\n    // via DetectRTC.js\n    var isCanvasSupportsStreamCapturing = false;\n    ['captureStream', 'mozCaptureStream', 'webkitCaptureStream'].forEach(function(item) {\n        if (item in document.createElement('canvas')) {\n            isCanvasSupportsStreamCapturing = true;\n        }\n    });\n\n    var _isChrome = (!!window.webkitRTCPeerConnection || !!window.webkitGetUserMedia) && !!window.chrome;\n\n    var chromeVersion = 50;\n    var matchArray = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n    if (_isChrome && matchArray && matchArray[2]) {\n        chromeVersion = parseInt(matchArray[2], 10);\n    }\n\n    if (_isChrome && chromeVersion < 52) {\n        isCanvasSupportsStreamCapturing = false;\n    }\n\n    if (config.useWhammyRecorder) {\n        isCanvasSupportsStreamCapturing = false;\n    }\n\n    var globalCanvas, mediaStreamRecorder;\n\n    if (isCanvasSupportsStreamCapturing) {\n        if (!config.disableLogs) {\n            console.log('Your browser supports both MediRecorder API and canvas.captureStream!');\n        }\n\n        if (htmlElement instanceof HTMLCanvasElement) {\n            globalCanvas = htmlElement;\n        } else if (htmlElement instanceof CanvasRenderingContext2D) {\n            globalCanvas = htmlElement.canvas;\n        } else {\n            throw 'Please pass either HTMLCanvasElement or CanvasRenderingContext2D.';\n        }\n    } else if (!!navigator.mozGetUserMedia) {\n        if (!config.disableLogs) {\n            console.error('Canvas recording is NOT supported in Firefox.');\n        }\n    }\n\n    var isRecording;\n\n    /**\n     * This method records Canvas.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        isRecording = true;\n\n        if (isCanvasSupportsStreamCapturing && !config.useWhammyRecorder) {\n            // CanvasCaptureMediaStream\n            var canvasMediaStream;\n            if ('captureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.captureStream(25); // 25 FPS\n            } else if ('mozCaptureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.mozCaptureStream(25);\n            } else if ('webkitCaptureStream' in globalCanvas) {\n                canvasMediaStream = globalCanvas.webkitCaptureStream(25);\n            }\n\n            try {\n                var mdStream = new MediaStream();\n                mdStream.addTrack(getTracks(canvasMediaStream, 'video')[0]);\n                canvasMediaStream = mdStream;\n            } catch (e) {}\n\n            if (!canvasMediaStream) {\n                throw 'captureStream API are NOT available.';\n            }\n\n            // Note: Jan 18, 2016 status is that, \n            // Firefox MediaRecorder API can't record CanvasCaptureMediaStream object.\n            mediaStreamRecorder = new MediaStreamRecorder(canvasMediaStream, {\n                mimeType: config.mimeType || 'video/webm'\n            });\n            mediaStreamRecorder.record();\n        } else {\n            whammy.frames = [];\n            lastTime = new Date().getTime();\n            drawCanvasFrame();\n        }\n\n        if (config.initCallback) {\n            config.initCallback();\n        }\n    };\n\n    this.getWebPImages = function(callback) {\n        if (htmlElement.nodeName.toLowerCase() !== 'canvas') {\n            callback();\n            return;\n        }\n\n        var framesLength = whammy.frames.length;\n        whammy.frames.forEach(function(frame, idx) {\n            var framesRemaining = framesLength - idx;\n            if (!config.disableLogs) {\n                console.log(framesRemaining + '/' + framesLength + ' frames remaining');\n            }\n\n            if (config.onEncodingCallback) {\n                config.onEncodingCallback(framesRemaining, framesLength);\n            }\n\n            var webp = frame.image.toDataURL('image/webp', 1);\n            whammy.frames[idx].image = webp;\n        });\n\n        if (!config.disableLogs) {\n            console.log('Generating WebM');\n        }\n\n        callback();\n    };\n\n    /**\n     * This method stops recording Canvas.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        isRecording = false;\n\n        var that = this;\n\n        if (isCanvasSupportsStreamCapturing && mediaStreamRecorder) {\n            mediaStreamRecorder.stop(callback);\n            return;\n        }\n\n        this.getWebPImages(function() {\n            /**\n             * @property {Blob} blob - Recorded frames in video/webm blob.\n             * @memberof CanvasRecorder\n             * @example\n             * recorder.stop(function() {\n             *     var blob = recorder.blob;\n             * });\n             */\n            whammy.compile(function(blob) {\n                if (!config.disableLogs) {\n                    console.log('Recording finished!');\n                }\n\n                that.blob = blob;\n\n                if (that.blob.forEach) {\n                    that.blob = new Blob([], {\n                        type: 'video/webm'\n                    });\n                }\n\n                if (callback) {\n                    callback(that.blob);\n                }\n\n                whammy.frames = [];\n            });\n        });\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPausedRecording = true;\n\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\n            mediaStreamRecorder.pause();\n            return;\n        }\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        isPausedRecording = false;\n\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\n            mediaStreamRecorder.resume();\n            return;\n        }\n\n        if (!isRecording) {\n            this.record();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof CanvasRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        if (isRecording) {\n            this.stop(clearRecordedDataCB);\n        }\n        clearRecordedDataCB();\n    };\n\n    function clearRecordedDataCB() {\n        whammy.frames = [];\n        isRecording = false;\n        isPausedRecording = false;\n    }\n\n    // for debugging\n    this.name = 'CanvasRecorder';\n    this.toString = function() {\n        return this.name;\n    };\n\n    function cloneCanvas() {\n        //create a new canvas\n        var newCanvas = document.createElement('canvas');\n        var context = newCanvas.getContext('2d');\n\n        //set dimensions\n        newCanvas.width = htmlElement.width;\n        newCanvas.height = htmlElement.height;\n\n        //apply the old canvas to the new one\n        context.drawImage(htmlElement, 0, 0);\n\n        //return the new canvas\n        return newCanvas;\n    }\n\n    function drawCanvasFrame() {\n        if (isPausedRecording) {\n            lastTime = new Date().getTime();\n            return setTimeout(drawCanvasFrame, 500);\n        }\n\n        if (htmlElement.nodeName.toLowerCase() === 'canvas') {\n            var duration = new Date().getTime() - lastTime;\n            // via #206, by Jack i.e. @Seymourr\n            lastTime = new Date().getTime();\n\n            whammy.frames.push({\n                image: cloneCanvas(),\n                duration: duration\n            });\n\n            if (isRecording) {\n                setTimeout(drawCanvasFrame, config.frameInterval);\n            }\n            return;\n        }\n\n        html2canvas(htmlElement, {\n            grabMouse: typeof config.showMousePointer === 'undefined' || config.showMousePointer,\n            onrendered: function(canvas) {\n                var duration = new Date().getTime() - lastTime;\n                if (!duration) {\n                    return setTimeout(drawCanvasFrame, config.frameInterval);\n                }\n\n                // via #206, by Jack i.e. @Seymourr\n                lastTime = new Date().getTime();\n\n                whammy.frames.push({\n                    image: canvas.toDataURL('image/webp', 1),\n                    duration: duration\n                });\n\n                if (isRecording) {\n                    setTimeout(drawCanvasFrame, config.frameInterval);\n                }\n            }\n        });\n    }\n\n    var lastTime = new Date().getTime();\n\n    var whammy = new Whammy.Video(100);\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.CanvasRecorder = CanvasRecorder;\n}\n\n// _________________\n// WhammyRecorder.js\n\n/**\n * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.\n * @summary Video recording feature in Chrome.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef WhammyRecorder\n * @class\n * @example\n * var recorder = new WhammyRecorder(mediaStream);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}\n */\n\nfunction WhammyRecorder(mediaStream, config) {\n\n    config = config || {};\n\n    if (!config.frameInterval) {\n        config.frameInterval = 10;\n    }\n\n    if (!config.disableLogs) {\n        console.log('Using frames-interval:', config.frameInterval);\n    }\n\n    /**\n     * This method records video.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        if (!config.width) {\n            config.width = 320;\n        }\n\n        if (!config.height) {\n            config.height = 240;\n        }\n\n        if (!config.video) {\n            config.video = {\n                width: config.width,\n                height: config.height\n            };\n        }\n\n        if (!config.canvas) {\n            config.canvas = {\n                width: config.width,\n                height: config.height\n            };\n        }\n\n        canvas.width = config.canvas.width || 320;\n        canvas.height = config.canvas.height || 240;\n\n        context = canvas.getContext('2d');\n\n        // setting defaults\n        if (config.video && config.video instanceof HTMLVideoElement) {\n            video = config.video.cloneNode();\n\n            if (config.initCallback) {\n                config.initCallback();\n            }\n        } else {\n            video = document.createElement('video');\n\n            setSrcObject(mediaStream, video);\n\n            video.onloadedmetadata = function() { // \"onloadedmetadata\" may NOT work in FF?\n                if (config.initCallback) {\n                    config.initCallback();\n                }\n            };\n\n            video.width = config.video.width;\n            video.height = config.video.height;\n        }\n\n        video.muted = true;\n        video.play();\n\n        lastTime = new Date().getTime();\n        whammy = new Whammy.Video();\n\n        if (!config.disableLogs) {\n            console.log('canvas resolutions', canvas.width, '*', canvas.height);\n            console.log('video width/height', video.width || canvas.width, '*', video.height || canvas.height);\n        }\n\n        drawFrames(config.frameInterval);\n    };\n\n    /**\n     * Draw and push frames to Whammy\n     * @param {integer} frameInterval - set minimum interval (in milliseconds) between each time we push a frame to Whammy\n     */\n    function drawFrames(frameInterval) {\n        frameInterval = typeof frameInterval !== 'undefined' ? frameInterval : 10;\n\n        var duration = new Date().getTime() - lastTime;\n        if (!duration) {\n            return setTimeout(drawFrames, frameInterval, frameInterval);\n        }\n\n        if (isPausedRecording) {\n            lastTime = new Date().getTime();\n            return setTimeout(drawFrames, 100);\n        }\n\n        // via #206, by Jack i.e. @Seymourr\n        lastTime = new Date().getTime();\n\n        if (video.paused) {\n            // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\n            // Tweak for Android Chrome\n            video.play();\n        }\n\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\n        whammy.frames.push({\n            duration: duration,\n            image: canvas.toDataURL('image/webp')\n        });\n\n        if (!isStopDrawing) {\n            setTimeout(drawFrames, frameInterval, frameInterval);\n        }\n    }\n\n    function asyncLoop(o) {\n        var i = -1,\n            length = o.length;\n\n        (function loop() {\n            i++;\n            if (i === length) {\n                o.callback();\n                return;\n            }\n\n            // \"setTimeout\" added by Jim McLeod\n            setTimeout(function() {\n                o.functionToLoop(loop, i);\n            }, 1);\n        })();\n    }\n\n\n    /**\n     * remove black frames from the beginning to the specified frame\n     * @param {Array} _frames - array of frames to be checked\n     * @param {number} _framesToCheck - number of frame until check will be executed (-1 - will drop all frames until frame not matched will be found)\n     * @param {number} _pixTolerance - 0 - very strict (only black pixel color) ; 1 - all\n     * @param {number} _frameTolerance - 0 - very strict (only black frame color) ; 1 - all\n     * @returns {Array} - array of frames\n     */\n    // pull#293 by @volodalexey\n    function dropBlackFrames(_frames, _framesToCheck, _pixTolerance, _frameTolerance, callback) {\n        var localCanvas = document.createElement('canvas');\n        localCanvas.width = canvas.width;\n        localCanvas.height = canvas.height;\n        var context2d = localCanvas.getContext('2d');\n        var resultFrames = [];\n\n        var checkUntilNotBlack = _framesToCheck === -1;\n        var endCheckFrame = (_framesToCheck && _framesToCheck > 0 && _framesToCheck <= _frames.length) ?\n            _framesToCheck : _frames.length;\n        var sampleColor = {\n            r: 0,\n            g: 0,\n            b: 0\n        };\n        var maxColorDifference = Math.sqrt(\n            Math.pow(255, 2) +\n            Math.pow(255, 2) +\n            Math.pow(255, 2)\n        );\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\n        var doNotCheckNext = false;\n\n        asyncLoop({\n            length: endCheckFrame,\n            functionToLoop: function(loop, f) {\n                var matchPixCount, endPixCheck, maxPixCount;\n\n                var finishImage = function() {\n                    if (!doNotCheckNext && maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\n                        // console.log('removed black frame : ' + f + ' ; frame duration ' + _frames[f].duration);\n                    } else {\n                        // console.log('frame is passed : ' + f);\n                        if (checkUntilNotBlack) {\n                            doNotCheckNext = true;\n                        }\n                        resultFrames.push(_frames[f]);\n                    }\n                    loop();\n                };\n\n                if (!doNotCheckNext) {\n                    var image = new Image();\n                    image.onload = function() {\n                        context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\n                        var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\n                        matchPixCount = 0;\n                        endPixCheck = imageData.data.length;\n                        maxPixCount = imageData.data.length / 4;\n\n                        for (var pix = 0; pix < endPixCheck; pix += 4) {\n                            var currentColor = {\n                                r: imageData.data[pix],\n                                g: imageData.data[pix + 1],\n                                b: imageData.data[pix + 2]\n                            };\n                            var colorDifference = Math.sqrt(\n                                Math.pow(currentColor.r - sampleColor.r, 2) +\n                                Math.pow(currentColor.g - sampleColor.g, 2) +\n                                Math.pow(currentColor.b - sampleColor.b, 2)\n                            );\n                            // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\n                            if (colorDifference <= maxColorDifference * pixTolerance) {\n                                matchPixCount++;\n                            }\n                        }\n                        finishImage();\n                    };\n                    image.src = _frames[f].image;\n                } else {\n                    finishImage();\n                }\n            },\n            callback: function() {\n                resultFrames = resultFrames.concat(_frames.slice(endCheckFrame));\n\n                if (resultFrames.length <= 0) {\n                    // at least one last frame should be available for next manipulation\n                    // if total duration of all frames will be < 1000 than ffmpeg doesn't work well...\n                    resultFrames.push(_frames[_frames.length - 1]);\n                }\n                callback(resultFrames);\n            }\n        });\n    }\n\n    var isStopDrawing = false;\n\n    /**\n     * This method stops recording video.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        callback = callback || function() {};\n\n        isStopDrawing = true;\n\n        var _this = this;\n        // analyse of all frames takes some time!\n        setTimeout(function() {\n            // e.g. dropBlackFrames(frames, 10, 1, 1) - will cut all 10 frames\n            // e.g. dropBlackFrames(frames, 10, 0.5, 0.5) - will analyse 10 frames\n            // e.g. dropBlackFrames(frames, 10) === dropBlackFrames(frames, 10, 0, 0) - will analyse 10 frames with strict black color\n            dropBlackFrames(whammy.frames, -1, null, null, function(frames) {\n                whammy.frames = frames;\n\n                // to display advertisement images!\n                if (config.advertisement && config.advertisement.length) {\n                    whammy.frames = config.advertisement.concat(whammy.frames);\n                }\n\n                /**\n                 * @property {Blob} blob - Recorded frames in video/webm blob.\n                 * @memberof WhammyRecorder\n                 * @example\n                 * recorder.stop(function() {\n                 *     var blob = recorder.blob;\n                 * });\n                 */\n                whammy.compile(function(blob) {\n                    _this.blob = blob;\n\n                    if (_this.blob.forEach) {\n                        _this.blob = new Blob([], {\n                            type: 'video/webm'\n                        });\n                    }\n\n                    if (callback) {\n                        callback(_this.blob);\n                    }\n                });\n            });\n        }, 10);\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPausedRecording = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        isPausedRecording = false;\n\n        if (isStopDrawing) {\n            this.record();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof WhammyRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        if (!isStopDrawing) {\n            this.stop(clearRecordedDataCB);\n        }\n        clearRecordedDataCB();\n    };\n\n    function clearRecordedDataCB() {\n        whammy.frames = [];\n        isStopDrawing = true;\n        isPausedRecording = false;\n    }\n\n    // for debugging\n    this.name = 'WhammyRecorder';\n    this.toString = function() {\n        return this.name;\n    };\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    var video;\n    var lastTime;\n    var whammy;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.WhammyRecorder = WhammyRecorder;\n}\n\n// https://github.com/antimatter15/whammy/blob/master/LICENSE\n// _________\n// Whammy.js\n\n// todo: Firefox now supports webp for webm containers!\n// their MediaRecorder implementation works well!\n// should we provide an option to record via Whammy.js or MediaRecorder API is a better solution?\n\n/**\n * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}\n * @summary A real time javascript webm encoder based on a canvas hack.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef Whammy\n * @class\n * @example\n * var recorder = new Whammy().Video(15);\n * recorder.add(context || canvas || dataURL);\n * var output = recorder.compile();\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\nvar Whammy = (function() {\n    // a more abstract-ish API\n\n    function WhammyVideo(duration) {\n        this.frames = [];\n        this.duration = duration || 1;\n        this.quality = 0.8;\n    }\n\n    /**\n     * Pass Canvas or Context or image/webp(string) to {@link Whammy} encoder.\n     * @method\n     * @memberof Whammy\n     * @example\n     * recorder = new Whammy().Video(0.8, 100);\n     * recorder.add(canvas || context || 'image/webp');\n     * @param {string} frame - Canvas || Context || image/webp\n     * @param {number} duration - Stick a duration (in milliseconds)\n     */\n    WhammyVideo.prototype.add = function(frame, duration) {\n        if ('canvas' in frame) { //CanvasRenderingContext2D\n            frame = frame.canvas;\n        }\n\n        if ('toDataURL' in frame) {\n            frame = frame.toDataURL('image/webp', this.quality);\n        }\n\n        if (!(/^data:image\\/webp;base64,/ig).test(frame)) {\n            throw 'Input must be formatted properly as a base64 encoded DataURI of type image/webp';\n        }\n        this.frames.push({\n            image: frame,\n            duration: duration || this.duration\n        });\n    };\n\n    function processInWebWorker(_function) {\n        var blob = URL.createObjectURL(new Blob([_function.toString(),\n            'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\n        ], {\n            type: 'application/javascript'\n        }));\n\n        var worker = new Worker(blob);\n        URL.revokeObjectURL(blob);\n        return worker;\n    }\n\n    function whammyInWebWorker(frames) {\n        function ArrayToWebM(frames) {\n            var info = checkFrames(frames);\n            if (!info) {\n                return [];\n            }\n\n            var clusterMaxDuration = 30000;\n\n            var EBML = [{\n                'id': 0x1a45dfa3, // EBML\n                'data': [{\n                    'data': 1,\n                    'id': 0x4286 // EBMLVersion\n                }, {\n                    'data': 1,\n                    'id': 0x42f7 // EBMLReadVersion\n                }, {\n                    'data': 4,\n                    'id': 0x42f2 // EBMLMaxIDLength\n                }, {\n                    'data': 8,\n                    'id': 0x42f3 // EBMLMaxSizeLength\n                }, {\n                    'data': 'webm',\n                    'id': 0x4282 // DocType\n                }, {\n                    'data': 2,\n                    'id': 0x4287 // DocTypeVersion\n                }, {\n                    'data': 2,\n                    'id': 0x4285 // DocTypeReadVersion\n                }]\n            }, {\n                'id': 0x18538067, // Segment\n                'data': [{\n                    'id': 0x1549a966, // Info\n                    'data': [{\n                        'data': 1e6, //do things in millisecs (num of nanosecs for duration scale)\n                        'id': 0x2ad7b1 // TimecodeScale\n                    }, {\n                        'data': 'whammy',\n                        'id': 0x4d80 // MuxingApp\n                    }, {\n                        'data': 'whammy',\n                        'id': 0x5741 // WritingApp\n                    }, {\n                        'data': doubleToString(info.duration),\n                        'id': 0x4489 // Duration\n                    }]\n                }, {\n                    'id': 0x1654ae6b, // Tracks\n                    'data': [{\n                        'id': 0xae, // TrackEntry\n                        'data': [{\n                            'data': 1,\n                            'id': 0xd7 // TrackNumber\n                        }, {\n                            'data': 1,\n                            'id': 0x73c5 // TrackUID\n                        }, {\n                            'data': 0,\n                            'id': 0x9c // FlagLacing\n                        }, {\n                            'data': 'und',\n                            'id': 0x22b59c // Language\n                        }, {\n                            'data': 'V_VP8',\n                            'id': 0x86 // CodecID\n                        }, {\n                            'data': 'VP8',\n                            'id': 0x258688 // CodecName\n                        }, {\n                            'data': 1,\n                            'id': 0x83 // TrackType\n                        }, {\n                            'id': 0xe0, // Video\n                            'data': [{\n                                'data': info.width,\n                                'id': 0xb0 // PixelWidth\n                            }, {\n                                'data': info.height,\n                                'id': 0xba // PixelHeight\n                            }]\n                        }]\n                    }]\n                }]\n            }];\n\n            //Generate clusters (max duration)\n            var frameNumber = 0;\n            var clusterTimecode = 0;\n            while (frameNumber < frames.length) {\n\n                var clusterFrames = [];\n                var clusterDuration = 0;\n                do {\n                    clusterFrames.push(frames[frameNumber]);\n                    clusterDuration += frames[frameNumber].duration;\n                    frameNumber++;\n                } while (frameNumber < frames.length && clusterDuration < clusterMaxDuration);\n\n                var clusterCounter = 0;\n                var cluster = {\n                    'id': 0x1f43b675, // Cluster\n                    'data': getClusterData(clusterTimecode, clusterCounter, clusterFrames)\n                }; //Add cluster to segment\n                EBML[1].data.push(cluster);\n                clusterTimecode += clusterDuration;\n            }\n\n            return generateEBML(EBML);\n        }\n\n        function getClusterData(clusterTimecode, clusterCounter, clusterFrames) {\n            return [{\n                'data': clusterTimecode,\n                'id': 0xe7 // Timecode\n            }].concat(clusterFrames.map(function(webp) {\n                var block = makeSimpleBlock({\n                    discardable: 0,\n                    frame: webp.data.slice(4),\n                    invisible: 0,\n                    keyframe: 1,\n                    lacing: 0,\n                    trackNum: 1,\n                    timecode: Math.round(clusterCounter)\n                });\n                clusterCounter += webp.duration;\n                return {\n                    data: block,\n                    id: 0xa3\n                };\n            }));\n        }\n\n        // sums the lengths of all the frames and gets the duration\n\n        function checkFrames(frames) {\n            if (!frames[0]) {\n                postMessage({\n                    error: 'Something went wrong. Maybe WebP format is not supported in the current browser.'\n                });\n                return;\n            }\n\n            var width = frames[0].width,\n                height = frames[0].height,\n                duration = frames[0].duration;\n\n            for (var i = 1; i < frames.length; i++) {\n                duration += frames[i].duration;\n            }\n            return {\n                duration: duration,\n                width: width,\n                height: height\n            };\n        }\n\n        function numToBuffer(num) {\n            var parts = [];\n            while (num > 0) {\n                parts.push(num & 0xff);\n                num = num >> 8;\n            }\n            return new Uint8Array(parts.reverse());\n        }\n\n        function strToBuffer(str) {\n            return new Uint8Array(str.split('').map(function(e) {\n                return e.charCodeAt(0);\n            }));\n        }\n\n        function bitsToBuffer(bits) {\n            var data = [];\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n            bits = pad + bits;\n            for (var i = 0; i < bits.length; i += 8) {\n                data.push(parseInt(bits.substr(i, 8), 2));\n            }\n            return new Uint8Array(data);\n        }\n\n        function generateEBML(json) {\n            var ebml = [];\n            for (var i = 0; i < json.length; i++) {\n                var data = json[i].data;\n\n                if (typeof data === 'object') {\n                    data = generateEBML(data);\n                }\n\n                if (typeof data === 'number') {\n                    data = bitsToBuffer(data.toString(2));\n                }\n\n                if (typeof data === 'string') {\n                    data = strToBuffer(data);\n                }\n\n                var len = data.size || data.byteLength || data.length;\n                var zeroes = Math.ceil(Math.ceil(Math.log(len) / Math.log(2)) / 8);\n                var sizeToString = len.toString(2);\n                var padded = (new Array((zeroes * 7 + 7 + 1) - sizeToString.length)).join('0') + sizeToString;\n                var size = (new Array(zeroes)).join('0') + '1' + padded;\n\n                ebml.push(numToBuffer(json[i].id));\n                ebml.push(bitsToBuffer(size));\n                ebml.push(data);\n            }\n\n            return new Blob(ebml, {\n                type: 'video/webm'\n            });\n        }\n\n        function toBinStrOld(bits) {\n            var data = '';\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n            bits = pad + bits;\n            for (var i = 0; i < bits.length; i += 8) {\n                data += String.fromCharCode(parseInt(bits.substr(i, 8), 2));\n            }\n            return data;\n        }\n\n        function makeSimpleBlock(data) {\n            var flags = 0;\n\n            if (data.keyframe) {\n                flags |= 128;\n            }\n\n            if (data.invisible) {\n                flags |= 8;\n            }\n\n            if (data.lacing) {\n                flags |= (data.lacing << 1);\n            }\n\n            if (data.discardable) {\n                flags |= 1;\n            }\n\n            if (data.trackNum > 127) {\n                throw 'TrackNumber > 127 not supported';\n            }\n\n            var out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function(e) {\n                return String.fromCharCode(e);\n            }).join('') + data.frame;\n\n            return out;\n        }\n\n        function parseWebP(riff) {\n            var VP8 = riff.RIFF[0].WEBP[0];\n\n            var frameStart = VP8.indexOf('\\x9d\\x01\\x2a'); // A VP8 keyframe starts with the 0x9d012a header\n            for (var i = 0, c = []; i < 4; i++) {\n                c[i] = VP8.charCodeAt(frameStart + 3 + i);\n            }\n\n            var width, height, tmp;\n\n            //the code below is literally copied verbatim from the bitstream spec\n            tmp = (c[1] << 8) | c[0];\n            width = tmp & 0x3FFF;\n            tmp = (c[3] << 8) | c[2];\n            height = tmp & 0x3FFF;\n            return {\n                width: width,\n                height: height,\n                data: VP8,\n                riff: riff\n            };\n        }\n\n        function getStrLength(string, offset) {\n            return parseInt(string.substr(offset + 4, 4).split('').map(function(i) {\n                var unpadded = i.charCodeAt(0).toString(2);\n                return (new Array(8 - unpadded.length + 1)).join('0') + unpadded;\n            }).join(''), 2);\n        }\n\n        function parseRIFF(string) {\n            var offset = 0;\n            var chunks = {};\n\n            while (offset < string.length) {\n                var id = string.substr(offset, 4);\n                var len = getStrLength(string, offset);\n                var data = string.substr(offset + 4 + 4, len);\n                offset += 4 + 4 + len;\n                chunks[id] = chunks[id] || [];\n\n                if (id === 'RIFF' || id === 'LIST') {\n                    chunks[id].push(parseRIFF(data));\n                } else {\n                    chunks[id].push(data);\n                }\n            }\n            return chunks;\n        }\n\n        function doubleToString(num) {\n            return [].slice.call(\n                new Uint8Array((new Float64Array([num])).buffer), 0).map(function(e) {\n                return String.fromCharCode(e);\n            }).reverse().join('');\n        }\n\n        var webm = new ArrayToWebM(frames.map(function(frame) {\n            var webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\n            webp.duration = frame.duration;\n            return webp;\n        }));\n\n        postMessage(webm);\n    }\n\n    /**\n     * Encodes frames in WebM container. It uses WebWorkinvoke to invoke 'ArrayToWebM' method.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof Whammy\n     * @example\n     * recorder = new Whammy().Video(0.8, 100);\n     * recorder.compile(function(blob) {\n     *    // blob.size - blob.type\n     * });\n     */\n    WhammyVideo.prototype.compile = function(callback) {\n        var webWorker = processInWebWorker(whammyInWebWorker);\n\n        webWorker.onmessage = function(event) {\n            if (event.data.error) {\n                console.error(event.data.error);\n                return;\n            }\n            callback(event.data);\n        };\n\n        webWorker.postMessage(this.frames);\n    };\n\n    return {\n        /**\n         * A more abstract-ish API.\n         * @method\n         * @memberof Whammy\n         * @example\n         * recorder = new Whammy().Video(0.8, 100);\n         * @param {?number} speed - 0.8\n         * @param {?number} quality - 100\n         */\n        Video: WhammyVideo\n    };\n})();\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.Whammy = Whammy;\n}\n\n// ______________ (indexed-db)\n// DiskStorage.js\n\n/**\n * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.\n * @summary Writing blobs into IndexedDB.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @example\n * DiskStorage.Store({\n *     audioBlob: yourAudioBlob,\n *     videoBlob: yourVideoBlob,\n *     gifBlob  : yourGifBlob\n * });\n * DiskStorage.Fetch(function(dataURL, type) {\n *     if(type === 'audioBlob') { }\n *     if(type === 'videoBlob') { }\n *     if(type === 'gifBlob')   { }\n * });\n * // DiskStorage.dataStoreName = 'recordRTC';\n * // DiskStorage.onError = function(error) { };\n * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\n * @property {function} Fetch - This method fetches stored blobs from IndexedDB.\n * @property {function} Store - This method stores blobs in IndexedDB.\n * @property {function} onError - This function is invoked for any known/unknown error.\n * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n */\n\n\nvar DiskStorage = {\n    /**\n     * This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.init();\n     */\n    init: function() {\n        var self = this;\n\n        if (typeof indexedDB === 'undefined' || typeof indexedDB.open === 'undefined') {\n            console.error('IndexedDB API are not available in this browser.');\n            return;\n        }\n\n        var dbVersion = 1;\n        var dbName = this.dbName || location.href.replace(/\\/|:|#|%|\\.|\\[|\\]/g, ''),\n            db;\n        var request = indexedDB.open(dbName, dbVersion);\n\n        function createObjectStore(dataBase) {\n            dataBase.createObjectStore(self.dataStoreName);\n        }\n\n        function putInDB() {\n            var transaction = db.transaction([self.dataStoreName], 'readwrite');\n\n            if (self.videoBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.videoBlob, 'videoBlob');\n            }\n\n            if (self.gifBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.gifBlob, 'gifBlob');\n            }\n\n            if (self.audioBlob) {\n                transaction.objectStore(self.dataStoreName).put(self.audioBlob, 'audioBlob');\n            }\n\n            function getFromStore(portionName) {\n                transaction.objectStore(self.dataStoreName).get(portionName).onsuccess = function(event) {\n                    if (self.callback) {\n                        self.callback(event.target.result, portionName);\n                    }\n                };\n            }\n\n            getFromStore('audioBlob');\n            getFromStore('videoBlob');\n            getFromStore('gifBlob');\n        }\n\n        request.onerror = self.onError;\n\n        request.onsuccess = function() {\n            db = request.result;\n            db.onerror = self.onError;\n\n            if (db.setVersion) {\n                if (db.version !== dbVersion) {\n                    var setVersion = db.setVersion(dbVersion);\n                    setVersion.onsuccess = function() {\n                        createObjectStore(db);\n                        putInDB();\n                    };\n                } else {\n                    putInDB();\n                }\n            } else {\n                putInDB();\n            }\n        };\n        request.onupgradeneeded = function(event) {\n            createObjectStore(event.target.result);\n        };\n    },\n    /**\n     * This method fetches stored blobs from IndexedDB.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.Fetch(function(dataURL, type) {\n     *     if(type === 'audioBlob') { }\n     *     if(type === 'videoBlob') { }\n     *     if(type === 'gifBlob')   { }\n     * });\n     */\n    Fetch: function(callback) {\n        this.callback = callback;\n        this.init();\n\n        return this;\n    },\n    /**\n     * This method stores blobs in IndexedDB.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.Store({\n     *     audioBlob: yourAudioBlob,\n     *     videoBlob: yourVideoBlob,\n     *     gifBlob  : yourGifBlob\n     * });\n     */\n    Store: function(config) {\n        this.audioBlob = config.audioBlob;\n        this.videoBlob = config.videoBlob;\n        this.gifBlob = config.gifBlob;\n\n        this.init();\n\n        return this;\n    },\n    /**\n     * This function is invoked for any known/unknown error.\n     * @method\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.onError = function(error){\n     *     alerot( JSON.stringify(error) );\n     * };\n     */\n    onError: function(error) {\n        console.error(JSON.stringify(error, null, '\\t'));\n    },\n\n    /**\n     * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\n     * @memberof DiskStorage\n     * @internal\n     * @example\n     * DiskStorage.dataStoreName = 'recordRTC';\n     */\n    dataStoreName: 'recordRTC',\n    dbName: null\n};\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.DiskStorage = DiskStorage;\n}\n\n// ______________\n// GifRecorder.js\n\n/**\n * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef GifRecorder\n * @class\n * @example\n * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });\n * recorder.record();\n * recorder.stop(function(blob) {\n *     img.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.\n * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}\n */\n\nfunction GifRecorder(mediaStream, config) {\n    if (typeof GIFEncoder === 'undefined') {\n        var script = document.createElement('script');\n        script.src = 'https://www.webrtc-experiment.com/gif-recorder.js';\n        (document.body || document.documentElement).appendChild(script);\n    }\n\n    config = config || {};\n\n    var isHTMLObject = mediaStream instanceof CanvasRenderingContext2D || mediaStream instanceof HTMLCanvasElement;\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        if (typeof GIFEncoder === 'undefined') {\n            setTimeout(self.record, 1000);\n            return;\n        }\n\n        if (!isLoadedMetaData) {\n            setTimeout(self.record, 1000);\n            return;\n        }\n\n        if (!isHTMLObject) {\n            if (!config.width) {\n                config.width = video.offsetWidth || 320;\n            }\n\n            if (!config.height) {\n                config.height = video.offsetHeight || 240;\n            }\n\n            if (!config.video) {\n                config.video = {\n                    width: config.width,\n                    height: config.height\n                };\n            }\n\n            if (!config.canvas) {\n                config.canvas = {\n                    width: config.width,\n                    height: config.height\n                };\n            }\n\n            canvas.width = config.canvas.width || 320;\n            canvas.height = config.canvas.height || 240;\n\n            video.width = config.video.width || 320;\n            video.height = config.video.height || 240;\n        }\n\n        // external library to record as GIF images\n        gifEncoder = new GIFEncoder();\n\n        // void setRepeat(int iter) \n        // Sets the number of times the set of GIF frames should be played. \n        // Default is 1; 0 means play indefinitely.\n        gifEncoder.setRepeat(0);\n\n        // void setFrameRate(Number fps) \n        // Sets frame rate in frames per second. \n        // Equivalent to setDelay(1000/fps).\n        // Using \"setDelay\" instead of \"setFrameRate\"\n        gifEncoder.setDelay(config.frameRate || 200);\n\n        // void setQuality(int quality) \n        // Sets quality of color quantization (conversion of images to the \n        // maximum 256 colors allowed by the GIF specification). \n        // Lower values (minimum = 1) produce better colors, \n        // but slow processing significantly. 10 is the default, \n        // and produces good color mapping at reasonable speeds. \n        // Values greater than 20 do not yield significant improvements in speed.\n        gifEncoder.setQuality(config.quality || 10);\n\n        // Boolean start() \n        // This writes the GIF Header and returns false if it fails.\n        gifEncoder.start();\n\n        if (typeof config.onGifRecordingStarted === 'function') {\n            config.onGifRecordingStarted();\n        }\n\n        startTime = Date.now();\n\n        function drawVideoFrame(time) {\n            if (self.clearedRecordedData === true) {\n                return;\n            }\n\n            if (isPausedRecording) {\n                return setTimeout(function() {\n                    drawVideoFrame(time);\n                }, 100);\n            }\n\n            lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\n\n            if (typeof lastFrameTime === undefined) {\n                lastFrameTime = time;\n            }\n\n            // ~10 fps\n            if (time - lastFrameTime < 90) {\n                return;\n            }\n\n            if (!isHTMLObject && video.paused) {\n                // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\n                // Tweak for Android Chrome\n                video.play();\n            }\n\n            if (!isHTMLObject) {\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\n            }\n\n            if (config.onGifPreview) {\n                config.onGifPreview(canvas.toDataURL('image/png'));\n            }\n\n            gifEncoder.addFrame(context);\n            lastFrameTime = time;\n        }\n\n        lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\n\n        if (config.initCallback) {\n            config.initCallback();\n        }\n    };\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     img.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        callback = callback || function() {};\n\n        if (lastAnimationFrame) {\n            cancelAnimationFrame(lastAnimationFrame);\n        }\n\n        endTime = Date.now();\n\n        /**\n         * @property {Blob} blob - The recorded blob object.\n         * @memberof GifRecorder\n         * @example\n         * recorder.stop(function(){\n         *     var blob = recorder.blob;\n         * });\n         */\n        this.blob = new Blob([new Uint8Array(gifEncoder.stream().bin)], {\n            type: 'image/gif'\n        });\n\n        callback(this.blob);\n\n        // bug: find a way to clear old recorded blobs\n        gifEncoder.stream().bin = [];\n    };\n\n    var isPausedRecording = false;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPausedRecording = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        isPausedRecording = false;\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof GifRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        self.clearedRecordedData = true;\n        clearRecordedDataCB();\n    };\n\n    function clearRecordedDataCB() {\n        if (gifEncoder) {\n            gifEncoder.stream().bin = [];\n        }\n    }\n\n    // for debugging\n    this.name = 'GifRecorder';\n    this.toString = function() {\n        return this.name;\n    };\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n\n    if (isHTMLObject) {\n        if (mediaStream instanceof CanvasRenderingContext2D) {\n            context = mediaStream;\n            canvas = context.canvas;\n        } else if (mediaStream instanceof HTMLCanvasElement) {\n            context = mediaStream.getContext('2d');\n            canvas = mediaStream;\n        }\n    }\n\n    var isLoadedMetaData = true;\n\n    if (!isHTMLObject) {\n        var video = document.createElement('video');\n        video.muted = true;\n        video.autoplay = true;\n        video.playsInline = true;\n\n        isLoadedMetaData = false;\n        video.onloadedmetadata = function() {\n            isLoadedMetaData = true;\n        };\n\n        setSrcObject(mediaStream, video);\n\n        video.play();\n    }\n\n    var lastAnimationFrame = null;\n    var startTime, endTime, lastFrameTime;\n\n    var gifEncoder;\n\n    var self = this;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.GifRecorder = GifRecorder;\n}\n\n// Last time updated: 2019-06-21 4:09:42 AM UTC\n\n// ________________________\n// MultiStreamsMixer v1.2.2\n\n// Open-Sourced: https://github.com/muaz-khan/MultiStreamsMixer\n\n// --------------------------------------------------\n// Muaz Khan     - www.MuazKhan.com\n// MIT License   - www.WebRTC-Experiment.com/licence\n// --------------------------------------------------\n\nfunction MultiStreamsMixer(arrayOfMediaStreams, elementClass) {\n\n    var browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\n\n    (function(that) {\n        if (typeof RecordRTC !== 'undefined') {\n            return;\n        }\n\n        if (!that) {\n            return;\n        }\n\n        if (typeof window !== 'undefined') {\n            return;\n        }\n\n        if (typeof global === 'undefined') {\n            return;\n        }\n\n        global.navigator = {\n            userAgent: browserFakeUserAgent,\n            getUserMedia: function() {}\n        };\n\n        if (!global.console) {\n            global.console = {};\n        }\n\n        if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\n            global.console.error = global.console.log = global.console.log || function() {\n                console.log(arguments);\n            };\n        }\n\n        if (typeof document === 'undefined') {\n            /*global document:true */\n            that.document = {\n                documentElement: {\n                    appendChild: function() {\n                        return '';\n                    }\n                }\n            };\n\n            document.createElement = document.captureStream = document.mozCaptureStream = function() {\n                var obj = {\n                    getContext: function() {\n                        return obj;\n                    },\n                    play: function() {},\n                    pause: function() {},\n                    drawImage: function() {},\n                    toDataURL: function() {\n                        return '';\n                    },\n                    style: {}\n                };\n                return obj;\n            };\n\n            that.HTMLVideoElement = function() {};\n        }\n\n        if (typeof location === 'undefined') {\n            /*global location:true */\n            that.location = {\n                protocol: 'file:',\n                href: '',\n                hash: ''\n            };\n        }\n\n        if (typeof screen === 'undefined') {\n            /*global screen:true */\n            that.screen = {\n                width: 0,\n                height: 0\n            };\n        }\n\n        if (typeof URL === 'undefined') {\n            /*global screen:true */\n            that.URL = {\n                createObjectURL: function() {\n                    return '';\n                },\n                revokeObjectURL: function() {\n                    return '';\n                }\n            };\n        }\n\n        /*global window:true */\n        that.window = global;\n    })(typeof global !== 'undefined' ? global : null);\n\n    // requires: chrome://flags/#enable-experimental-web-platform-features\n\n    elementClass = elementClass || 'multi-streams-mixer';\n\n    var videos = [];\n    var isStopDrawingFrames = false;\n\n    var canvas = document.createElement('canvas');\n    var context = canvas.getContext('2d');\n    canvas.style.opacity = 0;\n    canvas.style.position = 'absolute';\n    canvas.style.zIndex = -1;\n    canvas.style.top = '-1000em';\n    canvas.style.left = '-1000em';\n    canvas.className = elementClass;\n    (document.body || document.documentElement).appendChild(canvas);\n\n    this.disableLogs = false;\n    this.frameInterval = 10;\n\n    this.width = 360;\n    this.height = 240;\n\n    // use gain node to prevent echo\n    this.useGainNode = true;\n\n    var self = this;\n\n    // _____________________________\n    // Cross-Browser-Declarations.js\n\n    // WebAudio API representer\n    var AudioContext = window.AudioContext;\n\n    if (typeof AudioContext === 'undefined') {\n        if (typeof webkitAudioContext !== 'undefined') {\n            /*global AudioContext:true */\n            AudioContext = webkitAudioContext;\n        }\n\n        if (typeof mozAudioContext !== 'undefined') {\n            /*global AudioContext:true */\n            AudioContext = mozAudioContext;\n        }\n    }\n\n    /*jshint -W079 */\n    var URL = window.URL;\n\n    if (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\n        /*global URL:true */\n        URL = webkitURL;\n    }\n\n    if (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\n        if (typeof navigator.webkitGetUserMedia !== 'undefined') {\n            navigator.getUserMedia = navigator.webkitGetUserMedia;\n        }\n\n        if (typeof navigator.mozGetUserMedia !== 'undefined') {\n            navigator.getUserMedia = navigator.mozGetUserMedia;\n        }\n    }\n\n    var MediaStream = window.MediaStream;\n\n    if (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\n        MediaStream = webkitMediaStream;\n    }\n\n    /*global MediaStream:true */\n    if (typeof MediaStream !== 'undefined') {\n        // override \"stop\" method for all browsers\n        if (typeof MediaStream.prototype.stop === 'undefined') {\n            MediaStream.prototype.stop = function() {\n                this.getTracks().forEach(function(track) {\n                    track.stop();\n                });\n            };\n        }\n    }\n\n    var Storage = {};\n\n    if (typeof AudioContext !== 'undefined') {\n        Storage.AudioContext = AudioContext;\n    } else if (typeof webkitAudioContext !== 'undefined') {\n        Storage.AudioContext = webkitAudioContext;\n    }\n\n    function setSrcObject(stream, element) {\n        if ('srcObject' in element) {\n            element.srcObject = stream;\n        } else if ('mozSrcObject' in element) {\n            element.mozSrcObject = stream;\n        } else {\n            element.srcObject = stream;\n        }\n    }\n\n    this.startDrawingFrames = function() {\n        drawVideosToCanvas();\n    };\n\n    function drawVideosToCanvas() {\n        if (isStopDrawingFrames) {\n            return;\n        }\n\n        var videosLength = videos.length;\n\n        var fullcanvas = false;\n        var remaining = [];\n        videos.forEach(function(video) {\n            if (!video.stream) {\n                video.stream = {};\n            }\n\n            if (video.stream.fullcanvas) {\n                fullcanvas = video;\n            } else {\n                // todo: video.stream.active or video.stream.live to fix blank frames issues?\n                remaining.push(video);\n            }\n        });\n\n        if (fullcanvas) {\n            canvas.width = fullcanvas.stream.width;\n            canvas.height = fullcanvas.stream.height;\n        } else if (remaining.length) {\n            canvas.width = videosLength > 1 ? remaining[0].width * 2 : remaining[0].width;\n\n            var height = 1;\n            if (videosLength === 3 || videosLength === 4) {\n                height = 2;\n            }\n            if (videosLength === 5 || videosLength === 6) {\n                height = 3;\n            }\n            if (videosLength === 7 || videosLength === 8) {\n                height = 4;\n            }\n            if (videosLength === 9 || videosLength === 10) {\n                height = 5;\n            }\n            canvas.height = remaining[0].height * height;\n        } else {\n            canvas.width = self.width || 360;\n            canvas.height = self.height || 240;\n        }\n\n        if (fullcanvas && fullcanvas instanceof HTMLVideoElement) {\n            drawImage(fullcanvas);\n        }\n\n        remaining.forEach(function(video, idx) {\n            drawImage(video, idx);\n        });\n\n        setTimeout(drawVideosToCanvas, self.frameInterval);\n    }\n\n    function drawImage(video, idx) {\n        if (isStopDrawingFrames) {\n            return;\n        }\n\n        var x = 0;\n        var y = 0;\n        var width = video.width;\n        var height = video.height;\n\n        if (idx === 1) {\n            x = video.width;\n        }\n\n        if (idx === 2) {\n            y = video.height;\n        }\n\n        if (idx === 3) {\n            x = video.width;\n            y = video.height;\n        }\n\n        if (idx === 4) {\n            y = video.height * 2;\n        }\n\n        if (idx === 5) {\n            x = video.width;\n            y = video.height * 2;\n        }\n\n        if (idx === 6) {\n            y = video.height * 3;\n        }\n\n        if (idx === 7) {\n            x = video.width;\n            y = video.height * 3;\n        }\n\n        if (typeof video.stream.left !== 'undefined') {\n            x = video.stream.left;\n        }\n\n        if (typeof video.stream.top !== 'undefined') {\n            y = video.stream.top;\n        }\n\n        if (typeof video.stream.width !== 'undefined') {\n            width = video.stream.width;\n        }\n\n        if (typeof video.stream.height !== 'undefined') {\n            height = video.stream.height;\n        }\n\n        context.drawImage(video, x, y, width, height);\n\n        if (typeof video.stream.onRender === 'function') {\n            video.stream.onRender(context, x, y, width, height, idx);\n        }\n    }\n\n    function getMixedStream() {\n        isStopDrawingFrames = false;\n        var mixedVideoStream = getMixedVideoStream();\n\n        var mixedAudioStream = getMixedAudioStream();\n        if (mixedAudioStream) {\n            mixedAudioStream.getTracks().filter(function(t) {\n                return t.kind === 'audio';\n            }).forEach(function(track) {\n                mixedVideoStream.addTrack(track);\n            });\n        }\n\n        var fullcanvas;\n        arrayOfMediaStreams.forEach(function(stream) {\n            if (stream.fullcanvas) {\n                fullcanvas = true;\n            }\n        });\n\n        // mixedVideoStream.prototype.appendStreams = appendStreams;\n        // mixedVideoStream.prototype.resetVideoStreams = resetVideoStreams;\n        // mixedVideoStream.prototype.clearRecordedData = clearRecordedData;\n\n        return mixedVideoStream;\n    }\n\n    function getMixedVideoStream() {\n        resetVideoStreams();\n\n        var capturedStream;\n\n        if ('captureStream' in canvas) {\n            capturedStream = canvas.captureStream();\n        } else if ('mozCaptureStream' in canvas) {\n            capturedStream = canvas.mozCaptureStream();\n        } else if (!self.disableLogs) {\n            console.error('Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features');\n        }\n\n        var videoStream = new MediaStream();\n\n        capturedStream.getTracks().filter(function(t) {\n            return t.kind === 'video';\n        }).forEach(function(track) {\n            videoStream.addTrack(track);\n        });\n\n        canvas.stream = videoStream;\n\n        return videoStream;\n    }\n\n    function getMixedAudioStream() {\n        // via: @pehrsons\n        if (!Storage.AudioContextConstructor) {\n            Storage.AudioContextConstructor = new Storage.AudioContext();\n        }\n\n        self.audioContext = Storage.AudioContextConstructor;\n\n        self.audioSources = [];\n\n        if (self.useGainNode === true) {\n            self.gainNode = self.audioContext.createGain();\n            self.gainNode.connect(self.audioContext.destination);\n            self.gainNode.gain.value = 0; // don't hear self\n        }\n\n        var audioTracksLength = 0;\n        arrayOfMediaStreams.forEach(function(stream) {\n            if (!stream.getTracks().filter(function(t) {\n                    return t.kind === 'audio';\n                }).length) {\n                return;\n            }\n\n            audioTracksLength++;\n\n            var audioSource = self.audioContext.createMediaStreamSource(stream);\n\n            if (self.useGainNode === true) {\n                audioSource.connect(self.gainNode);\n            }\n\n            self.audioSources.push(audioSource);\n        });\n\n        if (!audioTracksLength) {\n            // because \"self.audioContext\" is not initialized\n            // that's why we've to ignore rest of the code\n            return;\n        }\n\n        self.audioDestination = self.audioContext.createMediaStreamDestination();\n        self.audioSources.forEach(function(audioSource) {\n            audioSource.connect(self.audioDestination);\n        });\n        return self.audioDestination.stream;\n    }\n\n    function getVideo(stream) {\n        var video = document.createElement('video');\n\n        setSrcObject(stream, video);\n\n        video.className = elementClass;\n\n        video.muted = true;\n        video.volume = 0;\n\n        video.width = stream.width || self.width || 360;\n        video.height = stream.height || self.height || 240;\n\n        video.play();\n\n        return video;\n    }\n\n    this.appendStreams = function(streams) {\n        if (!streams) {\n            throw 'First parameter is required.';\n        }\n\n        if (!(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        streams.forEach(function(stream) {\n            var newStream = new MediaStream();\n\n            if (stream.getTracks().filter(function(t) {\n                    return t.kind === 'video';\n                }).length) {\n                var video = getVideo(stream);\n                video.stream = stream;\n                videos.push(video);\n\n                newStream.addTrack(stream.getTracks().filter(function(t) {\n                    return t.kind === 'video';\n                })[0]);\n            }\n\n            if (stream.getTracks().filter(function(t) {\n                    return t.kind === 'audio';\n                }).length) {\n                var audioSource = self.audioContext.createMediaStreamSource(stream);\n                self.audioDestination = self.audioContext.createMediaStreamDestination();\n                audioSource.connect(self.audioDestination);\n\n                newStream.addTrack(self.audioDestination.stream.getTracks().filter(function(t) {\n                    return t.kind === 'audio';\n                })[0]);\n            }\n\n            arrayOfMediaStreams.push(newStream);\n        });\n    };\n\n    this.releaseStreams = function() {\n        videos = [];\n        isStopDrawingFrames = true;\n\n        if (self.gainNode) {\n            self.gainNode.disconnect();\n            self.gainNode = null;\n        }\n\n        if (self.audioSources.length) {\n            self.audioSources.forEach(function(source) {\n                source.disconnect();\n            });\n            self.audioSources = [];\n        }\n\n        if (self.audioDestination) {\n            self.audioDestination.disconnect();\n            self.audioDestination = null;\n        }\n\n        if (self.audioContext) {\n            self.audioContext.close();\n        }\n\n        self.audioContext = null;\n\n        context.clearRect(0, 0, canvas.width, canvas.height);\n\n        if (canvas.stream) {\n            canvas.stream.stop();\n            canvas.stream = null;\n        }\n    };\n\n    this.resetVideoStreams = function(streams) {\n        if (streams && !(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        resetVideoStreams(streams);\n    };\n\n    function resetVideoStreams(streams) {\n        videos = [];\n        streams = streams || arrayOfMediaStreams;\n\n        // via: @adrian-ber\n        streams.forEach(function(stream) {\n            if (!stream.getTracks().filter(function(t) {\n                    return t.kind === 'video';\n                }).length) {\n                return;\n            }\n\n            var video = getVideo(stream);\n            video.stream = stream;\n            videos.push(video);\n        });\n    }\n\n    // for debugging\n    this.name = 'MultiStreamsMixer';\n    this.toString = function() {\n        return this.name;\n    };\n\n    this.getMixedStream = getMixedStream;\n\n}\n\nif (typeof RecordRTC === 'undefined') {\n    if (typeof module !== 'undefined' /* && !!module.exports*/ ) {\n        module.exports = MultiStreamsMixer;\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        define('MultiStreamsMixer', [], function() {\n            return MultiStreamsMixer;\n        });\n    }\n}\n\n// ______________________\n// MultiStreamRecorder.js\n\n/*\n * Video conference recording, using captureStream API along with WebAudio and Canvas2D API.\n */\n\n/**\n * MultiStreamRecorder can record multiple videos in single container.\n * @summary Multi-videos recorder.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef MultiStreamRecorder\n * @class\n * @example\n * var options = {\n *     mimeType: 'video/webm'\n * }\n * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n *\n *     // or\n *     var blob = recorder.blob;\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStreams} mediaStreams - Array of MediaStreams.\n * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: \"video/webm\"}\n */\n\nfunction MultiStreamRecorder(arrayOfMediaStreams, options) {\n    arrayOfMediaStreams = arrayOfMediaStreams || [];\n    var self = this;\n\n    var mixer;\n    var mediaRecorder;\n\n    options = options || {\n        elementClass: 'multi-streams-mixer',\n        mimeType: 'video/webm',\n        video: {\n            width: 360,\n            height: 240\n        }\n    };\n\n    if (!options.frameInterval) {\n        options.frameInterval = 10;\n    }\n\n    if (!options.video) {\n        options.video = {};\n    }\n\n    if (!options.video.width) {\n        options.video.width = 360;\n    }\n\n    if (!options.video.height) {\n        options.video.height = 240;\n    }\n\n    /**\n     * This method records all MediaStreams.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        // github/muaz-khan/MultiStreamsMixer\n        mixer = new MultiStreamsMixer(arrayOfMediaStreams, options.elementClass || 'multi-streams-mixer');\n\n        if (getAllVideoTracks().length) {\n            mixer.frameInterval = options.frameInterval || 10;\n            mixer.width = options.video.width || 360;\n            mixer.height = options.video.height || 240;\n            mixer.startDrawingFrames();\n        }\n\n        if (options.previewStream && typeof options.previewStream === 'function') {\n            options.previewStream(mixer.getMixedStream());\n        }\n\n        // record using MediaRecorder API\n        mediaRecorder = new MediaStreamRecorder(mixer.getMixedStream(), options);\n        mediaRecorder.record();\n    };\n\n    function getAllVideoTracks() {\n        var tracks = [];\n        arrayOfMediaStreams.forEach(function(stream) {\n            getTracks(stream, 'video').forEach(function(track) {\n                tracks.push(track);\n            });\n        });\n        return tracks;\n    }\n\n    /**\n     * This method stops recording MediaStream.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        if (!mediaRecorder) {\n            return;\n        }\n\n        mediaRecorder.stop(function(blob) {\n            self.blob = blob;\n\n            callback(blob);\n\n            self.clearRecordedData();\n        });\n    };\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        if (mediaRecorder) {\n            mediaRecorder.pause();\n        }\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        if (mediaRecorder) {\n            mediaRecorder.resume();\n        }\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        if (mediaRecorder) {\n            mediaRecorder.clearRecordedData();\n            mediaRecorder = null;\n        }\n\n        if (mixer) {\n            mixer.releaseStreams();\n            mixer = null;\n        }\n    };\n\n    /**\n     * Add extra media-streams to existing recordings.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\n     * @example\n     * recorder.addStreams([newAudioStream, newVideoStream]);\n     */\n    this.addStreams = function(streams) {\n        if (!streams) {\n            throw 'First parameter is required.';\n        }\n\n        if (!(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        arrayOfMediaStreams.concat(streams);\n\n        if (!mediaRecorder || !mixer) {\n            return;\n        }\n\n        mixer.appendStreams(streams);\n\n        if (options.previewStream && typeof options.previewStream === 'function') {\n            options.previewStream(mixer.getMixedStream());\n        }\n    };\n\n    /**\n     * Reset videos during live recording. Replace old videos e.g. replace cameras with full-screen.\n     * @method\n     * @memberof MultiStreamRecorder\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\n     * @example\n     * recorder.resetVideoStreams([newVideo1, newVideo2]);\n     */\n    this.resetVideoStreams = function(streams) {\n        if (!mixer) {\n            return;\n        }\n\n        if (streams && !(streams instanceof Array)) {\n            streams = [streams];\n        }\n\n        mixer.resetVideoStreams(streams);\n    };\n\n    /**\n     * Returns MultiStreamsMixer\n     * @method\n     * @memberof MultiStreamRecorder\n     * @example\n     * let mixer = recorder.getMixer();\n     * mixer.appendStreams([newStream]);\n     */\n    this.getMixer = function() {\n        return mixer;\n    };\n\n    // for debugging\n    this.name = 'MultiStreamRecorder';\n    this.toString = function() {\n        return this.name;\n    };\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.MultiStreamRecorder = MultiStreamRecorder;\n}\n\n// _____________________\n// RecordRTC.promises.js\n\n/**\n * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}\n * @summary Promises for {@link RecordRTC}\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef RecordRTCPromisesHandler\n * @class\n * @example\n * var recorder = new RecordRTCPromisesHandler(mediaStream, options);\n * recorder.startRecording()\n *         .then(successCB)\n *         .catch(errorCB);\n * // Note: You can access all RecordRTC API using \"recorder.recordRTC\" e.g. \n * recorder.recordRTC.onStateChanged = function(state) {};\n * recorder.recordRTC.setRecordingDuration(5000);\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\n * @throws Will throw an error if \"new\" keyword is not used to initiate \"RecordRTCPromisesHandler\". Also throws error if first argument \"MediaStream\" is missing.\n * @requires {@link RecordRTC}\n */\n\nfunction RecordRTCPromisesHandler(mediaStream, options) {\n    if (!this) {\n        throw 'Use \"new RecordRTCPromisesHandler()\"';\n    }\n\n    if (typeof mediaStream === 'undefined') {\n        throw 'First argument \"MediaStream\" is required.';\n    }\n\n    var self = this;\n\n    /**\n     * @property {Blob} blob - Access/reach the native {@link RecordRTC} object.\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * let internal = recorder.recordRTC.getInternalRecorder();\n     * alert(internal instanceof MediaStreamRecorder);\n     * recorder.recordRTC.onStateChanged = function(state) {};\n     */\n    self.recordRTC = new RecordRTC(mediaStream, options);\n\n    /**\n     * This method records MediaStream.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.startRecording()\n     *         .then(successCB)\n     *         .catch(errorCB);\n     */\n    this.startRecording = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                self.recordRTC.startRecording();\n                resolve();\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method stops the recording.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.stopRecording().then(function() {\n     *     var blob = recorder.getBlob();\n     * }).catch(errorCB);\n     */\n    this.stopRecording = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                self.recordRTC.stopRecording(function(url) {\n                    self.blob = self.recordRTC.getBlob();\n\n                    if (!self.blob || !self.blob.size) {\n                        reject('Empty blob.', self.blob);\n                        return;\n                    }\n\n                    resolve(url);\n                });\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.pauseRecording()\n     *         .then(successCB)\n     *         .catch(errorCB);\n     */\n    this.pauseRecording = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                self.recordRTC.pauseRecording();\n                resolve();\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method resumes the recording.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.resumeRecording()\n     *         .then(successCB)\n     *         .catch(errorCB);\n     */\n    this.resumeRecording = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                self.recordRTC.resumeRecording();\n                resolve();\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method returns data-url for the recorded blob.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.stopRecording().then(function() {\n     *     recorder.getDataURL().then(function(dataURL) {\n     *         window.open(dataURL);\n     *     }).catch(errorCB);;\n     * }).catch(errorCB);\n     */\n    this.getDataURL = function(callback) {\n        return new Promise(function(resolve, reject) {\n            try {\n                self.recordRTC.getDataURL(function(dataURL) {\n                    resolve(dataURL);\n                });\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method returns the recorded blob.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.stopRecording().then(function() {\n     *     recorder.getBlob().then(function(blob) {})\n     * }).catch(errorCB);\n     */\n    this.getBlob = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                resolve(self.recordRTC.getBlob());\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method returns the internal recording object.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * let internalRecorder = await recorder.getInternalRecorder();\n     * if(internalRecorder instanceof MultiStreamRecorder) {\n     *     internalRecorder.addStreams([newAudioStream]);\n     *     internalRecorder.resetVideoStreams([screenStream]);\n     * }\n     * @returns {Object} \n     */\n    this.getInternalRecorder = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                resolve(self.recordRTC.getInternalRecorder());\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * This method resets the recorder. So that you can reuse single recorder instance many times.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * await recorder.reset();\n     * recorder.startRecording(); // record again\n     */\n    this.reset = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                resolve(self.recordRTC.reset());\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * Destroy RecordRTC instance. Clear all recorders and objects.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * recorder.destroy().then(successCB).catch(errorCB);\n     */\n    this.destroy = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                resolve(self.recordRTC.destroy());\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * Get recorder's readonly state.\n     * @method\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * let state = await recorder.getState();\n     * // or\n     * recorder.getState().then(state => { console.log(state); })\n     * @returns {String} Returns recording state.\n     */\n    this.getState = function() {\n        return new Promise(function(resolve, reject) {\n            try {\n                resolve(self.recordRTC.getState());\n            } catch (e) {\n                reject(e);\n            }\n        });\n    };\n\n    /**\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\n     * @memberof RecordRTCPromisesHandler\n     * @example\n     * await recorder.stopRecording();\n     * let blob = recorder.getBlob(); // or \"recorder.recordRTC.blob\"\n     * invokeSaveAsDialog(blob);\n     */\n    this.blob = null;\n\n    /**\n     * RecordRTC version number\n     * @property {String} version - Release version number.\n     * @memberof RecordRTCPromisesHandler\n     * @static\n     * @readonly\n     * @example\n     * alert(recorder.version);\n     */\n    this.version = '5.6.1';\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.RecordRTCPromisesHandler = RecordRTCPromisesHandler;\n}\n\n// ______________________\n// WebAssemblyRecorder.js\n\n/**\n * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.\n * @summary Video recording feature in Chrome, Firefox and maybe Edge.\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\n * @author {@link https://MuazKhan.com|Muaz Khan}\n * @typedef WebAssemblyRecorder\n * @class\n * @example\n * var recorder = new WebAssemblyRecorder(mediaStream);\n * recorder.record();\n * recorder.stop(function(blob) {\n *     video.src = URL.createObjectURL(blob);\n * });\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\n * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}\n */\nfunction WebAssemblyRecorder(stream, config) {\n    // based on: github.com/GoogleChromeLabs/webm-wasm\n\n    if (typeof ReadableStream === 'undefined' || typeof WritableStream === 'undefined') {\n        // because it fixes readable/writable streams issues\n        console.error('Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js');\n    }\n\n    config = config || {};\n\n    config.width = config.width || 640;\n    config.height = config.height || 480;\n    config.frameRate = config.frameRate || 30;\n    config.bitrate = config.bitrate || 1200;\n    config.realtime = config.realtime || true;\n\n    function createBufferURL(buffer, type) {\n        return URL.createObjectURL(new Blob([buffer], {\n            type: type || ''\n        }));\n    }\n\n    var finished;\n\n    function cameraStream() {\n        return new ReadableStream({\n            start: function(controller) {\n                var cvs = document.createElement('canvas');\n                var video = document.createElement('video');\n                var first = true;\n                video.srcObject = stream;\n                video.muted = true;\n                video.height = config.height;\n                video.width = config.width;\n                video.volume = 0;\n                video.onplaying = function() {\n                    cvs.width = config.width;\n                    cvs.height = config.height;\n                    var ctx = cvs.getContext('2d');\n                    var frameTimeout = 1000 / config.frameRate;\n                    var cameraTimer = setInterval(function f() {\n                        if (finished) {\n                            clearInterval(cameraTimer);\n                            controller.close();\n                        }\n\n                        if (first) {\n                            first = false;\n                            if (config.onVideoProcessStarted) {\n                                config.onVideoProcessStarted();\n                            }\n                        }\n\n                        ctx.drawImage(video, 0, 0);\n                        if (controller._controlledReadableStream.state !== 'closed') {\n                            try {\n                                controller.enqueue(\n                                    ctx.getImageData(0, 0, config.width, config.height)\n                                );\n                            } catch (e) {}\n                        }\n                    }, frameTimeout);\n                };\n                video.play();\n            }\n        });\n    }\n\n    var worker;\n\n    function startRecording(stream, buffer) {\n        if (!config.workerPath && !buffer) {\n            finished = false;\n\n            // is it safe to use @latest ?\n\n            fetch(\n                'https://unpkg.com/webm-wasm@latest/dist/webm-worker.js'\n            ).then(function(r) {\n                r.arrayBuffer().then(function(buffer) {\n                    startRecording(stream, buffer);\n                });\n            });\n            return;\n        }\n\n        if (!config.workerPath && buffer instanceof ArrayBuffer) {\n            var blob = new Blob([buffer], {\n                type: 'text/javascript'\n            });\n            config.workerPath = URL.createObjectURL(blob);\n        }\n\n        if (!config.workerPath) {\n            console.error('workerPath parameter is missing.');\n        }\n\n        worker = new Worker(config.workerPath);\n\n        worker.postMessage(config.webAssemblyPath || 'https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm');\n        worker.addEventListener('message', function(event) {\n            if (event.data === 'READY') {\n                worker.postMessage({\n                    width: config.width,\n                    height: config.height,\n                    bitrate: config.bitrate || 1200,\n                    timebaseDen: config.frameRate || 30,\n                    realtime: config.realtime\n                });\n\n                cameraStream().pipeTo(new WritableStream({\n                    write: function(image) {\n                        if (finished) {\n                            console.error('Got image, but recorder is finished!');\n                            return;\n                        }\n\n                        worker.postMessage(image.data.buffer, [image.data.buffer]);\n                    }\n                }));\n            } else if (!!event.data) {\n                if (!isPaused) {\n                    arrayOfBuffers.push(event.data);\n                }\n            }\n        });\n    }\n\n    /**\n     * This method records video.\n     * @method\n     * @memberof WebAssemblyRecorder\n     * @example\n     * recorder.record();\n     */\n    this.record = function() {\n        arrayOfBuffers = [];\n        isPaused = false;\n        this.blob = null;\n        startRecording(stream);\n\n        if (typeof config.initCallback === 'function') {\n            config.initCallback();\n        }\n    };\n\n    var isPaused;\n\n    /**\n     * This method pauses the recording process.\n     * @method\n     * @memberof WebAssemblyRecorder\n     * @example\n     * recorder.pause();\n     */\n    this.pause = function() {\n        isPaused = true;\n    };\n\n    /**\n     * This method resumes the recording process.\n     * @method\n     * @memberof WebAssemblyRecorder\n     * @example\n     * recorder.resume();\n     */\n    this.resume = function() {\n        isPaused = false;\n    };\n\n    function terminate(callback) {\n        if (!worker) {\n            if (callback) {\n                callback();\n            }\n\n            return;\n        }\n\n        // Wait for null event data to indicate that the encoding is complete\n        worker.addEventListener('message', function(event) {\n            if (event.data === null) {\n                worker.terminate();\n                worker = null;\n\n                if (callback) {\n                    callback();\n                }\n            }\n        });\n\n        worker.postMessage(null);\n    }\n\n    var arrayOfBuffers = [];\n\n    /**\n     * This method stops recording video.\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\n     * @method\n     * @memberof WebAssemblyRecorder\n     * @example\n     * recorder.stop(function(blob) {\n     *     video.src = URL.createObjectURL(blob);\n     * });\n     */\n    this.stop = function(callback) {\n        finished = true;\n\n        var recorder = this;\n\n        terminate(function() {\n            recorder.blob = new Blob(arrayOfBuffers, {\n                type: 'video/webm'\n            });\n\n            callback(recorder.blob);\n        });\n    };\n\n    // for debugging\n    this.name = 'WebAssemblyRecorder';\n    this.toString = function() {\n        return this.name;\n    };\n\n    /**\n     * This method resets currently recorded data.\n     * @method\n     * @memberof WebAssemblyRecorder\n     * @example\n     * recorder.clearRecordedData();\n     */\n    this.clearRecordedData = function() {\n        arrayOfBuffers = [];\n        isPaused = false;\n        this.blob = null;\n\n        // todo: if recording-ON then STOP it first\n    };\n\n    /**\n     * @property {Blob} blob - The recorded blob object.\n     * @memberof WebAssemblyRecorder\n     * @example\n     * recorder.stop(function(){\n     *     var blob = recorder.blob;\n     * });\n     */\n    this.blob = null;\n}\n\nif (typeof RecordRTC !== 'undefined') {\n    RecordRTC.WebAssemblyRecorder = WebAssemblyRecorder;\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAXCAYAAAAGAx/kAAAAAXNSR0IArs4c6QAAATxJREFUOBHtlNFtg0AMhnvAANmgdIJ0BLoBPCNomQA2SDJByQS0IJ47QsgE7QYlG9B34Po5SqRUES1IeakUS5Z9l///z3aE1Q1WFMVSa/2olLLlPNbg1HDSIAjWSkQgLvBXvManmAt4jnsiVJNUqD4RJ5vwpTID5i1eT1Y4EEREUhG6iF2F/h7jdUb/cUbWb0VnWTYzTfMZTNN13SqKomYIP/j381U7iHyybzw8sSxrU5bl/SQhRFIIGwR2hmE45A/4Xd/37/wWk5/Zj9bkRcAZKHl5zY5KjgzatKnwRTYiYm7btt5pq7LYNOAVe6UhLgAqootIRTyzPM8TILKaNTEi7B/bz4hDzKUMdctL9pCIqIZhmEq74Hcc3/C53B8r+kJsKSC5HGuHWcZwt0pKpffK9/2PsQKnOMQczrNv/bCIOm6IGCEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAY5JREFUOBF1k1l2AyEMBAGJsW/ie+ZuOdekq1kejpMPnphFpW4J6vfX666tltpKaYqlVsdKDN7XEtG013ciz3lE7ZMfd6JBjUcn8w1AnXEBACcgACwDqKjE1gZgK+DHqWSDAOo98Oj63rNkANCPXoB+SfazlWBPiQDmalcv7XGVPAFv0p0oZasHerYFK4iyABUlli4vbwB6s6wQlbgBV5R6XSWkoGYalkxhdXsnqirwN/nYRP60ACC0t5JUc7bks4n4nj0w7KEEFMxEwwTadvhpjW9HQZaF9rykQKuPygYBSFmL0HS0WYkocuIC8A3vqr4VdHqh91qS6ujGItsHa1mY8wdAdaQjOwTQKJSYAqgNgHS2ckimufExfyfKxppCdaJsHACrX0fXzeuSp6q2QOUPgHrAqUbJPKAc9ewkihx/zJ8jjR2kjx4IoD74qghGBJoooWlDgbzn0cTpfTXRPfDlbOUWgLtmJanxje4rUhmgx3d4ZwpSsyqPCI2LKzvt+fh3/q6MlUP6CWB/33f5ASCTD7DvjOpkAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/1.7664416f.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAMCAYAAACnfgdqAAAABHNCSVQICAgIfAhkiAAAAIRJREFUCFtjFNW2uMDwn4H/97cfhowiWpYPGBkZ5H///a/IKKBgIMDAwSHw4caJB4wMSIBRQMNCgZXpr8Dra6cvMIpoWXxgZGTkZ/j/x5BRWNtyAuP//wZ/vv0IQNWDYoCIpmUBI+N//dfXTiQyimpb/gfJ/v/735FRWNMSpFHhzfXjEwBCKSrVXXZ3pwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/video.a7363ff2.mp4\";","import React from 'react';\r\nimport { Row , Col } from 'react-bootstrap';\r\n\r\nimport './side-image.style.css';\r\n\r\n\r\nexport default function SideImage(){\r\n        return(\r\n            <Row className=\" p-0 m-0 align-items-end side-bg\">\r\n                <Col xs={12} className=\"text-left pb-5 pl-5 side-container\">\r\n                        <h1 className=\"text-white \"><strong className=\"pr-2\">Join Our</strong><br/><strong>Community</strong></h1>\r\n                        <p className=\"text-white pr-5\">Spreago expertly connects professionals and agencies to businesses seeking specialized talent.</p>\r\n                </Col>\r\n            </Row>\r\n        );\r\n}","/* global gapi */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { graphql } from 'react-apollo';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport { FormControlLabel, Checkbox, Typography, Button } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport { gql } from 'apollo-boost';\r\nimport { ValidatorForm} from 'react-material-ui-form-validator';\r\nimport { withRouter } from 'react-router';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport * as compose from 'lodash.flowright';\r\n\r\nimport './login.style.css';\r\nimport Logo from '../../images/logo.png';\r\n\r\nclass  Login extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            showPassword: false,\r\n            checkedB: false,\r\n            email : '',\r\n            password : '',\r\n            error: '',\r\n            user : '',\r\n            code : '',\r\n            bearerTokenResponse : '',\r\n            to : '',\r\n            userType : '',\r\n            loginFrom : 'local',\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        if(localStorage.userType ){\r\n            this.props.history.push({\r\n                pathname: '/homepage',\r\n                state :localStorage\r\n            });   \r\n            }\r\n        else if(localStorage.jwt){\r\n            this.props.history.push({\r\n                pathname: '/homepage',\r\n                state :localStorage.jwt\r\n            }); \r\n         }\r\n        }\r\n    render (){\r\n        const handleChangePassword = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value });\r\n        };\r\n        const handleChangeEmail = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value });\r\n        };\r\n        const handleClickShowPassword = () => {\r\n            this.setState({ ...this.state, showPassword: !this.state.showPassword });\r\n        };\r\n    \r\n        const handleMouseDownPassword = event => {\r\n            event.preventDefault();\r\n        };\r\n        const handleChangeC = name => event => {\r\n            this.setState({ ...this.state, [name]: event.target.checked });\r\n        };\r\n        const responseGoogle = (response) => {\r\n            if(response.accessToken){\r\n            this.setState({...this.state,accessToken : response.accessToken });\r\n            this.props.loginSocial({\r\n                variables : {\r\n                    token : this.state.accessToken,\r\n                    provider : \"google\"\r\n                }\r\n            }).then((res)=>{\r\n                // if not loged in before \r\n                if(res.data.loginSocialite.user === null){\r\n                    this.props.history.push({\r\n                        pathname: '/registration',\r\n                        state : response\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state,error : res.data.loginSocialite.Status.message, user :res.data.loginSocialite.user ,code : res.data.loginSocialite.Status.code , bearerTokenResponse :res.data.loginSocialite.BearerTokenResponse , userType : res.data.loginSocialite.user.typeName })\r\n                   // localStorage.setItem('BearerToken',res.data.loginSocialite.BearerTokenResponse);\r\n                    localStorage.setItem('jwt',JSON.stringify(res.data.loginSocialite));\r\n                    this.props.history.push({\r\n                        pathname: '/homepage',\r\n                        state : this.state\r\n                    });\r\n                }\r\n            })\r\n        }\r\n          }\r\n    return (\r\n            <div className=\"container-custom\">\r\n                <ValidatorForm  \r\n                    onSubmit={e => {\r\n                    e.preventDefault();\r\n                    // if(ValidateEmail(this.state.email)){\r\n                        this.props.login({\r\n                            variables : {\r\n                                email : this.state.email,\r\n                                password : this.state.password\r\n                            }\r\n                        }).then((res)=>\r\n                        {  \r\n                            if(res.data.login.user == null){\r\n                                this.setState({...this.state, error : res.data.login.Status.message })\r\n                            }\r\n                            else {\r\n                                this.setState({...this.state,error : res.data.login.Status.message, user :res.data.login.user ,code : res.data.login.Status.code , bearerTokenResponse :res.data.login.BearerTokenResponse , userType : res.data.login.user.typeName })\r\n                                //localStorage.setItem('BearerToken',res.data.res.data.login.BearerTokenResponse);\r\n                               // console.log(res.data.login);\r\n                                localStorage.setItem('jwt',JSON.stringify(res.data.login));\r\n\r\n                                this.props.history.push({\r\n                                    pathname: '/homepage',\r\n                                    state : this.state\r\n                                });\r\n                            }\r\n                            if(this.state.checkedB === true){\r\n                                localStorage.setItem('userType', this.state.userType);\r\n                                }\r\n                        } )\r\n                        .catch((err)=>this.setState({...this.state, error : \"Check your internet connection\" }));                   \r\n                    // }\r\n                    }}\r\n                     className=\"container pt-10 pb-1\" autoComplete=\"off\">\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <img src={Logo} alt=\"spreago logo\" width=\"150px\"/>\r\n                    </div>\r\n                    <div className=\"pb-3\">\r\n                        <Typography variant=\"h4\" color=\"primary\">Welcome Back</Typography>\r\n                    </div>\r\n                    <Row className=\"justify-content-md-center mt-3\">\r\n\r\n                    </Row>\r\n                    <TextField\r\n                        fullWidth\r\n                        required\r\n                        label=\"Email\"\r\n                        type =\"email\"\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                        value={this.state.email}\r\n                        onChange={handleChangeEmail('email')}\r\n                    />\r\n                    <FormControl required  fullWidth className=\"mt-3\" variant=\"outlined\">\r\n                        <InputLabel htmlFor=\"outlined-adornment-password\">Password</InputLabel>\r\n                        <OutlinedInput\r\n                            id=\"outlined-adornment-password\"\r\n                            type={this.state.showPassword ? 'text' : 'password'}\r\n                            value={this.state.password}\r\n                            onChange={handleChangePassword('password')}\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={handleClickShowPassword}\r\n                                        onMouseDown={handleMouseDownPassword}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {this.state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                            labelWidth={70}\r\n                        />\r\n                    </FormControl>\r\n                    <div className=\"text-danger\"><p>{this.state.error}</p></div>\r\n                    <Row className=\"justify-content-md-center text-darkgrey\">\r\n                        <Col lg={5} xs={6} className=\"pr-0\">\r\n                            <FormControlLabel\r\n                                className=\"d-inline-block\"\r\n                                control={\r\n                                    <Checkbox\r\n                                        checked={this.state.checkedB}\r\n                                        onChange={handleChangeC('checkedB')}\r\n                                        value=\"checkedB\"\r\n                                        label=\"Remember me\"\r\n                                        color=\"primary\"\r\n                                    />\r\n                                }\r\n                                label=\"Remember me\"\r\n                            />\r\n                        </Col>\r\n                        <Col lg={{ span: 4, offset: 3 }} xs={6} className=\"text-right\">\r\n                            <Typography  className=\"d-inline-block mt-1 pt-1\">\r\n                                <Link to='/forgetPassword'  className=\"text-darkgrey\">\r\n                                     Forgot Password?\r\n                                </Link>\r\n                            </Typography>\r\n                        </Col>\r\n                        <Col xs={6} className=\"mt-4\">\r\n                            <Button type=\"submit\" size=\"large\" className=\"btn-orange-gradiant w-100 pr-4 pl-4\" variant=\"contained\" to={this.state.to} >Login</Button>\r\n                        </Col>\r\n                        <Col xs={6} className=\"mt-4\">\r\n                            <Button type=\"button\" size=\"large\" className=\"btn-white-gradiant w-100 pr-4 pl-4\"  variant=\"contained\" \r\n                            onClick={e=>{\r\n                                    this.props.history.push({\r\n                                        pathname:'/createAccount'\r\n                                    });\r\n                            }} color=\"secondary\" >Sign up</Button>\r\n                        </Col>\r\n                        <div className=\"dividor-container mt-4\"><span>Or</span></div>\r\n                        <Col xs={12}  className=\"col-md-auto text-center\">\r\n                              <GoogleLogin\r\n                                    className=\"btn-google rounded\"\r\n                                    clientId=\"468100560729-50aef0qmq47uv5tm413g8l6ijqmrrego.apps.googleusercontent.com\"\r\n                                    onSuccess={responseGoogle}\r\n                                    onFailure={responseGoogle}\r\n                                    cookiePolicy={'single_host_origin'}\r\n                                />\r\n                        </Col>\r\n                        {/* <Col className=\"text-right\">\r\n                            <Fab size=\"medium\" variant=\"outlined\" disabled   className=\"btn-social bg-white\" aria-label=\"add\">\r\n                                <FaGoogle size=\"1.5em\" />\r\n                            </Fab>\r\n                        </Col>\r\n                        <Col className=\"text-left\">\r\n                            <Fab size=\"medium\" variant=\"outlined\" disabled  className=\"btn-social bg-white\" aria-label=\"add\">\r\n                                <FaFacebookF size=\"1.5em\" />\r\n                            </Fab>\r\n                        </Col> */}\r\n                        {/* <Col className=\"text-center\">\r\n                            <div  className=\"btn-fb box-shadow-none text-center pt-1 rounded pb-1\">\r\n                                <div className=\"fb-login-button text-center\" data-width=\"\" data-size=\"medium\" data-button-type=\"login_with\" data-auto-logout-link=\"false\" data-use-continue-as=\"false\"></div>\r\n                            </div>\r\n                        </Col> */}\r\n                    </Row>\r\n                        \r\n                </ValidatorForm>\r\n            </div>\r\n    );\r\n    }\r\n   \r\n}\r\nconst LOGIN = gql`\r\nmutation( $email : Email ! $password : String ! ){\r\n   login(data: {\r\n     attempt:{\r\n       email: $email\r\n       password: $password \r\n     }\r\n   }){\r\n     BearerTokenResponse{\r\n       access_token\r\n       token_type\r\n     }\r\n     user{\r\n        id\r\n        name\r\n        typeName\r\n      }\r\n     Status{\r\n       message\r\n       code\r\n       check\r\n       title\r\n     }\r\n   }\r\n }\r\n`;\r\n\r\nconst LOGIN_SOCIAL = gql `\r\nmutation( $token : String  $provider : String  ){\r\n    loginSocialite(data: {\r\n      SocialiteInput:{\r\n        token : $token\r\n        provider : $provider\r\n      }\r\n    }){\r\n     BearerTokenResponse{\r\n        access_token\r\n        token_type\r\n        }\r\n      user{\r\n        id\r\n        name\r\n        typeName\r\n      }\r\n      Status{\r\n        message\r\n        code\r\n      }\r\n    }\r\n  }\r\n`\r\nexport default compose(\r\n    graphql(LOGIN, {\r\n    name : 'login'\r\n  }),\r\n    graphql(LOGIN_SOCIAL, {\r\n    name: 'loginSocial'\r\n  })\r\n)(withRouter(Login));","import React from 'react';\r\nimport { Container,Row,Col } from 'react-bootstrap';\r\nimport SideImage from '../side-image/side-image.component';\r\nimport Login from '../login/login.component';\r\n\r\nfunction LoginPage(){\r\n        return(\r\n                <Container fluid className=\"p-0 m-0 bg-light\">\r\n                    <Row className=\"p-0 m-0\">\r\n                        <Col  md={6} xs={12} className=\"p-0 m-0 order-sm-1 order-2\">\r\n                            <Login/>\r\n                        </Col>\r\n                        <Col md={6} xs={12} className=\"p-0 m-0 order-sm-2 order-1\">\r\n                             <SideImage/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n        );\r\n}\r\nexport default LoginPage;","import React, { Component } from 'react';\r\nimport { graphql } from 'react-apollo';\r\nimport { gql } from 'apollo-boost';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { Typography, Button, TextField } from '@material-ui/core';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport Logo from '../../images/logo.png';\r\n\r\n\r\nclass CreateAcc extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            errorMessage: '',\r\n            to: '/registration',\r\n            from: '/createAccount',\r\n        }\r\n    }\r\n    render() {\r\n        const handleChangeEmail = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value });\r\n        };\r\n        const ValidateEmail = (mail) => {\r\n            if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(mail)) {\r\n                this.setState({ ...this.state, errorMessage: '' });\r\n                return (true)\r\n            }\r\n            this.setState({ ...this.state, errorMessage: 'You have entered an invalid email address!' });\r\n            return (false)\r\n        }\r\n        return (\r\n            <div className=\"container-custom pt-10\">\r\n                <form\r\n                    onSubmit={e => {\r\n                        e.preventDefault();\r\n                        if(ValidateEmail(this.state.email)) {\r\n                            this.props.mutate({\r\n                                variables: {\r\n                                    email: this.state.email,\r\n                                }\r\n                            }).then((res) => {\r\n                                if (res.data.sendPinCodeForRegister.Status.code === 200) {\r\n                                    this.props.history.push({\r\n                                        pathname: '/emailConfirmation',\r\n                                        state: {\r\n                                            email: this.state.email,\r\n                                            to: this.state.to,\r\n                                            from: this.state.from\r\n                                        }\r\n                                    });\r\n                                    this.setState({ ...this.state, errorMessage: res.data.sendPinCodeForRegister.Status.message });\r\n                                }\r\n                                else {\r\n                                    this.setState({ ...this.state, errorMessage: res.data.sendPinCodeForRegister.Status.message });\r\n                                }\r\n                            }).catch((err) => this.setState({ ...this.state, errorMessage: \"Check your internet connection\" }))\r\n                        }\r\n                        }\r\n                    }\r\n                    className=\"container\" autoComplete=\"off\">\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <img src={Logo} alt=\"spreago logo\" width=\"150px\" />\r\n                    </div>\r\n                    <div className=\"pb-3\">\r\n                        <Typography variant=\"h4\" color=\"primary\" >Create Account</Typography>\r\n                    </div>\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <Typography variant=\"subtitle1\" className=\"text-dark\">Please enter your email address and you will receive the confirmation code to continue your registeration</Typography>\r\n                    </div>\r\n                    <div className=\"pt-4\">\r\n                        <TextField\r\n                            required\r\n                            fullWidth\r\n                            type=\"email\"\r\n                            label=\"Email\"\r\n                            color=\"primary\"\r\n                            variant=\"outlined\"\r\n                            value={this.state.email}\r\n                            onChange={handleChangeEmail('email')}\r\n                        />\r\n                    </div>\r\n                    <Row className=\"pt-3\">\r\n                        <Col xs={12}>\r\n                            <div className=\"text-danger\"><p>{this.state.errorMessage}</p></div>\r\n                        </Col>\r\n                        <Col xs={6} className=\"text-right\">\r\n                            <Button type=\"submit\" size=\"large\" className=\"btn-orange-gradiant pr-5  w-100 pl-5\" variant=\"contained\" color=\"primary\">Continue</Button>\r\n                        </Col>\r\n                        <Col xs={6} className=\"text-left\">\r\n                            <Button\r\n                                size=\"large\"\r\n                                className=\"btn-white-gradiant pr-5 pl-5  w-100\"\r\n                                onClick={e => {\r\n                                    this.props.history.push({\r\n                                        pathname: '/'\r\n                                    })\r\n                                }}>Login\r\n                                </Button>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst SEND_CODE = gql`\r\nmutation( $email : Email! ){\r\n    sendPinCodeForRegister(email: $email){\r\n      Status{\r\n        code\r\n        message\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport default graphql(SEND_CODE)(withRouter(CreateAcc))","import React from 'react';\r\nimport { Container,Row,Col } from 'react-bootstrap';\r\nimport SideImage from '../side-image/side-image.component';\r\nimport CreateAcc from '../create-acc/create-acc.component';\r\n\r\nfunction CreateAccPage(){\r\n        return(\r\n                <Container fluid className=\"p-0 m-0 bg-light\">\r\n                    <Row className=\"p-0 m-0\">\r\n                        <Col  md={6} xs={12} className=\"p-0 m-0 order-sm-1 order-2\">\r\n                            <CreateAcc/>\r\n                        </Col>\r\n                        <Col md={6} xs={12} className=\"p-0 m-0 order-sm-2 order-1\">\r\n                             <SideImage/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n        );\r\n}\r\nexport default CreateAccPage;","import React,{ Component } from 'react';\r\nimport { graphql } from 'react-apollo';\r\nimport { gql } from 'apollo-boost';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport { withRouter } from 'react-router';\r\nimport ReactCodeInput from 'react-verification-code-input';\r\nimport * as compose from 'lodash.flowright';\r\n\r\nimport './email-conf.style.css';\r\nimport Logo from '../../images/logo.png';\r\n\r\n\r\nclass  EmailConf extends  Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            email : this.props.email,\r\n            to : this.props.to,\r\n            code : '',\r\n            errorMessage : '',\r\n            from : this.props.location.state.from,\r\n            inputreset : ''\r\n        }\r\n    }\r\n    render(){\r\n        const handelSubmit = (e) => {\r\n            e.preventDefault();\r\n            let inputs = document.querySelectorAll('input');\r\n            let code = \"\";\r\n            for(var x = 0; x < inputs.length; x++){\r\n                code = code + inputs[x].value\r\n            }\r\n            if(code.length === 5){\r\n                this.setState({...this.state , code: code})                           \r\n                this.props.emailConfirmation({\r\n                    variables : {\r\n                        email : this.state.email,\r\n                        pin_code : code\r\n                    }\r\n                }).then((res)=>{\r\n                    if(res.data.verifyPinCode.Status.code === 200){\r\n                        this.props.history.push({\r\n                            pathname: this.state.to,\r\n                            state: { \r\n                                email: this.state.email,\r\n                                code : this.state.code\r\n                             }\r\n                        });\r\n                    }\r\n                    this.setState({ ...this.state,errorMessage:res.data.verifyPinCode.Status.message })\r\n                })\r\n                .catch((err)=> this.setState({...this.state, errorMessage : \"Email is not valid\"}));\r\n            }else{\r\n                this.setState({ ...this.state,errorMessage: \"Please enter  valid pin code\" })\r\n            }}\r\n        const resetForm =()=>{\r\n            this.setState({ ...this.state, inputreset: \"\" })\r\n             return true;\r\n        }\r\n     return (\r\n            <div className=\"container-custom pt-10\">\r\n                <form \r\n                    id = \"myForm\"\r\n                    onSubmit={handelSubmit}\r\n                    className=\"container mb-5\" autoComplete=\"off\">\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <img src={Logo} alt=\"spreago logo\" width=\"150px\"/>\r\n                    </div>\r\n                    <div className=\"pb-1\">\r\n                        <Typography variant=\"h4\" color=\"primary\" >Email Confirmation</Typography>\r\n                    </div>\r\n                    <div className=\"pt-1 pb-3\">\r\n                     <Typography variant=\"subtitle1\" className=\"text-dark\">Please write down the 5 digit that was sent to {this.state.email}</Typography>\r\n                    </div>\r\n                    <Row className=\"text-center pt-3 customInput\">\r\n                        <Col md={12}>\r\n                          <ReactCodeInput \r\n                            fields={5} \r\n                            fieldHeight={100} \r\n                            className=\"w-auto\" \r\n                            onComplete={()=>\r\n                            {\r\n                            let inputs = document.querySelectorAll('input');\r\n                            let code = \"\";\r\n                            for(var x = 0; x < inputs.length; x++){\r\n                                code = code + inputs[x].value\r\n                            }\r\n                            if(code.length === 5){\r\n                                this.setState({...this.state , code: code})                           \r\n                                this.props.emailConfirmation({\r\n                                    variables : {\r\n                                        email : this.state.email,\r\n                                        pin_code : code\r\n                                    }\r\n                                }).then((res)=>{\r\n                                    if(res.data.verifyPinCode.Status.code === 200){\r\n                                        this.props.history.push({\r\n                                            pathname: this.state.to,\r\n                                            state: { \r\n                                                email: this.state.email,\r\n                                                code : this.state.code\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                    this.setState({ ...this.state,errorMessage:res.data.verifyPinCode.Status.message })\r\n                                })\r\n                                .catch((err)=> this.setState({...this.state, errorMessage : \"Email is not valid\"}));\r\n                            }}}\r\n                          />\r\n                        </Col>\r\n                        <Col><div className=\"text-danger text-center\"><p>{this.state.errorMessage}</p></div></Col>\r\n                    </Row>\r\n                    <Row className=\"pt-3\">\r\n                        <Col xs={12} className=\"text-center\">\r\n                            <Button size=\"large\" type=\"submit\" className=\"btn-orange-gradiant pr-5 pl-5\" variant=\"contained\" color=\"primary\"><Typography>Next</Typography></Button>\r\n                        </Col>\r\n                        <Col xs={12} className=\"text-center pt-1\">\r\n                            <Typography variant=\"subtitle1\" className=\"text-dark\"> Didn't receive the email? \r\n                            <Button  size=\"large\"\r\n                            onClick={e => {\r\n                                if(resetForm()){\r\n                                    if(this.state.from === '/forgetPassword'){\r\n                                        this.props.sendCodeForReset({\r\n                                            variables : {\r\n                                                email : this.state.email,\r\n                                            }\r\n                                        }).then((res)=>{\r\n                                            if(res.data.sendPinCodeForpasswordresets.Status.code === 200){\r\n                                                this.setState({...this.state, errorMessage : res.data.sendPinCodeForpasswordresets.Status.message})\r\n                                            }\r\n                                        })\r\n                                        .catch((err)=> console.log(err));\r\n                                    }\r\n                                    else {     \r\n                                        this.props.sendPinCodeForRegister({\r\n                                            variables : {\r\n                                                email : this.state.email,\r\n                                            }\r\n                                        }).then((res)=>{\r\n                                            if(res.data.sendPinCodeForRegister.Status.code === 200){\r\n                                                this.setState({...this.state, errorMessage : res.data.sendPinCodeForRegister.Status.message})\r\n                                            }\r\n                                        })\r\n                                        .catch((err)=> this.setState({...this.state, errorMessage : \"Check your internet connection\" }));\r\n                                        }\r\n                                    }\r\n                                }} \r\n                             className=\"text-orange\"> Resend now !</Button></Typography>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </form>\r\n            </div>\r\n        );  \r\n    }\r\n}\r\nconst EMAIL_CONFIRMATION = gql`\r\nmutation($email : Email ! $pin_code : String !){\r\n    verifyPinCode(data: {\r\n      email : $email\r\n      pin_code : $pin_code\r\n    }){\r\n      Status{\r\n        message\r\n        code\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst SEND_CODE_FOR_RESET = gql`\r\nmutation( $email : Email! ){\r\n    sendPinCodeForpasswordresets(email: $email){\r\n      Status{\r\n        code\r\n        message\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst SEND_CODE_FOR_REGISTER = gql`\r\nmutation( $email : Email! ){\r\n    sendPinCodeForRegister(email: $email){\r\n      Status{\r\n        code\r\n        message\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default  compose(\r\n    graphql(EMAIL_CONFIRMATION, {\r\n    name : 'emailConfirmation'\r\n  }),\r\n    graphql(SEND_CODE_FOR_RESET, {\r\n    name: 'sendCodeForReset'\r\n  }),\r\n  graphql(SEND_CODE_FOR_REGISTER, {\r\n    name: 'sendPinCodeForRegister'\r\n  })\r\n)(withRouter(EmailConf));","import React,{ Component } from 'react';\r\nimport { Container,Row,Col } from 'react-bootstrap';\r\nimport SideImage from '../side-image/side-image.component';\r\nimport EmailConf from '../email-conf/email-conf.component';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass  EmailConfPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            email : this.props.location.state.email,\r\n            to : this.props.location.state.to\r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n                <Container fluid className=\"p-0 m-0 bg-light\">\r\n                    <Row className=\"p-0 m-0\">\r\n                        <Col  md={6} xs={12} className=\"p-0 m-0 order-sm-1 order-2\">\r\n                            <EmailConf email={this.state.email} to={this.state.to}/>\r\n                        </Col>\r\n                        <Col md={6} xs={12} className=\"p-0 m-0 order-sm-2 order-1\">\r\n                             <SideImage/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(EmailConfPage);","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { graphql } from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { gql } from 'apollo-boost';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport { FormControlLabel, Typography, Button, Radio, RadioGroup, Select } from '@material-ui/core';\r\n\r\nimport Logo from '../../images/logo.png';\r\n\r\n\r\nimport './registration.style.css'\r\n\r\nclass Registration extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n       // console.log(this.props);\r\n        if (this.props.email && this.props.code) {\r\n            this.state = {\r\n                name: '',\r\n                password: '',\r\n                showPassword: false,\r\n                country: \"\",\r\n                city: \"\",\r\n                type: \"2\",\r\n                email: this.props.email,\r\n                code: this.props.code,\r\n                error: '',\r\n                errorMessage: '',\r\n                allCities: []\r\n            }\r\n        } else {\r\n            this.state = {\r\n                name: this.props.location.state.profileObj.name,\r\n                password: '',\r\n                showPassword: false,\r\n                country: \"\",\r\n                city: \"\",\r\n                type: \"2\",\r\n                email: this.props.location.state.profileObj.email,\r\n                code: this.props.location.state.accessToken,\r\n                error: '',\r\n                errorMessage: '',\r\n                provider: \"google\"\r\n            }\r\n        }\r\n    }\r\n    renderCountris() {\r\n        return (\r\n            this.props.data.countries.map(country => {\r\n                return (\r\n                    <option value={country.id}>{country.name}</option>\r\n                );\r\n            })\r\n        );\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.data) {\r\n\r\n        }\r\n    }\r\n    render() {\r\n        if (this.props.data.loading) {\r\n            return <div>Loading ...</div>\r\n        }\r\n        const handleChange = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value });\r\n        };\r\n        const handelChangeContries = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value , allCities : [] });\r\n\r\n           if(this.props.data)\r\n           { this.props.data.countries.map(country => {\r\n                    if (country.id === event.target.value) {\r\n                        this.setState({ ...this.state,[prop]: event.target.value ,allCities: country.cities })\r\n                    }\r\n            })\r\n            }\r\n        }\r\n        const handleClickShowPassword = () => {\r\n            this.setState({ ...this.state, showPassword: !this.state.showPassword });\r\n        };\r\n        const handleMouseDownPassword = event => {\r\n            event.preventDefault();\r\n        };\r\n        const handleChangeRadio = event => {\r\n            this.setState({ ...this.state, type: event.target.value });\r\n        };\r\n        const checkName = (name) => {\r\n            if (name.length < 4 || name.length > 32) {\r\n                this.setState({ ...this.state, errorMessage: 'The user name must be between 4 and 32 characters long.' });\r\n                return false;\r\n\r\n            } else {\r\n                this.setState({ ...this.state, errorMessage: '' });\r\n                return true;\r\n            }\r\n        }\r\n        const CheckPassword = (inputtxt) => {\r\n            var passw = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/;\r\n            if (inputtxt.match(passw)) {\r\n                this.setState({ ...this.state, errorMessage: '' });\r\n                return true;\r\n            }\r\n            else {\r\n                this.setState({ ...this.state, errorMessage: 'The password must contains at least 8 characters that are uppercase and lowercase letters , special characters and numbers.' });\r\n                return false;\r\n            }\r\n        }\r\n        const CheckcountryAndCity = () => {\r\n            if (!this.state.country || !this.state.city) {\r\n                this.setState({ ...this.state, errorMessage: 'Country and City is Required.' });\r\n                return false;\r\n            }\r\n            else {\r\n                this.setState({ ...this.state, errorMessage: '' });\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"container-custom pt-10\">\r\n                <form\r\n                    onSubmit={e => {\r\n                        e.preventDefault();\r\n                        if (checkName(this.state.name) && CheckPassword(this.state.password) && CheckcountryAndCity()) {\r\n                            if (this.state.provider) {\r\n                                this.props.mutate({\r\n                                    variables: {\r\n                                        name: this.state.name,\r\n                                        password: this.state.password,\r\n                                        countries_id: this.state.country,\r\n                                        cities_id: this.state.city,\r\n                                        user_type_id: this.state.type,\r\n                                        email: this.state.email,\r\n                                        pin_code: \"\",\r\n                                        token: this.state.code,\r\n                                        provider: this.state.provider\r\n\r\n                                    }\r\n                                }).then((res) => {\r\n                                    this.setState({ ...this.state, error: res.data.register.Status.message })\r\n                                    localStorage.setItem('jwt',JSON.stringify(res.data.register));\r\n                                   // localStorage.setItem('jwt', res.data.register);\r\n                                    this.props.history.push({\r\n                                        pathname: '/homepage'\r\n                                    });\r\n                                }).catch((err) => this.setState({ ...this.state, error: \"Check your internet connection\" }));\r\n                            } else {\r\n                                this.props.mutate({\r\n                                    variables: {\r\n                                        name: this.state.name,\r\n                                        password: this.state.password,\r\n                                        countries_id: this.state.country,\r\n                                        cities_id: this.state.city,\r\n                                        user_type_id: this.state.type,\r\n                                        email: this.state.email,\r\n                                        pin_code: this.state.code,\r\n                                        token: \"\",\r\n                                        provider: \"\"\r\n                                    }\r\n                                }).then((res) => {\r\n                                    this.setState({ ...this.state, error: res.data.register.Status.message })\r\n                                    this.props.history.push({\r\n                                        pathname: '/',\r\n                                        state: { email: this.state }\r\n                                    });\r\n                                }).catch((err) => this.setState({ ...this.state, error: \"Check your internet connection\" }));\r\n                            }\r\n                        }\r\n                    }}\r\n                    className=\"container\" autoComplete=\"off\">\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <img src={Logo} alt=\"spreago logo\" width=\"150px\" />\r\n                    </div>\r\n                    <div className=\"pb-3\">\r\n                        <Typography variant=\"h4\" color=\"primary\" >Registration Form</Typography>\r\n                    </div>\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <Typography variant=\"subtitle1\" className=\"text-dark\">Please complete the following data to complete your profile</Typography>\r\n                    </div>\r\n                    <TextField\r\n                        fullWidth\r\n                        label=\"User Name*\"\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                        value={this.state.name}\r\n                        onChange={handleChange('name')}\r\n                    />\r\n                    <FormControl fullWidth className=\"mt-3\" variant=\"outlined\">\r\n                        <InputLabel htmlFor=\"outlined-adornment-password\">Password*</InputLabel>\r\n                        <OutlinedInput\r\n                            id=\"outlined-adornment-password\"\r\n                            type={this.state.showPassword ? 'text' : 'password'}\r\n                            value={this.state.password}\r\n                            onChange={handleChange('password')}\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={handleClickShowPassword}\r\n                                        onMouseDown={handleMouseDownPassword}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {this.state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                            labelWidth={70}\r\n                        />\r\n                    </FormControl>\r\n                    <Row>\r\n                        <Col xs={6}>\r\n                            <FormControl fullWidth className=\"mt-3\" variant=\"outlined\">\r\n                                <InputLabel htmlFor=\"countries-select\">\r\n                                    Country*\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={this.state.country}\r\n                                    onChange={handelChangeContries('country')}\r\n                                    labelWidth=\"55\"\r\n                                    inputProps={{\r\n                                        name: \"Countries\",\r\n                                        id: 'countries-select',\r\n                                    }}\r\n                                >\r\n                                    {this.renderCountris()}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Col>\r\n                        <Col xs={6}>\r\n                            <FormControl fullWidth className=\"mt-3\" variant=\"outlined\">\r\n                                <InputLabel htmlFor=\"cities-select\">\r\n                                    City*\r\n                                </InputLabel>\r\n                                <Select\r\n                                    value={this.state.city}\r\n                                    onChange={handleChange('city')}\r\n                                    labelWidth=\"35\"\r\n                                    inputProps={{\r\n                                        name: \"cities\",\r\n                                        id: 'cities-select',\r\n                                    }}\r\n                                >\r\n                                    {(this.state.allCities)?\r\n                                        this.state.allCities.map(city => {\r\n                                            return (\r\n                                                <option value={city.id}>{city.name}</option>\r\n                                            );\r\n                                        }): ''\r\n                                    }\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Col>\r\n                        <Col>\r\n                            <Typography variant=\"subtitle1\" className=\"text-dark\">Register as:</Typography>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <RadioGroup aria-label=\"type\" name=\"gender2\" value={this.state.type} onChange={handleChangeRadio}>\r\n                                <FormControlLabel\r\n                                    className=\"d-inline-block\"\r\n                                    value=\"2\"\r\n                                    control={<Radio color=\"primary\" />}\r\n                                    label=\"Applicant\"\r\n                                    labelPlacement=\"Applicant\"\r\n                                    defaultValue\r\n                                />\r\n                                <FormControlLabel\r\n                                    className=\"d-inline-block\"\r\n                                    value=\"1\"\r\n                                    control={<Radio color=\"primary\" />}\r\n                                    label=\"Employer\"\r\n                                    labelPlacement=\"Employer\"\r\n                                />\r\n                            </RadioGroup>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.errorMessage}</Typography>\r\n                        </Col>\r\n                        <Col xs={12} className=\"text-center\">\r\n                            <Button size=\"large\" type=\"submit\" variant=\"contained\" className=\"btn-orange-gradiant pr-5 pl-5\" >Get Started</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </form>\r\n            </div>\r\n        ); \r\n    }\r\n}\r\nconst GET_CONTRIES_AND_CITIES = gql`\r\nquery{\r\n    countries{\r\n      id\r\n      name\r\n    cities{\r\n      id\r\n      name\r\n      code\r\n    }\r\n    }\r\n  } \r\n`\r\n\r\nconst REGISTRATION = gql`\r\nmutation( $name : String ! $password : Password ! $countries_id : Int ! $cities_id : Int ! $user_type_id : Int !  $email : Email ! $pin_code : String  $token : String  $provider : String ){\r\n    register(data:\r\n       {\r\n        newUserInput:{\r\n            name : $name\r\n            password : $password\r\n            countries_id : $countries_id\r\n            cities_id :  $cities_id\r\n            user_type_id : $user_type_id\r\n        }\r\n          verifyPinCodeInput:{\r\n              email : $email\r\n              pin_code : $pin_code\r\n          }\r\n          SocialiteInput:{\r\n            token : $token\r\n            provider : $provider\r\n          }\r\n       }\r\n    ){\r\n     BearerTokenResponse{\r\n        access_token\r\n        token_type\r\n      }\r\n      user{\r\n        id\r\n        name\r\n        typeName\r\n      }\r\n      Status{\r\n        message\r\n        code\r\n        check\r\n        title\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default compose(graphql(GET_CONTRIES_AND_CITIES), graphql(REGISTRATION))(withRouter(Registration));","import React , { Component } from 'react';\r\nimport { Container,Row,Col } from 'react-bootstrap';\r\nimport SideImage from '../side-image/side-image.component';\r\nimport Registration from '../registration/registration.component';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass RegistrationPage extends Component{\r\n        constructor(props){\r\n            super(props);\r\n            this.state = {\r\n                email : this.props.location.state.email,\r\n                code : this.props.location.state.code\r\n            }\r\n        }\r\n        render(){\r\n        return(\r\n                <Container fluid className=\"p-0 m-0 bg-light\">\r\n                    <Row className=\"p-0 m-0\">\r\n                        <Col md={6} xs={12} className=\"p-0 m-0 order-sm-1 order-2\">\r\n                            <Registration email={this.state.email} code={this.state.code}/>\r\n                        </Col>\r\n                        <Col md={6} xs={12} className=\"p-0 m-0 order-sm-2 order-1\">\r\n                             <SideImage/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(RegistrationPage);","import React, { Component } from 'react';\r\nimport { graphql } from 'react-apollo';\r\nimport { gql } from 'apollo-boost';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport {  Typography ,Button , TextField} from '@material-ui/core';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport Logo from '../../images/logo.png';\r\n\r\nclass  ForgetPassword extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            email : '',\r\n            errorMessage : '',\r\n            to : '/resetPassword',\r\n            from : '/forgetPassword',\r\n        }\r\n    }\r\n    render(){\r\n    const handleChangeEmail = prop => event => {\r\n        this.setState({ ...this.state, [prop]: event.target.value });\r\n    };\r\n    const ValidateEmail = (mail) =>\r\n    {\r\n    if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(mail))\r\n        {\r\n            this.setState({ ...this.state, errorMessage : ''});\r\n            return (true)\r\n        }\r\n        this.setState({ ...this.state, errorMessage : 'You have entered an invalid email address!' });\r\n        return (false)\r\n    }\r\n    return (\r\n            <div className=\"container-custom pt-10\">\r\n                <form \r\n                    onSubmit={e => {\r\n                        e.preventDefault();\r\n                        if(ValidateEmail(this.state.email)){\r\n                            this.props.mutate({\r\n                                variables : {\r\n                                    email : this.state.email,\r\n                                }\r\n                            }).then((res)=>{\r\n                                if(res.data.sendPinCodeForpasswordresets.Status.code === 200){\r\n                                    this.props.history.push({\r\n                                        pathname: '/emailConfirmation',\r\n                                        state: {    \r\n                                            email : this.state.email,\r\n                                            to    : this.state.to,\r\n                                            from  : this.state.from\r\n                                            }\r\n                                      });\r\n                                }\r\n                                else {\r\n                                    this.setState({...this.state, errorMessage : res.data.sendPinCodeForpasswordresets.RequestStatus.messageLog});\r\n                                }\r\n                            })\r\n                            .catch((err)=> \r\n                            this.setState({...this.state, errorMessage : \"Email is not valid\"}));\r\n                         }\r\n                        }}\r\n                 className=\"container\" autoComplete=\"off\">\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <img src={Logo} alt=\"spreago logo\" width=\"150px\"/>\r\n                    </div>\r\n                    <div className=\"pb-3\">\r\n                        <Typography variant=\"h4\" color=\"primary\" >Reset your password</Typography>\r\n                    </div>\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <Typography variant=\"subtitle1\" className=\"text-dark\">Please enter your email address and we will send you a confirmation email to your inbox</Typography>\r\n                    </div>\r\n                    <div className=\"pt-4\">\r\n                    <TextField\r\n                             required\r\n                            fullWidth\r\n                            type = \"email\"\r\n                            label=\"Email\"\r\n                            color=\"primary\"\r\n                            variant=\"outlined\"\r\n                            value={this.state.email}\r\n                            onChange={handleChangeEmail('email')}\r\n                        />\r\n                    </div>\r\n                    <Row className=\"pt-3\">\r\n                    <Col xs={12}>\r\n                            <div className=\"text-danger\"><p>{this.state.errorMessage}</p></div>\r\n                        </Col>\r\n                        <Col xs={12} className=\"text-center\">\r\n                            <Button size=\"large\" variant=\"contained\" className=\"btn-orange-gradiant pr-5 pl-5\" type=\"submit\" color=\"primary\"><Typography>Continue</Typography></Button>\r\n                        </Col>\r\n                    </Row>\r\n                  \r\n                </form>\r\n            </div>\r\n    );\r\n }\r\n}\r\nconst SEND_CODE = gql`\r\n  mutation( $email : Email! ){\r\n    sendPinCodeForpasswordresets(email: $email){\r\n      RequestStatus{\r\n        messageLog\r\n        codeLog\r\n      }\r\n      Status{\r\n        code\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport default graphql(SEND_CODE)(withRouter(ForgetPassword));\r\n","import React from 'react';\r\nimport { Container,Row,Col } from 'react-bootstrap';\r\nimport SideImage from '../side-image/side-image.component';\r\nimport ForgetPassword from '../forget-password/forget-password.component';\r\n\r\nfunction CreateAccPage(){\r\n        return(\r\n                <Container fluid className=\"p-0 m-0 bg-light\">\r\n                    <Row className=\"p-0 m-0\">\r\n                        <Col  md={6} xs={12} className=\"p-0 m-0 order-sm-1 order-2\">\r\n                            <ForgetPassword/>\r\n                        </Col>\r\n                        <Col md={6} xs={12} className=\"p-0 m-0 order-sm-2 order-1\">\r\n                             <SideImage/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n        );\r\n}\r\nexport default CreateAccPage;","import React, { Component } from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { Button } from '@material-ui/core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBoxOpen , faUserFriends , faClock} from '@fortawesome/free-solid-svg-icons'\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport BookmarkBorder from '@material-ui/icons/BookmarkBorder';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport img from '../../images/ux.png';\r\nimport bookmark from './images/border-bookmark.png';\r\n\r\nexport default class cardInterview extends Component {\r\n    render() {\r\n        const theme = createMuiTheme({\r\n            palette: {\r\n                primary: { main: '#E85A19', light: '#E85A19', dark: '#E85A19' },\r\n                secondary: { main: '#fbb800', light: '#000', dark: '#f1eeee' },\r\n                contrastText: { main: '#E1631C' },\r\n            }\r\n        })\r\n        return (\r\n            <ThemeProvider theme={theme}>\r\n                <Container className=\"pt-3 pb-3\">\r\n                    <Row>\r\n                        <Col md={3} xs={12} className=\"order-sm-1 order-2 text-center\">\r\n                                <img src={img} alt=\"interview img\" className=\"w-75  mb-3\" />\r\n                        </Col>\r\n                        <Col md={9} xs={12} className=\"order-sm-2 order-3 text-left\">\r\n                            <Row>\r\n                            <Col md='8' className=\"order-sm-1 order-2  d-inline-block\">\r\n                                <h5>UX/UI Designer</h5>\r\n                                <p className=\"text-orange d-inline-block pr-1\">New Horizon </p>\r\n                                <p className=\"text-grey d-inline-block\"> 13 Nov 2019</p>\r\n                                <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumyt <Link to=\"/\" className=\"text-orange underline\">See More</Link></p>\r\n                            </Col>\r\n                            <Col md='4' className=\"text-right order-sm-2 order-1 mb-1 d-inline-block\">\r\n                                <Button variant=\"outlined\" className=\"btn-orange-outline-gradiant\" color=\"primary\">\r\n                                    <ShareIcon /> share\r\n                                </Button>\r\n                                <Link className=\"pl-3\">\r\n                                    <img src={bookmark} className=\"btn-bookmark\" width=\"20\" alt=\"bookmark\"/>\r\n                                </Link> \r\n                            </Col>\r\n                            </Row>\r\n                            <Row className=\"pt-1 \">   \r\n                                <Col className=\"text-left text-center-sm\">\r\n                                        <FontAwesomeIcon icon={faUserFriends} size=\"lg\" className=\"text-grey\"/>\r\n                                        <span className=\"pl-1\">32 Applicant</span>\r\n                                </Col>\r\n                                <Col  className=\"text-left text-center-sm\">\r\n                                        <FontAwesomeIcon icon={faBoxOpen} size=\"lg\" className=\"text-grey\"/>\r\n                                        <span className=\"pl-1\">15 Question</span>\r\n                                </Col>\r\n                                <Col  className=\"text-left text-center-sm\">\r\n                                        <FontAwesomeIcon icon={faClock} size=\"lg\" className=\"text-grey\"/>\r\n                                        <span className=\"pl-1\"> 15 Min</span>\r\n                                </Col>\r\n                                <Col xs={12} className=\"p-3 text-center-sm text-left\">\r\n                                    <p className=\"p-0 mb-2\">Tools</p>\r\n                                    <Button className=\"mr-1\" variant=\"outlined\" disabled>\r\n                                        Adobe XD\r\n                                    </Button>\r\n                                    <Button className=\"mr-1\" variant=\"outlined\" disabled>\r\n                                        Graphic design\r\n                                    </Button>\r\n                                    <Button className=\"mr-1\" variant=\"outlined\" disabled>\r\n                                        Design\r\n                                    </Button>\r\n                                    <Button className=\"mr-1\" variant=\"outlined\" disabled>\r\n                                        Figma\r\n                                    </Button>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </ThemeProvider>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {  Container , Row , Col  } from 'react-bootstrap';\r\nimport CradInterview from '../card-interview/card-interview.component';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\n\r\nimport {Paper } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class  LatestInterviews extends Component{\r\n    render(){\r\n        return(<div>\r\n            <Container className=\"pt-5\">\r\n                <Paper elevation={3}>\r\n                    <Row elevation={3} className=\"bg-light m-0 p-3\" style={{borderBottom:'1px solid #f2f2f2'}}>\r\n                            <Col xs={6}>\r\n                                <h5>Latest Job Posts</h5>\r\n                            </Col>\r\n                             <Col className=\"text-right\" xs={6}>\r\n                                <h5><Link className=\"text-orange\" to='/'>See All <ArrowForwardIcon /></Link></h5>\r\n                            </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md='12' className=\"pt-3 pb-3\" style={{borderBottom:'1px solid #f2f2f2'}}>\r\n                            <CradInterview />\r\n                        </Col>\r\n                        <Col md='12' className=\"pt-3 pb-3\" style={{borderBottom:'1px solid #f2f2f2'}}>\r\n                            <CradInterview />\r\n                        </Col>\r\n                        <Col md='12' className=\"pt-3 pb-3\" style={{borderBottom:'1px solid #f2f2f2'}}>\r\n                            <CradInterview />\r\n                        </Col>\r\n                     </Row>\r\n                </Paper>\r\n            </Container>\r\n        </div>);\r\n    }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { Navbar, Nav } from 'react-bootstrap';\r\nimport spreago from './images/logo.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst StyledBadge = withStyles(theme => ({\r\n    badge: {\r\n        backgroundColor: '#44b700',\r\n        color: '#44b700',\r\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n        '&::after': {\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            borderRadius: '50%',\r\n            animation: '$ripple 1.2s infinite ease-in-out',\r\n            border: '1px solid currentColor',\r\n            content: '\"\"',\r\n        },\r\n    },\r\n    '@keyframes ripple': {\r\n        '0%': {\r\n            transform: 'scale(.8)',\r\n            opacity: 1,\r\n        },\r\n        '100%': {\r\n            transform: 'scale(2.4)',\r\n            opacity: 0,\r\n        },\r\n    },\r\n}))(Badge);\r\n\r\nfunction ElevationScroll(props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        disableHysteresis: true,\r\n        threshold: 0,\r\n        target: window ? window() : undefined,\r\n    });\r\n\r\n    return React.cloneElement(children, {\r\n        elevation: trigger ? 4 : 0,\r\n    });\r\n}\r\n\r\nElevationScroll.propTypes = {\r\n    children: PropTypes.element.isRequired,\r\n    /**\r\n     * Injected by the documentation to work in an iframe.\r\n     * You won't need it on your project.\r\n     */\r\n    window: PropTypes.func,\r\n};\r\nconst useStyles = makeStyles(theme => ({\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: 'rgb(247, 245, 245)',\r\n        '&:hover': {\r\n            backgroundColor: 'rgb(247, 245, 245)',\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        color : '#606060'\r\n    },\r\n    inputRoot: {\r\n        color: '#606060',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 7),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: 120,\r\n            '&:focus': {\r\n                width: 200,\r\n            },\r\n        },\r\n    },\r\n}));\r\n\r\nexport default function Header(props) {\r\n    const classes = useStyles();\r\n    const userType = JSON.parse(localStorage.getItem('jwt')).user.typeName;\r\n    let links = new Map()\r\n    if(userType === 'Applicant'){    \r\n\r\n        links.set(\"/opportunities\" , \"Explore opportunities\");\r\n        links.set(\"/visumes\" , \"Visumes\");\r\n        links.set(\"/messages\" , \"Messages\");\r\n        links.set(\"/notifications\" , \"Notifications\");\r\n           \r\n    }else{\r\n         links.set('/company' , \"Company\");\r\n         links.set('/interviews' , \"Interviews\");\r\n         links.set('/messages' , \"Messages\");\r\n         links.set('/notifications' , \"Notifications\");\r\n    }\r\n    const handleLinks =()=> {\r\n        let rows = []\r\n        for (let [key, value] of links.entries()) {\r\n            rows.push(<Link className=\"nav-link\" to={key}>{value}</Link>)\r\n          }\r\n        return  <Nav className=\"mr-auto\">{rows}</Nav>\r\n    }\r\n    return (\r\n        <div>\r\n            <CssBaseline />\r\n            <ElevationScroll {...props}>\r\n                <AppBar className=\"bg-white\">\r\n                    <Navbar className=\"container\" bg=\"white\" expand=\"lg\">\r\n                        <Navbar.Brand href=\"#\"><img alt=\"spreago logo\" src={spreago} /></Navbar.Brand>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                            {handleLinks()}\r\n                            <Nav>\r\n                                <div className=\"order-sm-1 order-3 custom-search\">\r\n                                    <div className={classes.search}>\r\n                                        <div className={classes.searchIcon}>\r\n                                            <SearchIcon />\r\n                                        </div>\r\n                                        <InputBase\r\n                                            placeholder=\"Search\"\r\n                                            classes={{\r\n                                                root: classes.inputRoot,\r\n                                                input: classes.inputInput,\r\n                                            }}\r\n                                            inputProps={{ 'aria-label': 'search' }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <StyledBadge\r\n                                    className=\"pl-1 online-avatar order-sm-2 order-2\"\r\n                                    overlap=\"circle\"\r\n                                    anchorOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    variant=\"dot\">\r\n                                    <div className=\"pl-1\"><Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" /></div>\r\n                                </StyledBadge>\r\n\r\n                                <Link\r\n                                    className=\"nav-link order-sm-3 order-1\"\r\n                                    to=\"/\"\r\n                                    onClick={() => {\r\n                                        localStorage.clear();\r\n                                        return false;\r\n                                    }}\r\n                                >Logout</Link>\r\n                            </Nav>\r\n                        </Navbar.Collapse>\r\n                    </Navbar>\r\n                </AppBar>\r\n            </ElevationScroll>\r\n            <Toolbar />\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { Navbar, Nav } from 'react-bootstrap';\r\nimport spreago from './images/logo.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst StyledBadge = withStyles(theme => ({\r\n    badge: {\r\n        backgroundColor: '#44b700',\r\n        color: '#44b700',\r\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n        '&::after': {\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            borderRadius: '50%',\r\n            animation: '$ripple 1.2s infinite ease-in-out',\r\n            border: '1px solid currentColor',\r\n            content: '\"\"',\r\n        },\r\n    },\r\n    '@keyframes ripple': {\r\n        '0%': {\r\n            transform: 'scale(.8)',\r\n            opacity: 1,\r\n        },\r\n        '100%': {\r\n            transform: 'scale(2.4)',\r\n            opacity: 0,\r\n        },\r\n    },\r\n}))(Badge);\r\n\r\nfunction ElevationScroll(props) {\r\n    const { children, window } = props;\r\n    // Note that you normally won't need to set the window ref as useScrollTrigger\r\n    // will default to window.\r\n    // This is only being set here because the demo is in an iframe.\r\n    const trigger = useScrollTrigger({\r\n        disableHysteresis: true,\r\n        threshold: 0,\r\n        target: window ? window() : undefined,\r\n    });\r\n\r\n    return React.cloneElement(children, {\r\n        elevation: trigger ? 4 : 0,\r\n    });\r\n}\r\n\r\nElevationScroll.propTypes = {\r\n    children: PropTypes.element.isRequired,\r\n    /**\r\n     * Injected by the documentation to work in an iframe.\r\n     * You won't need it on your project.\r\n     */\r\n    window: PropTypes.func,\r\n};\r\nconst useStyles = makeStyles(theme => ({\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: 'rgb(247, 245, 245)',\r\n        '&:hover': {\r\n            backgroundColor: 'rgb(247, 245, 245)',\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 7),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: 120,\r\n            '&:focus': {\r\n                width: 200,\r\n            },\r\n        },\r\n    },\r\n}));\r\n\r\nexport default function HeaderEmployer(props) {\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <CssBaseline />\r\n            <ElevationScroll {...props}>\r\n                <AppBar  color=\"custom\">\r\n                    <Navbar  className=\"container\"  bg=\"white\" expand=\"lg\">\r\n                        <Navbar.Brand href=\"#\"><img alt=\"spreago logo\" src={spreago} /></Navbar.Brand>\r\n                        <Navbar.Toggle  aria-controls=\"basic-navbar-nav\" />\r\n                        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                            <Nav className=\"mr-auto\">\r\n                                <Nav.Link to=\"/\">Company</Nav.Link>\r\n                                <Nav.Link to=\"/\">Interviews</Nav.Link>\r\n                                <Nav.Link to=\"/\">Messages</Nav.Link>\r\n                                <Nav.Link to=\"/\">Notifications</Nav.Link>\r\n                            </Nav>\r\n                            <Nav>\r\n                                <div className=\"order-sm-1 order-3 custom-search\">\r\n                                    <div className={classes.search}>\r\n                                        <div className={classes.searchIcon}>\r\n                                            <SearchIcon />\r\n                                        </div>\r\n                                        <InputBase\r\n                                            placeholder=\"Search\"\r\n                                            classes={{\r\n                                                root: classes.inputRoot,\r\n                                                input: classes.inputInput,\r\n                                            }}\r\n                                            inputProps={{ 'aria-label': 'search' }}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <StyledBadge\r\n                                    className=\"pl-1 online-avatar order-sm-2 order-2\"\r\n                                    overlap=\"circle\"\r\n                                    anchorOrigin={{\r\n                                        vertical: 'top',\r\n                                        horizontal: 'right',\r\n                                    }}\r\n                                    variant=\"dot\">\r\n                                    <div className=\"pl-1\"><Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" /></div>\r\n                                </StyledBadge>\r\n                                <Nav.Link className=\"order-sm-3 order-1\"><Link to=\"/\" onClick={()=>{\r\n                                    localStorage.clear();\r\n                                    return false;\r\n                                }}>Logout</Link></Nav.Link></Nav>\r\n                        </Navbar.Collapse>\r\n                    </Navbar>\r\n                </AppBar>\r\n            </ElevationScroll>\r\n            <Toolbar />\r\n        </div>\r\n    );\r\n}","import React , {Component} from 'react';\r\nimport { Row , Col  } from 'react-bootstrap';\r\nimport img from '../../images/member.png';\r\n\r\nexport default class ListItem extends Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <Row className=\"m-0\">\r\n                    <Col className=\"p-0\" xs={4}><img src={img} width=\"100%\" alt='list item img'/></Col>\r\n                    <Col  xs={8}>\r\n                        <h6>New Company</h6>\r\n                        <p>Company-Education Management</p>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {  Row , Col, Container  } from 'react-bootstrap';\r\nimport ListItem from '../list-item/list-item.component';\r\nimport {Button, Paper} from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class  AddToList extends Component{\r\n    render(){\r\n        return(\r\n            <Container fluid className=\"pt-3\">\r\n                <Paper>\r\n                    <Row className=\"m-0 p-3 border-b-1\">\r\n                            <Col className=\"pl-0 pb-3\"  xs={6}>\r\n                                <h6>Add to your list</h6>\r\n                            </Col>\r\n                            <Col className=\"p-0 pb-3 text-right\" xs={{ span : 4,offset : 2}}>\r\n                                <h6><Link className=\"text-orange  underline\">View All</Link></h6>\r\n                            </Col>\r\n                            <Col className=\"p-0 mb-3\" xs={9}><ListItem/></Col>\r\n                            <Col className=\"p-0 text-right\" xs={3}><Button className=\"btn-black\" size=\"small\" variant=\"outlined\">Unfollow</Button></Col>\r\n                            <Col className=\"p-0 mb-3\" xs={9}><ListItem/></Col>\r\n                            <Col className=\"p-0 text-center\" xs={3}><Button className=\"btn-black\" size=\"small\" variant=\"outlined\">Unfollow</Button></Col>\r\n                            <Col className=\"p-0 mb-3\" xs={9}><ListItem/></Col>\r\n                            <Col className=\"p-0 text-center\" xs={3}><Button className=\"btn-black\" size=\"small\" variant=\"outlined\">Unfollow</Button></Col>\r\n                    </Row>\r\n                    </Paper>\r\n            </Container>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {  Row , Col, Container  } from 'react-bootstrap';\r\nimport ListItem from '../list-item/list-item.component';\r\nimport {Paper} from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport img from '../../images/member.png';\r\n\r\nexport default class RecommendedArticles extends Component{\r\n    render(){\r\n        return(\r\n            <Container fluid>\r\n                <Paper>\r\n                    <Row className=\"m-0 p-3 border-b-1\">\r\n                            <Col className=\"p-0 pb-3\"  xs={7}>\r\n                                <h6>Recommended Articles</h6>\r\n                            </Col>\r\n                            <Col className=\"p-0 pb-3 text-right\" xs={{ span : 4,offset : 1}}>\r\n                                <h6><Link className=\"text-orange underline \">View All</Link></h6>\r\n                            </Col>\r\n                            <Col className=\"p-0 pb-3\" xs={12}>\r\n                                <Row className=\"m-0\">\r\n                                    <Col className=\"p-0\" xs={3}><img src={img} width=\"100%\" alt='list item img'/></Col>\r\n                                    <Col  xs={9}>\r\n                                        <h6>Article Title</h6>\r\n                                        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed </p>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            <Col className=\"p-0 pb-3\" xs={12}>\r\n                                <Row className=\"m-0\">\r\n                                    <Col className=\"p-0\" xs={3}><img src={img} width=\"100%\" alt='list item img'/></Col>\r\n                                    <Col  xs={9}>\r\n                                        <h6>Article Title</h6>\r\n                                        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed </p>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            <Col className=\"p-0 pb-3\" xs={12}>\r\n                                <Row className=\"m-0\">\r\n                                    <Col className=\"p-0\" xs={3}><img src={img} width=\"100%\" alt='list item img'/></Col>\r\n                                    <Col  xs={9}>\r\n                                        <h6>Article Title</h6>\r\n                                        <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed </p>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                    </Row>\r\n                    </Paper>\r\n            </Container>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {  Row , Col, Container  } from 'react-bootstrap';\r\nimport {Paper , Avatar , Button , List , ListItem , ListItemAvatar , ListItemText } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Logo from './images/premium.png';\r\n\r\nexport default class ExplorePremium extends Component{\r\n    render(){\r\n        return(\r\n            <Container fluid>\r\n                <Paper>\r\n                    <Row className=\"m-0 p-3 mt-5 border-b-1\">\r\n                            <List dense>\r\n                                <ListItem className=\"p-0\">\r\n                                    <ListItemAvatar className=\"p-0 w-30px\">\r\n                                        <img alt=\"premium logo\" src={Logo}/>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText primary={\r\n                                        <h6 className=\"m-0 bold\"><strong>Explore premium features</strong></h6>\r\n                                    }/>\r\n                                </ListItem>  \r\n                            </List> \r\n                            <List dense>\r\n                                <ListItem className=\"p-0\">\r\n                                    <ListItemAvatar className=\"p-0\">\r\n                                            <Avatar alt=\"Remy Sharp\" src=\"/static/images/avatar/1.jpg\" /> \r\n                                    </ListItemAvatar>\r\n                                    <ListItemText className=\"p-0\" primary=\"New Horizon\" secondary=\"Software Company\" />\r\n                                </ListItem>  \r\n                            </List> \r\n                            <Col className=\"p-0\" md={12}>\r\n                            Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,\r\n                            </Col>\r\n                            <Col className=\"pt-3 pb-3 text-center\" xs={12}><Button variant=\"outlined\" color=\"primary\" size=\"large\" className=\"btn-orange-outline-gradiant w-100\">Compare Packages</Button></Col>\r\n                            <Col xs={12}  className=\"text-center underline\"><Link>Premium Features</Link></Col>\r\n                    </Row>\r\n                    </Paper>\r\n            </Container>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Button, ButtonGroup} from '@material-ui/core';\r\nimport { Card, Col } from 'react-bootstrap';\r\n\r\nimport img from '../../images/john.png';\r\n\r\nexport default class  CardCandidate extends Component{\r\n    render(){\r\n        return(\r\n        <Card className=\"bg-white shadow p-2 border-0\">\r\n            <div className=\"text-center pb-3\">\r\n                 <img src={img} alt=\"interview img\" width=\"100\" className=\"rounded-circle\" />  \r\n            </div>\r\n            <div className=\"text-center\">\r\n                <div><strong>John Doe</strong></div>\r\n                <div><p className=\"text-grey mb-0\">Senior Web Developer</p></div>\r\n                <div><p className=\"text-grey\">Cairo, Egypt</p></div>\r\n                <Col xs='12 p-0 pb-2'>\r\n                    <Button className=\"p-0 mr-1\" variant=\"outlined\" disabled>\r\n                            Adobe XD\r\n                        </Button>\r\n                        <Button className=\"p-0 mr-1\" variant=\"outlined\" disabled>\r\n                            Graphic\r\n                        </Button>\r\n                        <Button className=\"p-0\" variant=\"outlined\" disabled>\r\n                            Design\r\n                        </Button>\r\n                </Col>\r\n                <Button variant=\"outlined\" className=\"w-100 btn-orange-outline-gradiant pb-1 pt-1\" color=\"primary\" size=\"large\">Shortlisted</Button>\r\n            </div>\r\n        </Card>);\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport {  Container , Row , Col  } from 'react-bootstrap';\r\nimport CardCandidate from '../card-candidate/card-candidate.component';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class  FindCandidate extends Component{\r\n    render(){\r\n        return(\r\n        <div className=\"mt-5\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col className=\"pb-3\" md={4}>\r\n                            <h5>Find a perfect candidate</h5>\r\n                        </Col>\r\n                        <Col className=\"text-right pb-3\" md={{ span : 4,offset : 4}}>\r\n                            <h5><Link className=\"text-orange\">See All <ArrowForwardIcon /></Link></h5>\r\n                        </Col>\r\n                        <Col md={4}>\r\n                            <CardCandidate/>\r\n                        </Col>\r\n                        <Col md={4}>\r\n                            <CardCandidate/>\r\n                        </Col>\r\n                        <Col md={4}>\r\n                            <CardCandidate/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n        </div>);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Card , Row , Col} from 'react-bootstrap';\r\nimport { Paper,Avatar,ListItem,ListItemSecondaryAction,ListItemText,ListItemAvatar,List} from '@material-ui/core';\r\nimport './card.style.css';\r\nimport img from '../../images/1.png';\r\n\r\nexport default class  LatestBiographies extends Component{\r\n    render(){\r\n        return(<div>\r\n          \r\n                <Card className=\"bg-transparent text-dark border-0\">\r\n                <Paper elevation={3}>\r\n                     <Card.Img src={img} alt=\"Card image\"/>\r\n                </Paper>\r\n                <Card.ImgOverlay>\r\n                    <Row className=\"p-0\">\r\n                        <Col className=\"pl-3 text-light\" xs={6}><p>Visume title</p></Col>\r\n                        <Col className=\"text-light\" xs={{ span: 4, offset: 2 }}><p className=\"text-right\">5:30</p></Col>\r\n                    </Row>\r\n                </Card.ImgOverlay>\r\n                <List dense>\r\n                    <ListItem className=\"p-0\">\r\n                        <ListItemAvatar className=\"p-0\">\r\n                            <Avatar>\r\n                                <Avatar alt=\"Cindy Baker\"  src=\"/static/images/avatar/3.jpg\" />\r\n                            </Avatar>\r\n                        </ListItemAvatar>\r\n                        <ListItemText className=\"p-0\" primary=\"John Doe\" secondary=\"Mobile\" />\r\n                        <ListItemSecondaryAction className=\" text-right\">\r\n                                <p className=\"text-grey pl-3\">13 Nov 2019</p>\r\n                        </ListItemSecondaryAction>\r\n                    </ListItem>  \r\n                </List>                  \r\n                </Card>  \r\n           \r\n        </div>);\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport {  Container , Row , Col  } from 'react-bootstrap';\r\nimport Card from '../card/card-component';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class  YourBiographies extends Component{\r\n    render(){\r\n        return(<div>\r\n            <Container>\r\n                <Row className=\"pt-5 justify-content-between\">\r\n                    <Col xs={6} className=\"pb-3\">\r\n                        <h5>Latest Biographies</h5>\r\n                    </Col>\r\n                        <Col className=\"text-right pb-3\" xs={{span :4 , offset : 2}}>\r\n                        <h5><Link className=\"text-orange\" to='/'>See All <ArrowForwardIcon /></Link></h5>\r\n                    </Col>\r\n                    <Col  lg='4' md='6'>\r\n                        <Card />\r\n                    </Col>\r\n                    <Col lg='4' md='6'>\r\n                        <Card />\r\n                    </Col>\r\n                    <Col lg='4' md='6'>\r\n                        <Card />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {  Container , Row , Col  } from 'react-bootstrap';\r\nimport Card from '../card/card-component';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class  LatestBiographies extends Component{\r\n    render(){\r\n        return(<div>\r\n            <Container>\r\n                <Row className=\"pt-5\">\r\n                    <Col sm={6} xs={12} className=\"pb-3 pb-0-responsive\">\r\n                                <h5><Link className=\"text-dark\" to='/visumes'>Your Visumes</Link></h5>\r\n                    </Col>\r\n                    <Col  className=\"text-right pb-3\"  sm={{span :4 , offset : 2}} xs={12}>\r\n                        <button \r\n                            className=\"bg-transparent border-0\"\r\n                            onClick ={e=> localStorage.setItem('updatedBio', '')}>\r\n                             <h5><Link className=\"text-orange underline\" to='/createVisume'>Create a Visume</Link></h5>\r\n                            {/* <h5><Link className=\"text-orange\" to='/createVisume'>Create a Visume<ArrowForwardIcon /></Link></h5> */}\r\n                        </button>\r\n                    </Col>\r\n                    <Col md='4'>\r\n                        <Card />\r\n                    </Col>\r\n                    <Col md='4'>\r\n                        <Card />\r\n                    </Col>\r\n                    <Col md='4'>\r\n                        <Card />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { Button } from '@material-ui/core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBoxOpen , faUserFriends , faClock} from '@fortawesome/free-solid-svg-icons'\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport img from '../../images/ux.png';\r\n\r\nexport default class cardYourInterview extends Component {\r\n    render() {\r\n        const theme = createMuiTheme({\r\n            palette: {\r\n                primary: { main: '#E85A19', light: '#E85A19', dark: '#E85A19' },\r\n                secondary: { main: '#fbb800', light: '#000', dark: '#f1eeee' },\r\n                contrastText: { main: '#E1631C' },\r\n            }\r\n        })\r\n        return (\r\n            <ThemeProvider theme={theme}>\r\n                <Container className=\"pt-3 pb-3\">\r\n                    <Row>\r\n                        <Col md={3} xs={12} className=\"order-sm-1 order-2 text-center\">\r\n                                <img src={img} alt=\"interview img\" className=\"w-75 mb-3\" />\r\n                        </Col>\r\n                        <Col md={8} xs={12} className=\"order-sm-2 order-3 text-left text-xs-center\">\r\n                            <div>\r\n                                <h5>UX/UI Designer</h5>\r\n                                <p className=\"text-orange d-inline-block pr-1\">New Horizon </p>\r\n                                <p className=\"text-grey d-inline-block\"> 13 Nov 2019</p>\r\n                                <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumyt <Link to=\"/\" className=\"text-orange underline\">See More</Link></p>\r\n                            </div>\r\n                            <Row className=\"pt-1 \">   \r\n                                <Col className=\"text-left text-center-sm\">\r\n                                        <FontAwesomeIcon icon={faUserFriends} size=\"lg\" className=\"text-grey\"/>\r\n                                        <span className=\"pl-1\">32 Applicant</span>\r\n                                </Col>\r\n                                <Col  className=\"text-left text-center-sm\">\r\n                                        <FontAwesomeIcon icon={faBoxOpen} size=\"lg\" className=\"text-grey\"/>\r\n                                        <span className=\"pl-1\">15 Question</span>\r\n                                </Col>\r\n                                <Col  className=\"text-left text-center-sm\">\r\n                                        <FontAwesomeIcon icon={faClock} size=\"lg\" className=\"text-grey\"/>\r\n                                        <span className=\"pl-1\"> 15 Min</span>\r\n                                </Col>\r\n                                <Col xs={12} className=\"p-3 text-center-sm text-left\">\r\n                                    <p className=\"p-0 mb-2\">Tools</p>\r\n                                    <Button className=\"mr-1\" variant=\"outlined\" disabled>\r\n                                        Adobe XD\r\n                                    </Button>\r\n                                    <Button className=\"mr-1\" variant=\"outlined\" disabled>\r\n                                        Graphic design\r\n                                    </Button>\r\n                                    <Button className=\"mr-1\" variant=\"outlined\" disabled>\r\n                                        Design\r\n                                    </Button>\r\n                                    <Button className=\"mr-1\" variant=\"outlined\" disabled>\r\n                                        Figma\r\n                                    </Button>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </ThemeProvider>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {  Container , Row , Col  } from 'react-bootstrap';\r\nimport CradYourInterview from '../card-your-interview/card-your-interview.component';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\n\r\nimport {Paper } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default class  YourInterviews extends Component{\r\n    render(){\r\n        return(<div>\r\n            <Container className=\"pt-5\">\r\n                <Paper elevation={3}>\r\n                    <Row elevation={3} className=\"bg-light m-0 p-3\" style={{borderBottom:'1px solid #f2f2f2'}}>\r\n                            <Col xs={6}>\r\n                                <h5>Your Interviews</h5>\r\n                            </Col>\r\n                             <Col className=\"text-right\" xs={6}>\r\n                                <h5><Link className=\"text-orange\" to='/'>See All <ArrowForwardIcon /></Link></h5>\r\n                            </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md='12' className=\"pt-3 pb-3\" style={{borderBottom:'1px solid #f2f2f2'}}>\r\n                            <CradYourInterview />\r\n                        </Col>\r\n                        <Col md='12' className=\"pt-3 pb-3\" style={{borderBottom:'1px solid #f2f2f2'}}>\r\n                            <CradYourInterview />\r\n                        </Col>\r\n                        <Col md='12' className=\"pt-3 pb-3\" style={{borderBottom:'1px solid #f2f2f2'}}>\r\n                            <CradYourInterview />\r\n                        </Col>\r\n                     </Row>\r\n                </Paper>\r\n            </Container>\r\n        </div>);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport {  Row , Col, Container  } from 'react-bootstrap';\r\nimport ListItem from '../list-item/list-item.component';\r\nimport {Button, Paper} from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport img from '../../images/member.png';\r\n\r\nexport default class  CompanyMembers extends Component{\r\n    render(){\r\n        return(\r\n            <Container fluid className=\"pt-3\">\r\n                <Paper>\r\n                    <Row className=\"m-0 p-3 border-b-1\">\r\n                            <Col className=\"pl-0 pb-3\"  xs={7}>\r\n                                <h6>Company Members</h6>\r\n                            </Col>\r\n                            <Col className=\"p-0 pb-3 text-right\" xs={{ span : 4,offset : 1}}>\r\n                                <h6><Link className=\"text-orange underline\">View All</Link></h6>\r\n                            </Col>\r\n                            <Col className=\"p-0 mb-1\" xs={8}>\r\n                                <Row className=\"m-0 mb-3\">\r\n                                    <Col className=\"p-0\" xs={4}><img src={img} width=\"100%\" alt='list item img'/></Col>\r\n                                    <Col  xs={8}>\r\n                                        <h6>Alberto Mohe</h6>\r\n                                        <p>web developer</p>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            <Col className=\"p-0 text-right\" xs={4}><Button className=\"btn-black\" size=\"small\" variant=\"outlined\">Contact</Button></Col>\r\n                            <Col className=\"p-0 mb-1\" xs={8}>\r\n                                <Row className=\"m-0 mb-3\">\r\n                                        <Col className=\"p-0\" xs={4}><img src={img} width=\"100%\" alt='list item img'/></Col>\r\n                                        <Col  xs={8}>\r\n                                            <h6>Alberto Mohe</h6>\r\n                                            <p>web developer</p>\r\n                                        </Col>\r\n                                    </Row>\r\n                            </Col>\r\n                            <Col className=\"p-0 text-right\" xs={4}><Button className=\"btn-black\" size=\"small\" variant=\"outlined\">Contact</Button></Col>\r\n                            <Col className=\"p-0 mb-1\" xs={8}>\r\n                                <Row className=\"m-0\">\r\n                                    <Col className=\"p-0\" xs={4}><img src={img} width=\"100%\" alt='list item img'/></Col>\r\n                                    <Col  xs={8}>\r\n                                        <h6>Alberto Mohe</h6>\r\n                                        <p>web developer</p>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            <Col className=\"p-0 text-right\" xs={4}><Button className=\"btn-black\" size=\"small\" variant=\"outlined\">Contact</Button></Col>\r\n                    </Row>\r\n                    </Paper>\r\n            </Container>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {  Container , Row , Col } from 'react-bootstrap';\r\nimport { FaFacebookF, FaTwitter ,FaInstagram} from 'react-icons/fa';\r\nimport {Button} from '@material-ui/core';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport Logo from './images/spreago-logo-dark.png';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"font-small pt-4 mt-4 bg-grey\" >\r\n      <Container className=\"text-center text-md-left\">\r\n        <Row>\r\n          <Col md=\"4\">\r\n            <h5 className=\"text-dark\">\r\n                <img src={Logo} alt=\"Logo footer\"/>\r\n            </h5>\r\n            <p className=\"mb-1\">\r\n                Privacy policy | terms of services\r\n            </p>\r\n            <p className=\"mb-1\">\r\n                 2019-2010 Spreago, All Copyrights Reserved\r\n            </p>\r\n            <div className=\"text-grey mb-1\">\r\n                <Link to='/' className=\"pr-3\"><FaInstagram/></Link>\r\n                <Link to='/' className=\"pr-3\"><FaTwitter/></Link>\r\n                <Link to='/' className=\"pr-3\"><FaFacebookF/></Link>\r\n            </div>\r\n            <div>\r\n                <h6 className=\"mt-4\">\r\n                  Subscribe to our newsletter\r\n                </h6>\r\n                <div className=\"d-inline-block  pr-1\">\r\n                  <Button variant=\"outlined\" size=\"large\" className=\"btn-black\">Email Address</Button>\r\n                </div>\r\n                <div className=\"d-inline-block  pl-1\">\r\n                  <Button color=\"primary\" variant=\"outlined\" size=\"large\" className=\"btn-orange-outline-gradiant\">Subscribe</Button>\r\n                </div>\r\n            </div>\r\n            \r\n          </Col>\r\n          <Col md=\"3\" className=\"text-grey mt-3\">\r\n            <ul className=\"p-0\">\r\n            <h5 className=\"text-dark\">About</h5>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Careers</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Partnerships</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Privacy</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Policy</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Terms of Service </Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Intellectual Property Claims</Link>\r\n              </li>\r\n            </ul>\r\n          </Col>\r\n          <Col md=\"3\" className=\"text-grey mt-3\">\r\n            <ul className=\"p-0\">\r\n            <h5 className=\"text-dark\">Support</h5>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >How it works?</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Help & Support</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Trust & Safety</Link>\r\n              </li>\r\n            </ul>\r\n          </Col>\r\n          <Col md=\"2\" className=\"text-grey mt-3\">\r\n            <ul className=\"p-0\">\r\n            <h5 className=\"text-dark\">Community</h5>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Blog</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Events</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Podcasts</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Invite a Friend</Link>\r\n              </li>\r\n              <li className=\"list-unstyled\">\r\n                <Link to='/' >Affiliates</Link>\r\n              </li>\r\n            </ul>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <Container>\r\n        <hr/>\r\n      </Container>\r\n      <div className=\"footer-copyright text-center text-grey pb-3\">\r\n        <Container fluid>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\">English (UK)</Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\"></Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\">Franais (France)</Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\">Italiano</Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\">Deutsch</Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\"></Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\">Espaol</Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\">Bahasa Indonesia</Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\">Trke)</Link>\r\n            </div>\r\n            <div className=\"d-inline-block pr-1 pl-1\"> | </div>\r\n            <div className=\"d-inline-block\">\r\n                <Link to='/' href=\"#\">Portugus</Link>\r\n            </div>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport {  Container , Row , Col  } from 'react-bootstrap';\r\nimport { withRouter } from 'react-router';\r\nimport LatestInterview from '../latest-Interviews/latest-Interviews.component';\r\nimport Header from '../header/header.component';\r\nimport HeaderEmployer from '../header-employer/header-employer.component';\r\nimport AddToList from '../add-to-list/add-to-list.component';\r\nimport RecommendedArticles from '../recommended-articles/recommended-articles.component';\r\nimport ExplorePremium from '../explore-premium/explore-premium-component';\r\nimport FindCandidate from '../find-candidate/find-candidate.component';\r\nimport LatestBiographies from '../latest-biographies/latest-biographies.component';\r\nimport YourBiographies from '../your-biographies/your-biographies.component';\r\nimport YourInterview from '../your-Interviews/your-Interviews.component';\r\nimport CompanyMembers from '../company-members/company-members.component';\r\nimport Footer from '../footer/footer.component';\r\n\r\nclass  Homepage extends Component{\r\n\r\n    userType = JSON.parse(localStorage.getItem('jwt')).user.typeName;\r\n    render(){\r\n        if(this.userType){\r\n        if(this.userType === 'Applicant'){\r\n            return(\r\n               <div>\r\n                    <Header/>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col className=\"p-0\" md={8}>\r\n                                <YourBiographies/>\r\n                                <LatestInterview/>\r\n                            </Col>\r\n                            <Col className=\"p-0\" md={4}>\r\n                                <AddToList/>\r\n                                <RecommendedArticles/>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                    <Footer/>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return(\r\n                <div>\r\n                <Header/>\r\n                <Container>\r\n                    <Row>\r\n                        <Col className=\"p-0\" md={8}>\r\n                            <YourInterview/>\r\n                            <LatestBiographies/>\r\n                            <FindCandidate/>\r\n                        </Col>\r\n                        <Col className=\"p-0\" md={4}>\r\n                            <ExplorePremium/>\r\n                            <CompanyMembers/>\r\n                            <RecommendedArticles/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n                <Footer/>\r\n                </div>\r\n            );\r\n        } \r\n    }\r\n    else{\r\n        return(<div>error</div>)\r\n    }\r\n    }\r\n}\r\n\r\nexport default withRouter(Homepage);","import React, { Component } from 'react';\r\nimport { graphql } from 'react-apollo';\r\nimport { gql } from 'apollo-boost';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport { FormControl, InputLabel, OutlinedInput, InputAdornment, IconButton } from '@material-ui/core';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport Logo from '../../images/logo.png';\r\n\r\nclass ResetPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showPassword: false,\r\n            showConfirmPassword: false,\r\n            password: '',\r\n            confirmPassword: '',\r\n            errorMessage: '',\r\n            email: this.props.location.state.email,\r\n            code : this.props.location.state.code\r\n        }\r\n    }\r\n    render() {\r\n        const handleClickShowPassword = () => {\r\n            this.setState({ ...this.state, showPassword: !this.state.showPassword });\r\n        };\r\n        const handleClickShowConfirmPassword = () => {\r\n            this.setState({ ...this.state, showConfirmPassword: !this.state.showConfirmPassword });\r\n        };\r\n        const handleMouseDownPassword = event => {\r\n            event.preventDefault();\r\n        };\r\n        const handleMouseDownConfirmPassword = event => {\r\n            event.preventDefault();\r\n        };\r\n        const handleChange = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value });\r\n        };\r\n        const CheckPassword = (inputtxt) => {\r\n            var passw = /(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/;\r\n            if (inputtxt.match(passw)) {\r\n                this.setState({ ...this.state, errorMessage: '' });\r\n                return true;\r\n            }\r\n            else {\r\n                this.setState({ ...this.state, errorMessage: 'The password must contains at least 8 characters that are uppercase and lowercase letters , special characters and numbers' });\r\n                return false;\r\n            }\r\n        }\r\n        return (\r\n            <div className=\"container pt-10\">\r\n                <form\r\n                    onSubmit={e => {\r\n                        e.preventDefault();\r\n                        if (CheckPassword(this.state.password) && CheckPassword(this.state.confirmPassword)) {\r\n                            if (this.state.password === this.state.confirmPassword) {\r\n                                this.props.mutate({\r\n                                    variables: {\r\n                                        email: this.state.email,\r\n                                        password: this.state.password,\r\n                                        pin_code : this.state.code\r\n                                    }\r\n                                }).then((res) => {\r\n                                   if(res.data.passwordresets.Status.code === 200) {\r\n                                        this.setState({ ...this.state, errorMessage: \"Password Reset Successfully\" })\r\n                                        this.props.history.push({\r\n                                            pathname: '/'\r\n                                        });\r\n                                    } else {\r\n                                        this.setState({ ...this.state, errorMessage: \"message error\" })\r\n                                    }\r\n                                }).catch((err) => this.setState({ ...this.state, errorMessage: \"Check your internet connection\" }))\r\n                            }\r\n                            else {\r\n                                this.setState({ ...this.state, errorMessage: \"Password and confirmation password not match\" })\r\n                            }\r\n                        }   \r\n                    }}\r\n                    className=\"container\" autoComplete=\"off\">\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <img src={Logo} alt=\"spreago logo\" width=\"150px\" />\r\n                    </div>\r\n                    <div className=\"pb-3\">\r\n                        <Typography variant=\"h4\" color=\"primary\" >Reset your password</Typography>\r\n                    </div>\r\n                    <div className=\"pt-1 pb-3\">\r\n                        <Typography variant=\"subtitle1\" className=\"text-dark\">Please enter your new password</Typography>\r\n                    </div>\r\n                    <FormControl required fullWidth className=\"mt-1\" variant=\"outlined\">\r\n                        <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n                        <OutlinedInput\r\n                            id=\"password\"\r\n                            type={this.state.showPassword ? 'text' : 'password'}\r\n                            value={this.state.password}\r\n                            onChange={handleChange('password')}\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={handleClickShowPassword}\r\n                                        onMouseDown={handleMouseDownPassword}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {this.state.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                            labelWidth={70}\r\n                        />\r\n                    </FormControl>\r\n                    <FormControl required fullWidth className=\"mt-3\" variant=\"outlined\">\r\n                        <InputLabel htmlFor=\"Confrm-Password\">Confirm Password</InputLabel>\r\n                        <OutlinedInput\r\n                            id=\"Confrm-Password\"\r\n                            type={this.state.showConfirmPassword ? 'text' : 'Password'}\r\n                            value={this.state.confirmPassword}\r\n                            onChange={handleChange('confirmPassword')}\r\n                            endAdornment={\r\n                                <InputAdornment position=\"end\">\r\n                                    <IconButton\r\n                                        aria-label=\"toggle password visibility\"\r\n                                        onClick={handleClickShowConfirmPassword}\r\n                                        onMouseDown={handleMouseDownConfirmPassword}\r\n                                        edge=\"end\"\r\n                                    >\r\n                                        {this.state.showConfirmPassword ? <Visibility /> : <VisibilityOff />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }\r\n                            labelWidth={125}\r\n                        />\r\n                    </FormControl>\r\n                    <Row className=\"pt-3\">\r\n                        <Col xs={12}>\r\n                            <div className=\"text-danger\"><p>{this.state.errorMessage}</p></div>\r\n                        </Col>\r\n                        <Col xs={12} className=\"text-center\">\r\n                            <Button size=\"large\" type=\"submit\" variant=\"contained\" color=\"primary\" className=\"btn-orange-gradiant pr-5 pl-5\">Continue</Button>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst RESET_PASSWORD = gql`\r\nmutation( $password : Password !$email : Email ! $ pin_code : String !){\r\n  passwordresets(data: {\r\n    forgotPasswordInput:{\r\n      password:$password\r\n    }\r\n  verifyPinCodeInput:{\r\n    email:$email\r\n    pin_code:$ pin_code\r\n  }\r\n  }){\r\n    user{\r\n      name\r\n    }\r\n    Status{\r\n      message\r\n      code\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nexport default graphql(RESET_PASSWORD)(withRouter(ResetPassword));","import React from 'react';\r\nimport { Container,Row,Col } from 'react-bootstrap';\r\nimport SideImage from '../side-image/side-image.component';\r\nimport ResetPassword from '../reset-password/reset-password.component';\r\n\r\nfunction ResetPasswordPage(){\r\n        return(\r\n                <Container fluid className=\"p-0 m-0 bg-light\">\r\n                    <Row className=\"p-0 m-0\">\r\n                        <Col  md={6} xs={12} className=\"p-0 m-0 order-sm-1 order-2\">\r\n                            <ResetPassword/>\r\n                        </Col>\r\n                        <Col md={6} xs={12} className=\"p-0 m-0 order-sm-2 order-1\">\r\n                             <SideImage/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n        );\r\n}\r\nexport default ResetPasswordPage;","const getJwt = () => {\r\n    return localStorage.getItem('jwt');\r\n}\r\n\r\nexport default getJwt; ","\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport getJwt from './getJwt';\r\n\r\nclass Auth extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      Authenticated: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { history } = this.props;\r\n    const jwt = getJwt();\r\n    if (!jwt) {\r\n      history.push('/');\r\n    }\r\n     else {\r\n        this.setState({ Authenticated: true });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { Authenticated } = this.state;\r\n    if (Authenticated === false) {\r\n      return (\r\n        <div>You don't have Permission</div>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Auth);","import React, { Component } from 'react';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport { Mutation } from 'react-apollo';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { createUploadLink } from 'apollo-upload-client';\r\nimport { ApolloClient } from \"apollo-client\";\r\nimport { ApolloProvider } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Loader from 'react-loader-spinner';\r\nimport VideocamIcon from '@material-ui/icons/Videocam';\r\n\r\nimport './video.style.css';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\r\n\r\n\r\nexport default class Video extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    stopWebCamera = () => {\r\n        var video = document.querySelector('video');\r\n        const stream = video.srcObject;\r\n        if (stream) {\r\n            const tracks = stream.getVideoTracks();\r\n            tracks[0].stop()\r\n            tracks.forEach(function (track) {\r\n                track.stop();\r\n            });\r\n            video.srcObject = null;\r\n        }\r\n    }\r\n\r\n    componentWillUpdate(props) {\r\n        if (props !== this.props) {\r\n            this.setState({ ...this.state, bioId: props.data.id, data: props.data, enableWebCam: props.enableWebCam });\r\n        }\r\n    }\r\n    maxtime = parseInt(this.props.data.maximum_time + \"000\");\r\n\r\n    componentDidMount() {\r\n        // get the bio id \r\n        this.setState({ ...this.state, bioId: this.props.data.id })\r\n\r\n        let file, that = this;\r\n\r\n        const constraints = {\r\n            audio: true,\r\n            video: {\r\n                width: 980,\r\n                height: 520\r\n            }\r\n\r\n        };\r\n        //const video = document.querySelector('video');\r\n\r\n        // start the cam \r\n        async function init(constraints) {\r\n            try {\r\n                const stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n                handleSuccess(stream);\r\n            } catch (e) {\r\n                console.error('navigator.getUserMedia error:', e);\r\n                errorMsgElement.innerHTML = `This Page have no permission for accessing camera.`;\r\n            }\r\n        }\r\n\r\n        if (this.props.enableWebCam === 1) {\r\n            // init(constraints);\r\n            document.querySelector('.btn-group-rec-style').classList.remove('d-none');\r\n        }\r\n        // document.querySelector('.question-next').addEventListener(\"click\",function(){\r\n        //     init(constraints);\r\n        //     document.querySelector('.btn-group-rec-style').classList.remove('d-none');\r\n        // });\r\n        let mediaRecorder;\r\n        let recordedBlobs;\r\n        let firstBlob;\r\n        // let base64data;\r\n        //let sourceBuffer;\r\n        let timeLimit;\r\n\r\n        const errorMsgElement = document.querySelector('span#errorMsg');\r\n        const recordedVideo = document.querySelector('video');\r\n        const recordButton = document.querySelector('button#record');\r\n\r\n        // record button click\r\n        recordButton.addEventListener('click', () => {\r\n            if (recordButton.classList.contains('rec')) {\r\n                // document.querySelector('video').removeAttribute('src')\r\n                init(constraints)\r\n                //let flag = 0;\r\n                // setInterval(function() { \r\n                //     startRecording();\r\n                // }, 1000);\r\n\r\n            } else {\r\n                //when stop recording \r\n                window.clearTimeout(timeLimit);\r\n                document.querySelector('.recording-text').classList.add('d-none');\r\n                document.querySelector('.circle-light-play').classList.remove('d-none');\r\n                document.querySelector('.start-rec-text').classList.remove('d-none');\r\n                document.querySelector('.play-text').classList.remove('d-none');\r\n                document.querySelector('.btns-group').classList.add('btn-group-rec-style');\r\n                document.querySelector('.start-text').classList.add('d-none');\r\n                recordButton.classList.add('rec');\r\n                recordButton.classList.remove('stop');\r\n                playButton.disabled = false;\r\n                stopRecording();\r\n                // downloadButton.disabled = false;\r\n            }\r\n        });\r\n        // play recorded video \r\n        const playButton = document.querySelector('button#play');\r\n        playButton.addEventListener('click', () => {\r\n            const superBuffer = new Blob(recordedBlobs, { type: 'video/webm' });\r\n            recordedVideo.src = null;\r\n            recordedVideo.srcObject = null;\r\n            recordedVideo.src = window.URL.createObjectURL(superBuffer);\r\n            recordedVideo.controls = true;\r\n            recordedVideo.muted = false;\r\n            document.querySelector('.start-rec-text').classList.add('d-none');\r\n            document.querySelector('.btns-group').classList.remove('btn-group-rec-style');\r\n            document.querySelector('.play-text').classList.add('d-none');\r\n            recordedVideo.play();\r\n            // add-ons\r\n            // when the user click  on the progress bar set flag   \r\n                            // Add eventlisteners here\r\n               // playButton.addEventListener('click', togglePlay);\r\n               // video.addEventListener('play', updatePlayButton);\r\n               // video.addEventListener('pause', updatePlayButton);\r\n            //    video.addEventListener('loadedmetadata', initializeVideo);\r\n            //    video.addEventListener('timeupdate', updateTimeElapsed);\r\n            //    video.addEventListener('timeupdate', updateProgress);\r\n            //    // video.addEventListener('volumechange', updateVolumeIcon);\r\n            //   // video.addEventListener('click', togglePlay);\r\n            //    // video.addEventListener('click', animatePlayback);\r\n            //    video.addEventListener('mouseenter', showControls);\r\n            //    video.addEventListener('mouseleave', hideControls);\r\n            //    videoControls.addEventListener('mouseenter', showControls);\r\n            //    videoControls.addEventListener('mouseleave', hideControls);\r\n            //    seek.addEventListener('mousemove', updateSeekTooltip);\r\n            //    seek.addEventListener('input', skipAhead);\r\n               //   volume.addEventListener('input', updateVolume);\r\n               //  volumeButton.addEventListener('click', toggleMute);\r\n               //   fullscreenButton.addEventListener('click', toggleFullScreen);\r\n               //   videoContainer.addEventListener('fullscreenchange', updateFullscreenButton);\r\n               // pipButton.addEventListener('click', togglePip);\r\n       \r\n               // document.addEventListener('DOMContentLoaded', () => {\r\n               //     if (!('pictureInPictureEnabled' in document)) {\r\n               //         pipButton.classList.add('hidden');\r\n               //     }\r\n               // });\r\n               // document.addEventListener('keyup', keyboardShortcuts);        \r\n        });\r\n\r\n\r\n        // function that push every moment recorded in array \r\n        function handleDataAvailable(event) {\r\n            // console.log('handleDataAvailable', event);\r\n            if (event.data && event.data.size > 0 && event.data && event.data.size < 2) {\r\n                firstBlob = event.data;\r\n            }\r\n            if (event.data && event.data.size > 0) {\r\n                recordedBlobs.push(event.data);\r\n            }\r\n        }\r\n        // start recording a video\r\n        function startRecording() {\r\n            recordedBlobs = [];\r\n            let timeout = that.maxtime;\r\n            let options = { mimeType: 'video/webm;codecs=vp9' };\r\n            if (!MediaRecorder.isTypeSupported(options.mimeType)) {\r\n                console.error(`${options.mimeType} is not Supported`);\r\n                // errorMsgElement.innerHTML = `${options.mimeType} is not Supported`;\r\n                options = { mimeType: 'video/webm;codecs=vp8,opus' };\r\n                if (!MediaRecorder.isTypeSupported(options.mimeType)) {\r\n                    console.error(`${options.mimeType} is not Supported`);\r\n                    // errorMsgElement.innerHTML = `${options.mimeType} is not Supported`;\r\n                    options = { mimeType: 'video/webm' };\r\n                    if (!MediaRecorder.isTypeSupported(options.mimeType)) {\r\n                        console.error(`${options.mimeType} is not Supported`);\r\n                        errorMsgElement.innerHTML = `${options.mimeType} is not Supported`;\r\n                        options = { mimeType: '' };\r\n\r\n                    }\r\n                }\r\n            }\r\n            try {\r\n                recordedVideo.muted = true;\r\n                recordedVideo.controls = false;\r\n                mediaRecorder = new MediaRecorder(window.stream, options);\r\n                timeLimit = setTimeout(function () {\r\n                    stopRecording();\r\n                    document.querySelector('.recording-text').classList.add('d-none');\r\n                    document.querySelector('.circle-light-play').classList.remove('d-none');\r\n                    document.querySelector('.start-rec-text').classList.remove('d-none');\r\n                    document.querySelector('.play-text').classList.remove('d-none');\r\n                    document.querySelector('.btns-group').classList.add('btn-group-rec-style');\r\n                    document.querySelector('.start-text').classList.add('d-none');\r\n                    recordButton.classList.add('rec');\r\n                    recordButton.classList.remove('stop');\r\n                    playButton.disabled = false;\r\n                }, timeout);\r\n            } catch (e) {\r\n                console.error('Exception while creating MediaRecorder:', e);\r\n                errorMsgElement.innerHTML = `Exception while creating MediaRecorder: ${JSON.stringify(e)}`;\r\n                return;\r\n            }\r\n\r\n            // console.log('Created MediaRecorder', mediaRecorder, 'with options', options);\r\n            recordButton.classList.remove('rec');\r\n            recordButton.classList.add(\"stop\");\r\n            playButton.disabled = true;\r\n            // downloadButton.disabled = true;\r\n\r\n            // convert blobs to file\r\n            mediaRecorder.onstop = (event) => {\r\n                //console.log('Recorder stopped: ', event);\r\n                // console.log('Recorded Blobs: ', recordedBlobs);\r\n                var blob = new Blob(recordedBlobs, { type: \"video/webm\" });\r\n                file = new File([blob], \"videoname\", {\r\n                    type: \"video/webm\",\r\n                });\r\n                //download video \r\n                // var reader = new FileReader();\r\n                // reader.readAsDataURL( blob );\r\n                // reader.onloadend = function() {\r\n                //     var base64data = reader.result;\r\n                //     var dummy = document.createElement('a');\r\n                //     dummy.href = base64data;\r\n                //     dummy.download = \"newVideo\" ;\r\n                //     dummy.click( );\r\n                //     console.log(base64data);\r\n                //     console.log( dummy );\r\n                // }\r\n                that.setState({ ...that.state, file: file });\r\n\r\n                if (that.state.file) {\r\n                    document.getElementById(\"btn-save-video\").click();\r\n                }\r\n            };\r\n\r\n            mediaRecorder.ondataavailable = handleDataAvailable;\r\n            mediaRecorder.start(10); // collect 10ms of data\r\n            // console.log('MediaRecorder started', mediaRecorder);\r\n        }\r\n\r\n        function stopRecording() {\r\n            mediaRecorder.stop();\r\n        }\r\n\r\n        function handleSuccess(stream) {\r\n            recordButton.disabled = false;\r\n            //console.log('getUserMedia() got stream:', stream);\r\n            window.stream = stream;\r\n\r\n            const gumVideo = document.querySelector('video');\r\n            gumVideo.srcObject = stream;\r\n            recordButton.classList.remove('rec');\r\n            recordButton.classList.add('stop');\r\n            //when recording\r\n            document.querySelector('.start-rec-text').classList.add('d-none');\r\n            document.querySelector('.circle-light-play').classList.add('d-none');\r\n            document.querySelector('.btns-group').classList.remove('btn-group-rec-style');\r\n            document.querySelector('.play-text').classList.add('d-none');\r\n            document.querySelector('.recording-text').classList.remove('d-none');\r\n            startRecording();\r\n        }\r\n                // Select elements here\r\n            //     const video = document.getElementById('video');\r\n            //     const videoControls = document.getElementById('video-controls');\r\n            //    // const playButton = document.getElementById('play');\r\n            //    // const playbackIcons = document.querySelectorAll('.playback-icons use');\r\n            //     const timeElapsed = document.getElementById('time-elapsed');\r\n            //     const duration = document.getElementById('duration');\r\n            //     const progressBar = document.getElementById('progress-bar');\r\n            //     const seek = document.getElementById('seek');\r\n            //     const seekTooltip = document.getElementById('seek-tooltip');\r\n            //     // const volumeButton = document.getElementById('volume-button');\r\n            //     // const volumeIcons = document.querySelectorAll('.volume-button use');\r\n            //     // const volumeMute = document.querySelector('use[href=\"#volume-mute\"]');\r\n            //     // const volumeLow = document.querySelector('use[href=\"#volume-low\"]');\r\n            //     // const volumeHigh = document.querySelector('use[href=\"#volume-high\"]');\r\n            //     // const volume = document.getElementById('volume');\r\n            //     // const playbackAnimation = document.getElementById('playback-animation');\r\n            //     // const fullscreenButton = document.getElementById('fullscreen-button');\r\n            //     // const videoContainer = document.getElementById('video-container');\r\n            //     // const fullscreenIcons = fullscreenButton.querySelectorAll('use');\r\n            //     //const pipButton = document.getElementById('pip-button')\r\n        \r\n            //     const videoWorks = !!document.createElement('video').canPlayType;\r\n            //     if (videoWorks) {\r\n            //         video.controls = false\r\n            //         videoControls.classList.remove('hidden');\r\n            //     }\r\n        \r\n            //     // Add functions here\r\n        \r\n            //     // togglePlay toggles the playback state of the video.\r\n            //     // If the video playback is paused or ended, the video is played\r\n            //     // otherwise, the video is paused\r\n            //     // function togglePlay() {\r\n            //     //     if (video.paused || video.ended) {\r\n            //     //         video.play();\r\n            //     //     } else {\r\n            //     //         video.pause();\r\n            //     //     }\r\n            //     // }\r\n        \r\n            //     // updatePlayButton updates the playback icon and tooltip\r\n            //     // depending on the playback state\r\n            //     // function updatePlayButton() {\r\n            //     //     playbackIcons.forEach(icon => icon.classList.toggle('hidden'));\r\n        \r\n            //     //     if (video.paused) {\r\n            //     //         playButton.setAttribute('data-title', 'Play (k)')\r\n            //     //     } else {\r\n            //     //         playButton.setAttribute('data-title', 'Pause (k)')\r\n            //     //     }\r\n            //     // }\r\n        \r\n            //     // formatTime takes a time length in seconds and returns the time in\r\n            //     // minutes and seconds\r\n            //     function formatTime(timeInSeconds) {\r\n            //         console.log(timeInSeconds)\r\n            //         if(timeInSeconds === Infinity ||   isNaN(timeInSeconds))\r\n            //         {\r\n            //             const result = \"00:00:00\";\r\n            //             console.log(result);\r\n            //             return {\r\n            //                 minutes: result.substr(3, 2),\r\n            //                 seconds: result.substr(6, 2),\r\n            //             };\r\n            //         }\r\n            //         else{\r\n            //             const result = new Date(timeInSeconds * 1000).toISOString().substr(11, 8);\r\n            //             console.log(result);\r\n            //             return {\r\n            //                 minutes: result.substr(3, 2),\r\n            //                 seconds: result.substr(6, 2),\r\n            //             };\r\n            //         }\r\n                    \r\n            //     };\r\n        \r\n            //     // initializeVideo sets the video duration, and maximum value of the\r\n            //     // progressBar\r\n            //     function initializeVideo() {\r\n            //         const videoDuration = Math.round(video.duration);\r\n            //         seek.setAttribute('max', videoDuration);\r\n            //         console.log(videoDuration);\r\n            //         progressBar.setAttribute('max', videoDuration);\r\n            //         const time = formatTime(videoDuration);\r\n            //         duration.innerText = `${time.minutes}:${time.seconds}`;\r\n            //         duration.setAttribute('datetime', `${time.minutes}m ${time.seconds}s`)\r\n            //     }\r\n        \r\n            //     // updateTimeElapsed indicates how far through the video\r\n            //     // the current playback is by updating the timeElapsed element\r\n            //     function updateTimeElapsed() {\r\n            //         const time = formatTime(Math.round(video.currentTime));\r\n            //         timeElapsed.innerText = `${time.minutes}:${time.seconds}`;\r\n            //         timeElapsed.setAttribute('datetime', `${time.minutes}m ${time.seconds}s`)\r\n            //     }\r\n        \r\n            //     // updateProgress indicates how far through the video\r\n            //     // the current playback is by updating the progress bar\r\n            //     function updateProgress() {\r\n            //         seek.value = Math.floor(video.currentTime);\r\n            //         progressBar.value = Math.floor(video.currentTime);\r\n            //     }\r\n        \r\n                // updateSeekTooltip uses the position of the mouse on the progress bar to\r\n                // roughly work out what point in the video the user will skip to if\r\n                // the progress bar is clicked at that point\r\n                // function updateSeekTooltip(event) {\r\n                //     const skipTo = Math.round((event.offsetX / event.target.clientWidth) * parseInt(event.target.getAttribute('max'), 10));\r\n                //     seek.setAttribute('data-seek', skipTo)\r\n                //     const t = formatTime(skipTo);\r\n                //     seekTooltip.textContent = `${t.minutes}:${t.seconds}`;\r\n                //     const rect = video.getBoundingClientRect();\r\n                //     seekTooltip.style.left = `${event.pageX - rect.left}px`;\r\n                // }\r\n        \r\n                // skipAhead jumps to a different point in the video when the progress bar\r\n                // is clicked\r\n                // function skipAhead(event) {\r\n                //     const skipTo = event.target.dataset.seek\r\n                //         ? event.target.dataset.seek\r\n                //         : event.target.value;\r\n                //     video.currentTime = skipTo;\r\n                //     progressBar.value = skipTo;\r\n                //     seek.value = skipTo;\r\n                // }\r\n        \r\n                // updateVolume updates the video's volume\r\n                // and disables the muted state if active\r\n                // function updateVolume() {\r\n                //     if (video.muted) {\r\n                //         video.muted = false;\r\n                //     }\r\n        \r\n                //     video.volume = volume.value;\r\n                // }\r\n        \r\n                // updateVolumeIcon updates the volume icon so that it correctly reflects\r\n                // the volume of the video\r\n                // function updateVolumeIcon() {\r\n                //     volumeIcons.forEach(icon => {\r\n                //         icon.classList.add('hidden');\r\n                //     });\r\n        \r\n                //     volumeButton.setAttribute('data-title', 'Mute (m)')\r\n        \r\n                //     if (video.muted || video.volume === 0) {\r\n                //         volumeMute.classList.remove('hidden');\r\n                //         volumeButton.setAttribute('data-title', 'Unmute (m)')\r\n                //     } else if (video.volume > 0 && video.volume <= 0.5) {\r\n                //         volumeLow.classList.remove('hidden');\r\n                //     } else {\r\n                //         volumeHigh.classList.remove('hidden');\r\n                //     }\r\n                // }\r\n        \r\n                // toggleMute mutes or unmutes the video when executed\r\n                // When the video is unmuted, the volume is returned to the value\r\n                // it was set to before the video was muted\r\n                // function toggleMute() {\r\n                //     video.muted = !video.muted;\r\n        \r\n                //     if (video.muted) {\r\n                //         volume.setAttribute('data-volume', volume.value);\r\n                //         volume.value = 0;\r\n                //     } else {\r\n                //         volume.value = volume.dataset.volume;\r\n                //     }\r\n                // }\r\n        \r\n                // animatePlayback displays an animation when\r\n                // the video is played or paused\r\n                // function animatePlayback() {\r\n                //     playbackAnimation.animate([\r\n                //         {\r\n                //             opacity: 1,\r\n                //             transform: \"scale(1)\",\r\n                //         },\r\n                //         {\r\n                //             opacity: 0,\r\n                //             transform: \"scale(1.3)\",\r\n                //         }\r\n                //     ], {\r\n                //         duration: 500,\r\n                //     });\r\n                // }\r\n        \r\n                // toggleFullScreen toggles the full screen state of the video\r\n                // If the browser is currently in fullscreen mode,\r\n                // then it must be exited and vice versa.\r\n                // function toggleFullScreen() {\r\n                //     if (document.fullscreenElement) {\r\n                //         document.exitFullscreen();\r\n                //     } else {\r\n                //         videoContainer.requestFullscreen();\r\n                //     }\r\n                // }\r\n        \r\n                // updateFullscreenButton changes the icon of the full screen button\r\n                // and tooltip to reflect the current full screen state of the video\r\n                // function updateFullscreenButton() {\r\n                //     fullscreenIcons.forEach(icon => icon.classList.toggle('hidden'));\r\n        \r\n                //     if (document.fullscreenElement) {\r\n                //         fullscreenButton.setAttribute('data-title', 'Exit full screen (f)')\r\n                //     } else {\r\n                //         fullscreenButton.setAttribute('data-title', 'Full screen (f)')\r\n                //     }\r\n                // }\r\n        \r\n                // togglePip toggles Picture-in-Picture mode on the video\r\n                // async function togglePip() {\r\n                //     try {\r\n                //         if (video !== document.pictureInPictureElement) {\r\n                //             pipButton.disabled = true;\r\n                //             await video.requestPictureInPicture();\r\n                //         } else {\r\n                //             await document.exitPictureInPicture();\r\n                //         }\r\n                //     } catch (error) {\r\n                //         console.error(error)\r\n                //     } finally {\r\n                //         pipButton.disabled = false;\r\n                //     }\r\n                // }\r\n        \r\n                // hideControls hides the video controls when not in use\r\n                // if the video is paused, the controls must remain visible\r\n                // function hideControls() {\r\n                //     if (video.paused) {\r\n                //         return;\r\n                //     }\r\n        \r\n                //     videoControls.classList.add('hide');\r\n                // }\r\n        \r\n                // // showControls displays the video controls\r\n                // function showControls() {\r\n                //     videoControls.classList.remove('hide');\r\n                // }\r\n        \r\n                // keyboardShortcuts executes the relevant functions for\r\n                // each supported shortcut key\r\n                // function keyboardShortcuts(event) {\r\n                //     const { key } = event;\r\n                //     switch (key) {\r\n                //         case 'k':\r\n                //             togglePlay();\r\n                //             animatePlayback();\r\n                //             if (video.paused) {\r\n                //                 showControls();\r\n                //             } else {\r\n                //                 setTimeout(() => {\r\n                //                     hideControls();\r\n                //                 }, 2000);\r\n                //             }\r\n                //             break;\r\n                //         case 'm':\r\n                //             toggleMute();\r\n                //             break;\r\n                //         case 'f':\r\n                //             toggleFullScreen();\r\n                //             break;\r\n                //         case 'p':\r\n                //             togglePip();\r\n                //             break;\r\n                //     }\r\n                // }\r\n        \r\n            //     // Add eventlisteners here\r\n            //    // playButton.addEventListener('click', togglePlay);\r\n            //    // video.addEventListener('play', updatePlayButton);\r\n            //    // video.addEventListener('pause', updatePlayButton);\r\n            //     video.addEventListener('loadedmetadata', initializeVideo);\r\n            //     video.addEventListener('timeupdate', updateTimeElapsed);\r\n            //     video.addEventListener('timeupdate', updateProgress);\r\n            //     // video.addEventListener('volumechange', updateVolumeIcon);\r\n            //    // video.addEventListener('click', togglePlay);\r\n            //     // video.addEventListener('click', animatePlayback);\r\n            //     video.addEventListener('mouseenter', showControls);\r\n            //     video.addEventListener('mouseleave', hideControls);\r\n            //     videoControls.addEventListener('mouseenter', showControls);\r\n            //     videoControls.addEventListener('mouseleave', hideControls);\r\n            //     seek.addEventListener('mousemove', updateSeekTooltip);\r\n            //     seek.addEventListener('input', skipAhead);\r\n            //     //   volume.addEventListener('input', updateVolume);\r\n            //     //  volumeButton.addEventListener('click', toggleMute);\r\n            //     //   fullscreenButton.addEventListener('click', toggleFullScreen);\r\n            //     //   videoContainer.addEventListener('fullscreenchange', updateFullscreenButton);\r\n            //     // pipButton.addEventListener('click', togglePip);\r\n        \r\n            //     // document.addEventListener('DOMContentLoaded', () => {\r\n            //     //     if (!('pictureInPictureEnabled' in document)) {\r\n            //     //         pipButton.classList.add('hidden');\r\n            //     //     }\r\n            //     // });\r\n            //     // document.addEventListener('keyup', keyboardShortcuts);\r\n        \r\n    }\r\n\r\n    render() {\r\n        const apolloCache = new InMemoryCache({\r\n            addTypename: false\r\n        })\r\n\r\n        const token = (localStorage.getItem('jwt')) ? JSON.parse(localStorage.getItem('jwt')).BearerTokenResponse.access_token : '';\r\n\r\n        const uploadLink = createUploadLink({\r\n            uri: 'https://spreago.black-squares.com/graphql',\r\n            headers: {\r\n                authorization: token ? `Bearer ${token}` : \"\"\r\n            }\r\n        })\r\n\r\n        const client = new ApolloClient({\r\n            cache: apolloCache,\r\n            link: uploadLink\r\n        })\r\n\r\n        if (client) {\r\n            return (\r\n                <div>\r\n                    <ApolloProvider client={client}>\r\n                        <Mutation mutation={UPLOAD_FILE_STREAM}>\r\n                            {(videoUpload, { data, loading }) => {\r\n                                return (\r\n                                    <form className=\"videoContainer\" encType={'multipart/form-data'}>\r\n                                        <button\r\n                                            hidden\r\n                                            type=\"button\"\r\n                                            id=\"btn-save-video\"\r\n                                            className=\"btn-orange\"\r\n                                            onClick={() => {\r\n                                                const file = this.state.file;\r\n                                                const id = this.state.bioId;\r\n                                                file && videoUpload({\r\n                                                    variables: { file: file, question_id: id }\r\n                                                }).then((res, loading) => {\r\n                                                    if (res.data.videoUpload.Status.code) {\r\n                                                        let uploaded = document.querySelector(\"[data-uploaded=\\\"\" + id + \"\\\"]\");\r\n                                                        uploaded.classList.remove(\"d-none\");\r\n                                                        this.stopWebCamera();\r\n                                                    }\r\n\r\n                                                }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Please try again\" }));\r\n                                            }}>save</button>\r\n                                        {loading &&\r\n                                            <div className=\"loading\">\r\n                                                <p className=\"text-white\">Please wait...</p>\r\n                                                <Loader\r\n                                                    type=\"TailSpin\"\r\n                                                    color=\"white\"\r\n                                                    height={50}\r\n                                                    width={50}\r\n                                                />\r\n                                            </div>\r\n                                        }\r\n                                    </form>)\r\n                            }\r\n                            }\r\n                        </Mutation>\r\n                        <div className=\"video-container\">\r\n                            <video muted autoPlay width=\"100%\" height=\"\" className=\"rounded bg-dark\" controlslist=\"nodownload\" disablepictureinpicture=\"false\" ></video>\r\n                            <div className=\"btns-group btn-group-rec-style d-none\">\r\n                                <div className=\"circle-light-rec d-inline-block\">\r\n                                    <button id=\"record\" className=\"rec text-center border-0 btn-rec-position\" ></button>\r\n                                    <span className=\"start-rec-text\">\r\n                                        <span className=\"start-text text-light\">Start</span>\r\n                                        <span className=\"play-text d-none text-light\">Play</span>\r\n                                        <span className=\"time-limitation text-light\"></span>\r\n                                    </span>\r\n                                    <span className=\"recording-text text-danger d-none\">\r\n                                        <strong>Recording</strong>\r\n                                    </span>\r\n                                </div>\r\n                                <button id=\"play\" className=\"circle-light-play  text-center border-0 d-none\" disabled><PlayArrowIcon className=\"text-dark btn-play-position\" /></button>\r\n                            </div>\r\n                         \r\n                    </div>\r\n                    \r\n                        {/*  new video container */}\r\n                        {/* <div className=\"video-custom-container\">\r\n                            <div class=\"video-container\" id=\"video-container\">\r\n                                {/* <div class=\"playback-animation\" id=\"playback-animation\">\r\n                                    <svg class=\"playback-icons\">\r\n                                        <use class=\"hidden\" href=\"#play-icon\"></use>\r\n                                        <use href=\"#pause\"></use>\r\n                                    </svg>\r\n                                </div> */}\r\n                                {/* <video id=\"video\" muted autoPlay width=\"100%\" height=\"\" className=\"rounded bg-dark\" controlslist=\"nodownload\" disablepictureinpicture=\"false\" preload=\"metadata\"></video>\r\n                                <div className=\"btns-group btn-group-rec-style d-none\">\r\n                                    <div className=\"circle-light-rec d-inline-block\">\r\n                                        <button id=\"record\" className=\"rec text-center border-0 btn-rec-position\" ></button>\r\n                                        <span className=\"start-rec-text\">\r\n                                            <span className=\"start-text text-light\">Start</span>\r\n                                            <span className=\"play-text d-none text-light\">Play</span>\r\n                                            <span className=\"time-limitation text-light\"></span>\r\n                                        </span>\r\n                                        <span className=\"recording-text text-danger d-none\">\r\n                                            <strong>Recording</strong>\r\n                                        </span>\r\n                                    </div>\r\n                                    <button id=\"play\" className=\"circle-light-play  text-center border-0 d-none\" disabled><PlayArrowIcon className=\"text-dark btn-play-position\" /></button>\r\n                                </div>\r\n                                <div class=\"video-controls hidden\" id=\"video-controls\">\r\n                                    <div className=\"row m-0  align-items-center\">\r\n                                        <div className=\"Col-2\">\r\n                                            <button data-title=\"Play (k)\" id=\"play\" disabled  className=\"playBtn\">\r\n                                                <svg class=\"playback-icons\">\r\n                                                    <use href=\"#play-icon\"></use>\r\n                                                    <use class=\"hidden\" href=\"#pause\"></use>\r\n                                                </svg>\r\n                                            </button>\r\n                                        </div>\r\n                                        <div className=\"col-9\">\r\n                                            <div class=\"video-progress\">\r\n                                                <progress id=\"progress-bar\" value=\"0\" min=\"0\"></progress>\r\n                                                <input class=\"seek\" id=\"seek\" value=\"0\" min=\"0\" type=\"range\" step=\"1\" />\r\n                                                <div class=\"seek-tooltip\" id=\"seek-tooltip\">00:00</div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-2\">\r\n                                            <div class=\"time\">\r\n                                                <time id=\"time-elapsed\">00:00</time>\r\n                                                <span> / </span>\r\n                                                <time id=\"duration\">00:00</time>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <svg style={{ display: 'none' }}>\r\n                                <defs>\r\n                                    <symbol id=\"pause\" viewBox=\"0 0 24 24\">\r\n                                        <path d=\"M14.016 5.016h3.984v13.969h-3.984v-13.969zM6 18.984v-13.969h3.984v13.969h-3.984z\"></path>\r\n                                    </symbol>\r\n\r\n                                    <symbol id=\"play-icon\" viewBox=\"0 0 24 24\">\r\n                                        <path d=\"M8.016 5.016l10.969 6.984-10.969 6.984v-13.969z\"></path>\r\n                                    </symbol>\r\n                                </defs>\r\n                            </svg>\r\n                            </div> */}\r\n                        {/*  end of  video container */}\r\n\r\n                        <div style={{ color: \"red\", textAlign: \"center\" }}>\r\n                            <span id=\"errorMsg\"></span>\r\n                        </div>\r\n                        <Row className=\"m-0\">\r\n                            <Col xs={12} className=\"pb-3\">\r\n                                <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.ConnectionErorr}</Typography>\r\n                            </Col>\r\n                        </Row>\r\n                    </ApolloProvider>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n// const CREATE_VIDEO = gql`\r\n// mutation( $id : Int  $file : Uploud ! ){\r\n//     videoUpload(Inputs:{\r\n//       question : {\r\n//         id : $id\r\n//       }\r\n//       videoInputs:{\r\n//         file : $file \r\n//       }\r\n//     }){\r\n//       RequestStatus\r\n//       Status\r\n//       question\r\n//       __typename\r\n//     }\r\n//   }\r\n// `\r\n\r\nconst UPLOAD_FILE_STREAM = gql`\r\nmutation(\r\n    $file        : Upload !\r\n    $question_id : Int    !\r\n) {\r\n    videoUpload (\r\n        Inputs : {\r\n            question:{\r\n                id : $question_id\r\n            }\r\n            videoInputs : {\r\n                file : $file\r\n            }\r\n        }\r\n    ) {\r\n        Status {\r\n            code\r\n            title\r\n            message\r\n            check\r\n        }\r\n        question{\r\n            title\r\n            bio{\r\n                title\r\n            }\r\n            video{\r\n                url\r\n                frame{\r\n                    url\r\n                  }\r\n                type{\r\n                    name\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n`;\r\n// export default compose(\r\n//     graphql(UPLOAD_FILE_STREAM, {\r\n//         name: \"create_video\"\r\n//     })\r\n// )(withRouter(Video));","import React, { Component } from 'react';\r\n\r\n//styles and icons\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport { Fab } from '@material-ui/core';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\n// this component represents the save and cancel buttons of the video recorder addons.\r\n\r\nexport default class SaveChanges extends Component {\r\n    handleSave = () =>{\r\n        this.props.callbackFromParent(\"save\");\r\n    }\r\n    handleClear = () =>{\r\n        this.props.callbackFromParent(\"clear\");\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div\r\n                    className=\"p-absolute w-100 text-center saveChanges d-none\"\r\n                    style={{ top: '1rem' }}\r\n                >\r\n                    <Row className=\"row m-0 justify-content-center align-items-center\">\r\n                        <Col xl={2} md={2} xs={3} className=\"text-right pr-1\">\r\n                            <Fab \r\n                                onClick={this.handleClear}\r\n                                style={{ height: '2.5rem', width: '2.5rem', fontSize: '1rem', cursor:\"pointer\" }}\r\n                                className=\"rounded-circle btn-save-addone text-right bg-dark-transperant p-2 border-0 text-white\"\r\n                                >\r\n                                     <ClearIcon />\r\n                            </Fab>\r\n                        </Col>\r\n                        <Col xl={2} md={2} xs={3} className=\"text-left pl-1\">\r\n                            <Fab \r\n                                onClick={this.handleSave}\r\n                                style={{ height: '2.5rem', width: '2.5rem', fontSize: '1rem', cursor:\"pointer\" }}\r\n                                className=\"rounded-circle btn-cancel-addone text-left bg-dark-transperant p-2 border-0 text-white pulse\"\r\n                                >\r\n                                    <DoneIcon /> \r\n                            </Fab>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\n//styles and icons\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\r\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\r\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\r\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\r\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\r\nimport SaveChanges from '../addons/addons-save.component';\r\nimport './addons.style.css';\r\n\r\n\r\n// this component represents the text-editor addon of the video recorder\r\n\r\nexport default class TextEditor extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = [];\r\n    }\r\n    callback = (data) => {\r\n        if (data === 'save') \r\n        {\r\n            this.saveData();\r\n            this.handleOnclick();\r\n            this.hideAddonsBtns()\r\n\r\n        } else if (data === 'clear') {\r\n            this.handleOnclick();\r\n            this.hideAddonsBtns()\r\n            this.viewText = null;\r\n            this.props.callbackFromParent(0 ,\"remove flag\");\r\n        }\r\n    }\r\n    handleOnclick = () => {\r\n        // hide img editor\r\n        this.closeImgEditor();\r\n        // delete show value\r\n        this.viewText  = null;\r\n        document.querySelector('.text-editor-container').classList.toggle('d-none');\r\n        document.querySelector('.text-input-container').classList.toggle('d-none');\r\n\r\n        this.resetData();        \r\n    }\r\n    handleChangeInput = (e) => {\r\n        document.querySelector('.addon-text .saveChanges').classList.remove('d-none');\r\n        if(e.target.value.length < 1){\r\n            document.querySelector('.addon-text .saveChanges').classList.add('d-none');\r\n        }\r\n    }\r\n    handleAlignLeft = () => {\r\n        \r\n        document.querySelector('#text-input').classList.toggle('text-left');\r\n        document.querySelector('.text-editor-left').classList.toggle('text-orange');\r\n\r\n        document.querySelector('#text-input').classList.remove('text-right');\r\n        document.querySelector('.text-editor-right').classList.remove('text-orange');\r\n        document.querySelector('#text-input').classList.remove('text-center');\r\n        document.querySelector('.text-editor-center').classList.remove('text-orange');\r\n    }\r\n    handleAlignRight = () => {\r\n        document.querySelector('#text-input').classList.toggle('text-right');\r\n        document.querySelector('.text-editor-right').classList.add('text-orange');\r\n\r\n        document.querySelector('#text-input').classList.remove('text-left');\r\n        document.querySelector('.text-editor-left').classList.remove('text-orange');\r\n        document.querySelector('#text-input').classList.remove('text-center');\r\n        document.querySelector('.text-editor-center').classList.remove('text-orange');\r\n    }\r\n    handleAlignCenter = () => {\r\n        document.querySelector('#text-input').classList.toggle('text-center');\r\n        document.querySelector('.text-editor-center').classList.add('text-orange');\r\n\r\n        document.querySelector('#text-input').classList.remove('text-right');\r\n        document.querySelector('.text-editor-right').classList.remove('text-orange');\r\n        document.querySelector('#text-input').classList.remove('text-left');\r\n        document.querySelector('.text-editor-left').classList.remove('text-orange');\r\n    }\r\n    handleItalic = () => {\r\n        document.querySelector('#text-input').classList.toggle('font-italic');\r\n        document.querySelector('.text-editor-italic').classList.toggle('text-orange');\r\n    }\r\n    handleBold = () => {\r\n        document.querySelector('#text-input').classList.toggle('font-weight-bold');\r\n        document.querySelector('.text-editor-bold').classList.toggle('text-orange');\r\n    }\r\n    resetData = () => {\r\n        // hide save changes buttons\r\n        document.querySelector('.addon-text .saveChanges').classList.add('d-none');\r\n        // reset all data\r\n        let btns = document.querySelectorAll('.text-editor-btn');\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].classList.remove('text-orange');\r\n        }\r\n        document.querySelector(\"#text-input\").value = \"\"\r\n        document.querySelector(\"#text-input\").classList = \"\"\r\n    }\r\n    saveData = () => {\r\n        // hide save changes buttons\r\n        document.querySelector('.addon-text .saveChanges').classList.add('d-none');\r\n\r\n        let textValue = document.querySelector(\"#text-input\").value;\r\n        let startTime = this.startTime \r\n        let finishTime = startTime + 5;\r\n        let classes = document.querySelector(\"#text-input\").classList;\r\n        let textAlign = 'left', TextStyle = 'normal', TextWeight = 'normal';\r\n        let element = document.getElementById(\"text-input\");\r\n        let elementRelative = document.querySelector('.video-addons-container');\r\n        let position_x = 0, position_y = 0;\r\n\r\n        // get x and y position of text\r\n        while (element && element !== elementRelative && !isNaN(element.offsetLeft) && !isNaN(element.offsetTop)) {\r\n            position_x += element.offsetLeft - element.scrollLeft + element.clientLeft;\r\n            position_y += element.offsetTop - element.scrollTop + element.clientTop;\r\n            element = element.offsetParent;\r\n        }\r\n        // get styles\r\n        for (let i = 0; i < classes.length; i++) {\r\n            console.log(classes)\r\n            if (classes[i] === 'text-left') textAlign = 'left';\r\n            else if (classes[i] === 'text-right') textAlign = 'right';\r\n            else if (classes[i] === 'text-center') textAlign = 'center';\r\n            else textAlign = 'left';\r\n\r\n            if (classes[i] === 'font-italic') TextStyle = 'italic'\r\n            else TextStyle = 'normal'\r\n            if (classes[i] === 'font-weight-bold') TextWeight = 'bold' \r\n            else TextWeight = 'normal'\r\n        }\r\n        // set all styles in textAddonsInput variable\r\n        let textAddonInput = {\r\n            start_time: startTime, finish_time: finishTime,\r\n            text: textValue, position_x: position_x, position_y: position_y,\r\n            text_align: textAlign, text_weight: TextWeight,\r\n            text_style: TextStyle, text_size: 17,\r\n            padding_top: 5, padding_bottom: 5,\r\n            padding_left: 6, padding_right: 6,\r\n            width: 342, height: 116\r\n        }\r\n        console.log(textAddonInput)\r\n        // send data to parent using callback function\r\n        if(textAddonInput){\r\n            if(!this.viewText){\r\n                this.props.callbackFromParent(textAddonInput , \"add\");\r\n            }else{\r\n                this.props.callbackFromParent(textAddonInput , \"edit\");\r\n            }\r\n        }\r\n\r\n        // reset data \r\n        this.resetData();\r\n    }\r\n    closeImgEditor = () => {\r\n        document.querySelectorAll('.img-output-container').forEach(e => e.remove());\r\n        document.querySelector('.addon-images .saveChanges').classList.add('d-none');\r\n    }\r\n    showData = (textInfo) =>{\r\n        // clse img editor if open\r\n        this.closeImgEditor();\r\n        // open text editor\r\n        document.querySelector('.text-editor-container').classList.remove('d-none');\r\n        document.querySelector('.text-input-container').classList.remove('d-none');\r\n        // show save changes btns\r\n        document.querySelector('.addon-text .saveChanges').classList.remove('d-none');\r\n\r\n        // set the value in text area .\r\n        document.querySelector(\"#text-input\").value = textInfo.text;\r\n\r\n        switch (textInfo.text_align) {\r\n            case \"center\":\r\n                this.handleAlignCenter()\r\n                break;\r\n            case \"left\":\r\n                this.handleAlignLeft()\r\n                break;\r\n            case \"right\":\r\n                this.handleAlignRight()\r\n                break;\r\n            default:\r\n                this.handleAlignLeft()\r\n                break;\r\n        }\r\n        // set styles\r\n        if(textInfo.text_style === \"italic\"){\r\n            this.handleItalic();\r\n        }\r\n        if(textInfo.text_weight === \"bold\"){\r\n            this.handleBold();\r\n        }\r\n    }\r\n    hideAddonsBtns = ()=>{\r\n        document.querySelector('.addonTextAndImage').classList.add('d-none');\r\n\r\n        let flagBtn = document.querySelector('#FlagBtn');\r\n        flagBtn.classList.remove(\"bg-orange\");\r\n    }\r\n    viewText = null;\r\n    startTime = 0;\r\n    componentWillReceiveProps(props){\r\n        if(props !== this.props){\r\n            if(props.viewText){\r\n                this.showData(props.viewText);\r\n                this.viewText = props.viewText\r\n                if(props.startTime){\r\n                    this.startTime = props.startTime\r\n                }\r\n            }\r\n            else if (props.startTime){\r\n                this.startTime = props.startTime\r\n            }\r\n            else{\r\n                // hide text editor\r\n                document.querySelector('.text-editor-container').classList.add('d-none');\r\n                document.querySelector('.text-input-container').classList.add('d-none');\r\n                this.resetData();\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"addon-text\">\r\n                <div\r\n                    className=\"p-absolute w-100 text-left\"\r\n                    style={{ top: '4rem', right: '1rem' }}\r\n                    >\r\n                    <Row className=\"row m-0 justify-content-end align-items-center\">\r\n                        <Col xl={4} lg={5} md={6} xs={8} className=\"p-0 d-none text-editor-container text-center\">\r\n                            <div className=\"bg-dark-transperant\">\r\n                                <button\r\n                                    className=\"text-editor-btn text-editor-left border-0 bg-transparent text-white p-2 text-center\"\r\n                                    onClick={this.handleAlignLeft}\r\n                                >\r\n                                    <FormatAlignLeftIcon className=\"icon-responsive\" />\r\n                                </button>\r\n                                <button\r\n                                    className=\"text-editor-btn text-editor-center border-0 bg-transparent text-white p-2 text-center\"\r\n                                    onClick={this.handleAlignCenter}\r\n                                >\r\n                                    <FormatAlignCenterIcon className=\"icon-responsive\" />\r\n                                </button>\r\n                                <button\r\n                                    className=\"text-editor-btn text-editor-right border-0 bg-transparent text-white p-2 text-center\"\r\n                                    onClick={this.handleAlignRight}\r\n                                >\r\n                                    <FormatAlignRightIcon className=\"icon-responsive\" />\r\n                                </button>\r\n                                <button\r\n                                    className=\"text-editor-btn text-editor-italic border-0 bg-transparent text-white p-2 text-center\"\r\n                                    onClick={this.handleItalic}\r\n                                >\r\n                                    <FormatItalicIcon className=\"icon-responsive\" />\r\n                                </button>\r\n                                <button\r\n                                    className=\"text-editor-btn text-editor-bold border-0 bg-transparent text-white p-2 text-center\"\r\n                                    onClick={this.handleBold}\r\n                                >\r\n                                    <FormatBoldIcon className=\"icon-responsive\" />\r\n                                </button>\r\n                            </div>\r\n                        </Col>\r\n                        <Col xl={1} md={2} xs={3} className=\"text-center\">\r\n                            <button\r\n                                id='TextEditorBtn'\r\n                                style={{ height: '3rem', width: '3rem', fontSize: '1.2rem' }}\r\n                                className=\"rounded-circle bg-dark-transperant p-2 border-0 text-white icon-responsive\"\r\n                                onClick={this.handleOnclick}\r\n                            > Aa\r\n                            </button>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                <div\r\n                    className=\"p-absolute w-100 d-none text-input-container\"\r\n                    style={{ bottom: '3rem' }}>\r\n                    <Row className=\"row m-0 justify-content-center align-items-center\">\r\n                        <Col md={7} xs={8}>\r\n                            <div\r\n                                className=\" w-100 h-100 text-white p-relative\"\r\n                                style={{ height: '5rem' }}\r\n                            >\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"close text-white p-absolute\"\r\n                                    aria-label=\"Close\"\r\n                                    style={{ top: '-9px', left: '-5px', zIndex: '1' }}\r\n                                    onClick={this.handleOnclick}\r\n                                >\r\n                                    <span aria-hidden=\"true\">&times;</span>\r\n                                </button>\r\n                                <textarea\r\n                                    id=\"text-input\"\r\n                                    rows=\"3\"\r\n                                    className=\"addon-textarea\"\r\n                                    placeholder=\"write your comment ...\"\r\n                                    maxLength=\"160\"\r\n                                    onChange={this.handleChangeInput}\r\n                                />\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                <SaveChanges callbackFromParent={this.callback} />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Draggable from 'react-draggable';\r\nimport SaveChanges from '../addons/addons-save.component';\r\n\r\n//styles and icons\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\r\n\r\n// this component represents the img-editor addon of the video recorder \r\n\r\nexport default class AddonImage extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            imgFiles: [] ,\r\n            fileObj : [] ,\r\n            viewImgDetails : []\r\n        };\r\n    }\r\n    callback = (data) => {\r\n        if (data === 'save') \r\n        {\r\n            this.saveData();\r\n            this.resetdata();\r\n            this.hideAddonsBtns();\r\n\r\n        } else if (data === 'clear') {\r\n            this.resetdata();\r\n            this.hideAddonsBtns();\r\n            this.viewImgs = null;\r\n            this.props.callbackFromParent(0 ,\"remove flag\");\r\n        }\r\n    }\r\n    handleStop = (e) => {\r\n    }\r\n    saveData = () => {\r\n        let elements = document.querySelectorAll('.video-addons-container .p-relative');\r\n        let arrayOfImgs = []\r\n        for (let i = 0; i < elements.length; i++) {\r\n\r\n            let element = elements[i].style.transform;\r\n            let position_x = 0, position_y = 0, width = 0, height = 0,\r\n                startTime = this.startTime, finishTime = startTime + 5 , file = {};\r\n\r\n            position_x = parseInt(element.split('(').pop().split('px')[0]);\r\n            position_y = parseInt(element.split(',').pop().split('px')[0]);\r\n\r\n            let ele = elements[i].querySelector('img')\r\n            if (ele) {\r\n                width = parseInt(ele.getBoundingClientRect().width);\r\n                height = parseInt(ele.getBoundingClientRect().height);\r\n\r\n                let fileObject = this.state.fileObj.filter(file => file.fileBlob === ele.src );\r\n                console.log(fileObject);\r\n                file = fileObject[0].fileUrl\r\n            }\r\n            let imgeAddone = {\r\n                start_time: startTime, finish_time: finishTime,\r\n                position_x: position_x, position_y: position_y,\r\n                width: width, height: height,\r\n                file: file\r\n            };\r\n            // send data to parent using callback function\r\n            if (!isNaN(imgeAddone.position_x)) {\r\n                arrayOfImgs.push(imgeAddone);\r\n            }\r\n        }\r\n        if(!this.viewImgs){\r\n            this.props.callbackFromParent(arrayOfImgs , \"add\");\r\n        }else{\r\n            this.props.callbackFromParent(arrayOfImgs , \"edit\");\r\n            this.viewImgs = null;\r\n        }\r\n        this.setState({...this.state , fileObj : ''})\r\n       \r\n    }\r\n    handleClose = (e) => {\r\n        e.target.parentNode.parentNode.remove()\r\n    }\r\n    resetdata = () => {\r\n        document.querySelector('.addon-images .saveChanges').classList.add('d-none');\r\n        this.setState({...this.state , fileObj : '' })\r\n    }\r\n    closeTextEditor = () => {\r\n        // hide text input and text editor\r\n        document.querySelector('.text-editor-container').classList.add('d-none');\r\n        document.querySelector('.text-input-container').classList.add('d-none');\r\n\r\n        // hide save changes buttons\r\n        document.querySelector('.addon-text .saveChanges').classList.add('d-none');\r\n        // reset all data\r\n        let btns = document.querySelectorAll('.text-editor-btn');\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].classList.remove('text-orange');\r\n        }\r\n        document.querySelector(\"#text-input\").value = \"\"\r\n        document.querySelector(\"#text-input\").classList = \"\"\r\n    }\r\n    showData = (imgsInfo) =>{\r\n        // show save changes btn\r\n        document.querySelector('.addon-images .saveChanges').classList.remove('d-none');\r\n\r\n        let fileObj , fileObjArr = [];\r\n        if(imgsInfo.isArray){\r\n            imgsInfo.forEach(item=>{\r\n                fileObj = { fileUrl : item.file , fileBlob : URL.createObjectURL(item.file) , fileDetails : item}\r\n                fileObjArr.push(fileObj)\r\n            })\r\n        }else{\r\n            fileObj = { fileUrl : imgsInfo.link , fileBlob : imgsInfo.link , fileDetails : imgsInfo}\r\n        }\r\n        this.setState({ ...this.state , fileObj : fileObjArr})\r\n    }\r\n    hideAddonsBtns = ()=>{\r\n        document.querySelector('.addonTextAndImage').classList.add('d-none');\r\n\r\n        let flagBtn = document.querySelector('#FlagBtn');\r\n        flagBtn.classList.remove(\"bg-orange\");\r\n    }\r\n    viewImgs = null;\r\n    startTime = 0;\r\n    componentWillReceiveProps(props){\r\n        if(props !== this.props){\r\n            if (props.viewImg) {\r\n                this.showData(props.viewImg);\r\n                this.viewImgs = props.viewImg\r\n                this.closeTextEditor();\r\n                if (props.startTime) {\r\n                    this.startTime = props.startTime\r\n                }\r\n            } \r\n            else if (props.startTime) {\r\n\r\n                this.startTime = props.startTime\r\n            }\r\n            else {\r\n                this.resetdata();\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"addon-images\">\r\n                <div\r\n                    className=\"p-absolute w-100 text-left\"\r\n                    style={{ top: '7.5rem', right: '1rem' }}\r\n                >\r\n                    <Row className=\"row m-0 justify-content-end align-items-center\">\r\n                        <Col xl={1} md={2} xs={3} className=\"text-center\">\r\n                            <label\r\n                                for=\"file-input\"\r\n                                id='TextEditorBtn'\r\n                                onClick={this.closeTextEditor}\r\n                                style={{ height: '3rem', width: '3rem', fontSize: '1.2rem', cursor: \"pointer\" }}\r\n                                className=\"rounded-circle text-center bg-dark-transperant p-2 border-0 text-white\"\r\n                            >\r\n                                <ImageOutlinedIcon />\r\n                            </label>\r\n                            <input\r\n                                id=\"file-input\"\r\n                                type=\"file\"\r\n                                className=\"d-none\"\r\n                                accept='image/*'\r\n                                onChange={e => {\r\n                                    // make sure that the user attache file\r\n                                    if (e.target.files[0]) {\r\n                                        let fileObj = { fileUrl : e.target.files[0] , fileBlob : URL.createObjectURL(e.target.files[0])}\r\n                                        document.querySelector('.addon-images .saveChanges').classList.remove('d-none');\r\n                                        this.setState({ ...this.state , fileObj : [...this.state.fileObj , fileObj]})\r\n                                    }\r\n                                }\r\n                                }\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n                <div>\r\n                    {(this.state.fileObj) ?\r\n                            this.state.fileObj.map(file =>\r\n                                <div\r\n                                    className=\"p-absolute img-output-container\"\r\n                                    style={{ top: '0', left: '0', cursor: 'move' }}>\r\n                                    <Draggable\r\n                                        bounds=\".video-addons-container\"\r\n                                        onStop={this.handleStop}>\r\n                                        <div className=\"p-relative\" \r\n                                            style={{left :(file.fileDetails)? file.fileDetails.position_x +'px' :'',\r\n                                                    top :(file.fileDetails)? file.fileDetails.position_y +'px' : ''}}>\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"close text-white p-absolute\"\r\n                                                aria-label=\"Close\"\r\n                                                style={{ top: '-8px', left: '-13px', zIndex: '1' }}\r\n                                                onClick={this.handleClose}\r\n                                            >\r\n                                                <span aria-hidden=\"true\">&times;</span>\r\n                                            </button>\r\n                                            <img\r\n                                                style={{ maxWidth: '150px' }}\r\n                                                src={file.fileBlob}\r\n                                                alt=\"uploaded\"\r\n                                            />\r\n                                        </div>\r\n                                    </Draggable>\r\n                                </div>\r\n                            ) : ''}\r\n                </div>\r\n                <SaveChanges callbackFromParent={this.callback} />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Mutation } from 'react-apollo';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { createUploadLink } from 'apollo-upload-client';\r\nimport { ApolloClient } from \"apollo-client\";\r\nimport { ApolloProvider } from \"react-apollo\";\r\nimport { gql } from 'apollo-boost';\r\n\r\n//styles and icons\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport img from '../../images/image-place.png';\r\nimport Loader from 'react-loader-spinner';\r\nimport TitleIcon from '@material-ui/icons/Title';\r\nimport DeleteSweepIcon from '@material-ui/icons/DeleteSweep';\r\nimport CropOriginalIcon from '@material-ui/icons/CropOriginal';\r\nimport PhotoLibraryOutlinedIcon from '@material-ui/icons/PhotoLibraryOutlined';\r\nimport SaveAltOutlinedIcon from '@material-ui/icons/SaveAltOutlined';\r\n\r\n\r\n// this component represents the sidebar of video addons component\r\n\r\nexport default class AddonSidebar extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            textAddonsInputs: [],\r\n            imgAddonsInputs: [],\r\n            allAddons: []\r\n        }\r\n    }\r\n    // **** function to order any array of object ***\r\n    compareValues = (key, order = 'asc') => {\r\n        return function innerSort(a, b) {\r\n            if (!a.hasOwnProperty(key) || !b.hasOwnProperty(key)) {\r\n                // property doesn't exist on either object\r\n                return 0;\r\n            }\r\n\r\n            const varA = (typeof a[key] === 'string')\r\n                ? a[key].toUpperCase() : a[key];\r\n            const varB = (typeof b[key] === 'string')\r\n                ? b[key].toUpperCase() : b[key];\r\n\r\n            let comparison = 0;\r\n            if (varA > varB) {\r\n                comparison = 1;\r\n            } else if (varA < varB) {\r\n                comparison = -1;\r\n            }\r\n            return (\r\n                (order === 'desc') ? (comparison * -1) : comparison\r\n            );\r\n        };\r\n    }\r\n    // *** how to use  compareValues function ***\r\n    // array is sorted by name, in ascending order by default\r\n    //singers.sort(compareValues('name'));\r\n\r\n    // array is sorted by id in descending order\r\n    //singers.sort(compareValues('id', 'desc'));\r\n\r\n    // ****************************************************\r\n    componentWillReceiveProps(props) {\r\n        if (props !== this.props) {\r\n            let tempAllAdons = [], tempImgAddon = [], tempTextAddon = [] , question;\r\n            if(props.question.video){\r\n                // if(props.question.video.textAddons){\r\n                //     props.question.video.textAddons.forEach(element => {\r\n                //         delete element.id; \r\n                //         delete element.video_id; \r\n                //         delete element.created_at; \r\n                //         delete element.updated_at; \r\n    \r\n                //         tempTextAddon.push(element);\r\n                //         tempAllAdons.push(element);\r\n                //     })\r\n\r\n                //     props.question.video.imageAddons.forEach(element => {\r\n                //         console.log(element)\r\n                //         delete element.id; \r\n                //         delete element.video_id; \r\n                //         delete element.created_at; \r\n                //         delete element.updated_at; \r\n\r\n                //         tempImgAddon.push(element)\r\n                //         tempAllAdons.push(element)\r\n                //     })\r\n                // }\r\n            }\r\n            props.textAddons.forEach(element => {\r\n                tempTextAddon.push(element);\r\n                tempAllAdons.push(element);\r\n            }\r\n            );\r\n            props.imgAddons.forEach(element => {\r\n                tempImgAddon.push(element)\r\n                tempAllAdons.push(element)\r\n            }\r\n            );\r\n            question = props.question;\r\n            console.log(tempAllAdons)\r\n            // sort the array of addons\r\n            //tempAllAdons.sort(this.compareValues('start_time'));\r\n            this.setState({ ...this.state, allAddons: tempAllAdons, textAddonsInputs: tempTextAddon, imgAddonsInputs: tempImgAddon , question :  props.question})\r\n            // disable save all btn when no data \r\n            this.checkData(tempAllAdons);\r\n\r\n        }\r\n    }\r\n    handelDelete = (object) => {\r\n        // send  object to delete from parent \r\n        this.props.callbackFromParent(object, \"delete\");\r\n    }\r\n    handleView = (object) => {\r\n            // send  object to edit from parent\r\n            this.props.callbackFromParent(object, \"view\");\r\n\r\n    }\r\n    resetSidebar = () => {\r\n        // reset all data \r\n        this.props.callbackFromParent(this.state.allAddons, \"reset all\");\r\n    }   \r\n    checkData = (tempAllAdons) => {\r\n        if(tempAllAdons.length > 0){\r\n            document.querySelector('#saveAllAddons').disabled = false;\r\n        }\r\n        else{\r\n            document.querySelector('#saveAllAddons').disabled = true;\r\n        }   \r\n    }\r\n    handleOnClick = () =>{\r\n        let recordCards = document.querySelectorAll('.record-card');\r\n        let btnNextRecord = document.querySelector('.record-next-btn');\r\n        let btnBackRecord = document.querySelector('.record-back-btn');\r\n\r\n        // save changes when user clicks on another video \r\n        recordCards.forEach(recordCard => {\r\n            recordCard.addEventListener(\"click\", () => {\r\n                if (this.state.allAddons) {\r\n                    document.querySelector(\"#saveAllAddons\").click();\r\n                }\r\n            })\r\n        })\r\n        // save changes when user clicks next \r\n        btnNextRecord.addEventListener(\"click\", () => {\r\n            if (this.state.allAddons) {\r\n                document.querySelector(\"#saveAllAddons\").click();\r\n            }\r\n        })\r\n        // save changes when user clicks back\r\n        btnBackRecord.addEventListener(\"click\", () => {\r\n            if (this.state.allAddons) {\r\n                document.querySelector(\"#saveAllAddons\").click();\r\n            }\r\n        })\r\n    }\r\n    componentDidMount(){\r\n       this.handleOnClick();\r\n    }\r\n    sortUnorderedList =(ul, sortDescending)=>{\r\n        if(typeof ul == \"string\")\r\n          ul = document.querySelector(ul);\r\n      \r\n        // Idiot-proof, remove if you want\r\n        if(!ul) {\r\n          return;\r\n        }\r\n      \r\n        // Get the list items and setup an array for sorting\r\n        var lis = ul.getElementsByTagName(\"LI\");\r\n        var vals = [];\r\n      \r\n        // Populate the array\r\n        for(var i = 0, l = lis.length; i < l; i++)\r\n          vals.push(lis[i].innerHTML);\r\n      \r\n        // Sort it\r\n        vals.sort();\r\n      \r\n        // Sometimes you gotta DESC\r\n        if(sortDescending)\r\n          vals.reverse();\r\n      \r\n        // Change the list on the page\r\n        for(var i = 0, l = lis.length; i < l; i++)\r\n          lis[i].innerHTML = vals[i];\r\n      }\r\n    render() {\r\n        this.sortUnorderedList('.sidebar-ul');\r\n        // activate uploading link on the oppollo \r\n        const apolloCache = new InMemoryCache({\r\n            addTypename: false\r\n        })\r\n        const token = (localStorage.getItem('jwt')) ? JSON.parse(localStorage.getItem('jwt')).BearerTokenResponse.access_token : '';\r\n\r\n        const uploadLink = createUploadLink({\r\n            uri: 'https://spreago.black-squares.com/graphql',\r\n            headers: {\r\n                authorization: token ? `Bearer ${token}` : \"\"\r\n            }\r\n        })\r\n        const client = new ApolloClient({\r\n            cache: apolloCache,\r\n            link: uploadLink\r\n        })\r\n        return (\r\n            <ApolloProvider client={client}>\r\n                <Row className=\"m-0\">\r\n                    <Col md={12} xs={6} className=\"bg-darkblue p-1 order-1\">\r\n                        {(this.state.question)? \r\n                            <Row className=\"m-0 justify-content-center align-items-center p-1\">\r\n                                <Col xs={2} className=\"p-0 text-center\">\r\n                                        <img src={(this.state.question.video)?this.state.question.video.frame.url : img} className=\"\" alt=\"\" width=\"17px\" />\r\n                                </Col>\r\n                                <Col xs={10} className=\"p-0 text-white pl-1\">\r\n                                    <p className=\"mb-0 captialize\">{this.state.question.title.substring(0, 10)}..</p>\r\n                                </Col>\r\n                            </Row>\r\n                        :''}\r\n                    </Col>\r\n                    <Col className=\"p-0 order-3\"\r\n                        xs={12}\r\n                        style={{ maxHeight: '100vh', overflow: 'auto', minHeight: '2rem' }}>\r\n                        <ul className=\"list-style-none pl-0 addons-list pb-0 sidebar-ul\">\r\n                            {this.state.allAddons.map(item =>\r\n                                <li  data-time={(item.start_time >= 0)? item.start_time : item[0].start_time} className=\"p-1 row m-0 border-bottom sidebar-li\">\r\n                                    <Col xs={8} className=\"p-0 text-center\">\r\n                                        <button\r\n                                            onClick={(e)=>this.handleView(item)}\r\n                                            className=\"border-0 bg-transparent p-0 w-100 p-relative\"\r\n                                        >\r\n                                            <div className=\"mb-0\">\r\n                                                {(item.text) ?\r\n                                                    <div className=\"row m-0 justify-content-center align-items-center\">\r\n                                                        <Col className=\"p-0 text-left\">\r\n                                                            <p className=\"mb-0\">{(item.start_time<10)? '0'+item.start_time+':00' : item.start_time+':00'}</p>\r\n                                                        </Col>\r\n                                                        <Col className=\"p-0 text-center\">\r\n                                                           <TitleIcon  style={{  width: '25px'}}/>\r\n                                                        </Col>\r\n                                                    </div>\r\n                                                    :\r\n                                                    <div className=\"row m-0 justify-content-center align-items-center\">\r\n                                                        <Col className=\"p-0 text-left\">\r\n                                                            {/* {(item.isArray)?\r\n                                                                    <p className=\"mb-0\">{(item[0].start_time<10)? '0'+item[0].start_time+':00' : item[0].start_time+':00'}</p>\r\n                                                                 :  <p className=\"mb-0\">{(item.start_time<10)? '0'+item.start_time+':00' : item.start_time+':00'}</p>\r\n                                                            } */}\r\n                                                              <p className=\"mb-0\">{(item[0].start_time<10)? '0'+item[0].start_time+':00' : item[0].start_time+':00'}</p>\r\n                                                        </Col>\r\n                                                        <Col className=\"p-0 text-center images-list\">\r\n                                                            {(item.length > 1)?\r\n                                                               <PhotoLibraryOutlinedIcon style={{  width: '25px'}}/> : <CropOriginalIcon style={{  width: '25px'}}/> }\r\n                                                        </Col>\r\n                                                    </div>\r\n                                                }\r\n                                            </div>\r\n                                        </button>\r\n                                    </Col>\r\n                                    <Col xs={4} className=\"p-0 text-right\">\r\n                                        <button\r\n                                            onClick={() => this.handelDelete(item)}\r\n                                            className=\"mb-0 border-0 bg-transparent\">\r\n                                            <DeleteSweepIcon style={{ fontSize: '1rem' }} />\r\n                                        </button>\r\n                                    </Col>\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </Col>\r\n                    <Col md={12} xs={6}\r\n                        className=\"bg-darkblue order-2 p-1 text-center pt-2 pb-2 p-absolute sidebar-bottom-responsive\"\r\n                        style={{ bottom: '5px' }}>\r\n                        <Mutation mutation={UPLOAD_ADDONS}>\r\n                            {(addonsUpload, { data, loading }) =>\r\n                                <div>\r\n                                    <button\r\n                                        id=\"saveAllAddons\"\r\n                                        className=\"text-white mb-0 bg-transparent border-0\"\r\n                                        onClick={() => \r\n                                            {\r\n                                            let handleImgAddons = []\r\n                                            \r\n                                            this.state.imgAddonsInputs.forEach(imgAddonArr => {\r\n                                                if (imgAddonArr.isArray) {\r\n                                                    imgAddonArr.forEach(imgAddon => {\r\n                                                        handleImgAddons.push(imgAddon)\r\n                                                    })\r\n                                                } else {\r\n                                                    console.log(imgAddonArr)\r\n                                                    handleImgAddons.push(imgAddonArr)\r\n                                                }\r\n                                            })\r\n                                            console.log(handleImgAddons)\r\n                                            let handleTextAddons = this.state.textAddonsInputs;\r\n                                            let question_id = this.state.question.id\r\n                                            console.log(handleImgAddons)\r\n                                            addonsUpload({\r\n                                                variables: {\r\n                                                    question_id: question_id,\r\n                                                    textAddonsInputs: handleTextAddons,\r\n                                                    imageAddonsInputs: handleImgAddons\r\n                                                }\r\n                                            }).then((res, loading) => {\r\n                                                if(res.data.addonsUpload.Status.code === 200){\r\n                                                    this.resetSidebar()\r\n                                                }\r\n                                            }).catch((err) => console.log(err));\r\n                                        }}\r\n                                    >\r\n                                        Save All <SaveAltOutlinedIcon style={{ fontSize: '1rem' }} />\r\n                                    </button>\r\n                                    {loading &&\r\n                                        <div className=\"loading\">\r\n                                            <p className=\"text-white\">saving your awesome video addons</p>\r\n                                            <Loader\r\n                                                type=\"TailSpin\"\r\n                                                color=\"white\"\r\n                                                height={50}\r\n                                                width={50}\r\n                                            />\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </Mutation>\r\n                    </Col>\r\n                </Row>\r\n            </ApolloProvider>\r\n        )\r\n    }\r\n}\r\n\r\nconst UPLOAD_ADDONS = gql`\r\n    mutation(\r\n        $question_id       :   Int               !\r\n        $textAddonsInputs  : [ textAddonsInputs  ]\r\n        $imageAddonsInputs : [ imageAddonsInputs ]) {\r\n        addonsUpload (\r\n            Inputs : {\r\n                question:{  id : $question_id}\r\n                textAddonsInputs\t:\t$textAddonsInputs\r\n                imageAddonsInputs\t:\t$imageAddonsInputs\r\n            }\r\n        ) {\r\n            Status {\r\n                code\r\n\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\n\r\n","import React, { Component } from 'react'; \r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\n//styles and images\r\nimport flag from '../../images/flag.png';\r\nimport EmojiFlagsIcon from '@material-ui/icons/EmojiFlags';\r\n\r\n// this component represents flag addon of the video recorder \r\n\r\nexport default class Flag extends Component {\r\n    \r\n    handleOnclick = () => {\r\n        // remove any flags first\r\n        this.props.callbackFromParent(0 ,\"remove flag\");\r\n\r\n        let flagBtn = document.querySelector('#FlagBtn').classList;\r\n        let video = document.querySelector('video');\r\n        let  start_time  = parseInt(video.currentTime);\r\n\r\n        if (!flagBtn.contains('bg-orange')) {\r\n            flagBtn.add(\"bg-orange\");\r\n            video.pause();\r\n             this.props.callbackFromParent(start_time, \"flag\");\r\n        } else {\r\n            flagBtn.remove(\"bg-orange\");\r\n            this.props.callbackFromParent(start_time, \"remove flag\");\r\n        }\r\n    }\r\n    viewFlag = (startTime) =>{\r\n        let video = document.querySelector('video');\r\n        video.currentTime = startTime;\r\n        video.pause();\r\n    }\r\n    componentWillReceiveProps(props){\r\n        if(props !== this.props){\r\n            if(props.startTime){\r\n                this.viewFlag(props.startTime)\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"addon-flag\">\r\n                <div\r\n                    className=\"p-absolute w-100 text-left\"\r\n                    style={{ top: '0.5rem', right: '1rem'}}\r\n                >\r\n                    <Row className=\"row m-0 justify-content-end align-items-center\">\r\n                    <Col xl={1} md={2} xs={3} className=\"text-center\">\r\n                            <button\r\n                                id='FlagBtn'\r\n                                style={{ height: '3rem', width: '3rem', fontSize: '1.2rem' ,  zIndex: '1' }}\r\n                                className=\"rounded-circle bg-dark-transperant p-2 p-relative border-0 text-white icon-responsive\"\r\n                                onClick={this.handleOnclick}\r\n                            > \r\n                                <EmojiFlagsIcon />\r\n                            </button>\r\n                        </Col>\r\n                    </Row>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport RecordRTC from '../../RecordRTC';\r\nimport { Mutation } from 'react-apollo';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { createUploadLink } from 'apollo-upload-client';\r\nimport { ApolloClient } from \"apollo-client\";\r\nimport { ApolloProvider } from \"react-apollo\";\r\nimport { gql } from 'apollo-boost';\r\nimport AddonText from '../addons/addon-text.component';\r\nimport AddonImage from '../addons/addon-img.component';\r\nimport AddonSidebar from '../addons/addon-sidebar.component';\r\nimport Flag from '../addons/addon-flag.component'\r\n\r\n// styles and icons\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport AlbumIcon from '@material-ui/icons/Album';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Loader from 'react-loader-spinner';\r\nimport './video-recorder.style.css';\r\nimport flag from '../../images/flag.png';\r\n\r\n// this component represents the video recorder frame of the create and edit visume page\r\n\r\nexport default class VideoRecorder extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            textAddonsInputs : [],\r\n            imageAddonsInputs : []\r\n        }\r\n    }\r\n    textAddonsInputs = []; \r\n    imageAddonsInputs = [];\r\n    // call back function to get data from child to parent\r\n    callback = (dataFromChild, status) => {\r\n        if (status === \"add\") {\r\n            if (dataFromChild.text) {\r\n                this.textAddonsInputs.push(dataFromChild);\r\n                this.setState({ ...this.state, textAddonsInputs: this.textAddonsInputs, viewText: null, viewImg: null, startTime: 0 })\r\n            }\r\n            else {\r\n                this.imageAddonsInputs.push(dataFromChild);\r\n                this.setState({ ...this.state, imageAddonsInputs: this.imageAddonsInputs, viewText: null, viewImg: null, startTime: 0 })\r\n            }\r\n            this.hideAddonsBtns();\r\n        }\r\n        else if (status === \"delete\") {\r\n            this.handelDelete(dataFromChild);\r\n            this.hideAddonsBtns();\r\n        }\r\n        else if (status === \"view\") {\r\n\r\n            // set flag\r\n            let flagBtn = document.querySelector('#FlagBtn').classList;\r\n            let video = document.querySelector('video');\r\n            \r\n            flagBtn.add(\"bg-orange\");\r\n            video.pause();\r\n\r\n            // show addons\r\n            this.showAddonsBtns();\r\n            // set data\r\n            if (dataFromChild.text) {\r\n                this.setState({ ...this.state, viewText: dataFromChild, viewImg: '', startTime: dataFromChild.start_time })\r\n            }\r\n            else {\r\n                this.setState({ ...this.state, viewImg: dataFromChild, viewText: '' })\r\n            }\r\n        }\r\n        else if (status === \"edit\") {\r\n            if (dataFromChild.text) {\r\n                // delete the previouse variable \r\n                this.handelDelete(this.state.viewText);\r\n                // add the new value\r\n                this.textAddonsInputs.push(dataFromChild);\r\n                this.setState({ ...this.state, textAddonsInputs: this.textAddonsInputs, viewText: null })\r\n            }\r\n            else {\r\n                // delete the previouse variable \r\n                this.handelDelete(this.state.viewImg);\r\n\r\n                this.imageAddonsInputs.push(dataFromChild);\r\n                this.setState({ ...this.state, imageAddonsInputs: this.imageAddonsInputs, viewImg: null })\r\n            }\r\n            this.hideAddonsBtns();\r\n        }\r\n        else if (status === \"flag\") {\r\n            this.setState({ ...this.state, start_time: dataFromChild });\r\n            this.showAddonsBtns();\r\n        } \r\n        else if (status === \"remove flag\") {\r\n            this.setState({ ...this.state, viewText: null, viewImg: null })\r\n            this.hideAddonsBtns();\r\n        }\r\n        else if (status === \"reset all\"){\r\n            this.setState({ ...this.state, imageAddonsInputs : [] ,textAddonsInputs: [], viewText: null, viewImg: null, startTime: 0 })\r\n            this.textAddonsInputs = []; \r\n            this.imageAddonsInputs = [];\r\n        }\r\n    }\r\n    showAddonsBtns = () =>{\r\n        document.querySelector('.addonTextAndImage').classList.remove('d-none');\r\n    }\r\n    hideAddonsBtns = ()=>{\r\n        document.querySelector('.addonTextAndImage').classList.add('d-none');\r\n    }\r\n    handelDelete = (item) => {\r\n        let imgAddonsTemp = this.state.imageAddonsInputs;\r\n        let textAddonsTemp = this.state.textAddonsInputs;\r\n\r\n        if (item.text) {\r\n            textAddonsTemp.splice(textAddonsTemp.indexOf(item), 1);\r\n        } else {\r\n            imgAddonsTemp.splice(imgAddonsTemp.indexOf(item), 1);\r\n        }\r\n\r\n        this.setState({ ...this.state, textAddonsInputs: textAddonsTemp, imageAddonsInputs: imgAddonsTemp, viewImg: '', viewText: ''});\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        if (props !== this.props) {\r\n            this.setState({ ...this.state, bioId: props.data.id, data: props.data });\r\n\r\n            // set video src if found \r\n            if (props.data) {\r\n                let video = document.querySelector('video');\r\n                if (props.data.video) {\r\n                    video.setAttribute(\"src\", props.data.video.url);\r\n                    this.showFlag();\r\n                } else {\r\n                    this.hideFlag();\r\n                    video.removeAttribute(\"src\");\r\n                    video.load();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let video = document.querySelector('video');\r\n        let that = this;\r\n        let timeLimit;\r\n        // open camera\r\n        function captureCamera(callback) {\r\n            navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(function (camera) {\r\n                callback(camera);\r\n            }).catch(function (error) {\r\n                alert('Unable to capture your camera. Please check console logs.');\r\n                console.error(error);\r\n            });\r\n        }\r\n        // stop recording function\r\n        function stopRecordingCallback() {\r\n\r\n            // to fix video seeking issues\r\n            RecordRTC.getSeekableBlob(recorder.getBlob(), function (seekableBlob) {\r\n                video.src = URL.createObjectURL(seekableBlob);\r\n            });\r\n\r\n            video.src = video.srcObject = null;\r\n            video.controls = true;\r\n            video.muted = false;\r\n            video.volume = 1;\r\n            video.src = URL.createObjectURL(recorder.getBlob());\r\n\r\n            // convert blob to file\r\n            let file = new File([recorder.getBlob()], \"videoname\", {\r\n                type: \"video/webm\",\r\n            });\r\n            that.setState({ ...this.state, file: file })\r\n            if (that.state.file) {\r\n                document.getElementById(\"btn-save-video\").click();\r\n            }\r\n            recorder.camera.stop();\r\n            recorder.destroy();\r\n            recorder = null;\r\n            window.clearTimeout(timeLimit);\r\n        }\r\n        var recorder; // globally accessible\r\n        // start recording button on click\r\n        document.getElementById('btn-start-recording').onclick = function () {\r\n\r\n            // hide flag btn while recording\r\n            that.hideFlag();\r\n\r\n            this.disabled = true;\r\n            video.autoplay = true;\r\n            video.controls = false;\r\n            captureCamera(function (camera) {\r\n                video.muted = true;\r\n                video.volume = 0;\r\n                video.srcObject = camera;\r\n\r\n                recorder = RecordRTC(camera, {\r\n                    type: 'video',\r\n                    canvas: {\r\n                        width: 320,\r\n                        height: 220\r\n                    }\r\n\r\n                });\r\n\r\n                recorder.startRecording();\r\n\r\n                // release camera on stopRecording\r\n                recorder.camera = camera;\r\n\r\n                document.getElementById('btn-stop-recording').disabled = false;\r\n                document.getElementById('btn-stop-recording').classList.remove(\"d-none\");\r\n                document.getElementById('btn-start-recording').classList.add(\"d-none\");\r\n            });\r\n\r\n            // stop recording after 1 minute\r\n            timeLimit =  setTimeout(function () {    \r\n                    document.getElementById('btn-stop-recording').disabled = true;\r\n                    document.getElementById('btn-stop-recording').classList.add(\"d-none\");\r\n                    video.autoplay = false;\r\n                    document.getElementById('btn-start-recording').disabled = false;\r\n                    document.getElementById('btn-start-recording').classList.remove(\"d-none\");\r\n                    recorder.stopRecording(stopRecordingCallback);\r\n            },62000)\r\n        };\r\n        // stop recording btn on click\r\n        document.getElementById('btn-stop-recording').onclick = function () {\r\n            this.disabled = true;\r\n            video.autoplay = false;\r\n            document.getElementById('btn-start-recording').disabled = false;\r\n            document.getElementById('btn-stop-recording').classList.add(\"d-none\");\r\n            document.getElementById('btn-start-recording').classList.remove(\"d-none\");\r\n            recorder.stopRecording(stopRecordingCallback);\r\n            // show flag btn\r\n            that.showFlag();\r\n\r\n        };\r\n\r\n        // show flag addon\r\n        this.showFlag()\r\n    }\r\n    showFlag =()=>{\r\n            document.querySelector('.addonFlag').classList.remove('d-none');\r\n    }\r\n    hideFlag =()=>{\r\n            document.querySelector('.addonFlag').classList.add('d-none');\r\n    }\r\n    render() {\r\n        // activate uploading link on the oppollo \r\n        const apolloCache = new InMemoryCache({\r\n            addTypename: false\r\n        })\r\n        const token = (localStorage.getItem('jwt')) ? JSON.parse(localStorage.getItem('jwt')).BearerTokenResponse.access_token : '';\r\n\r\n        const uploadLink = createUploadLink({\r\n            uri: 'https://spreago.black-squares.com/graphql',\r\n            headers: {\r\n                authorization: token ? `Bearer ${token}` : \"\"\r\n            }\r\n        })\r\n        const client = new ApolloClient({\r\n            cache: apolloCache,\r\n            link: uploadLink\r\n        })\r\n        return (\r\n            <div>\r\n                <ApolloProvider client={client}>\r\n                    <Mutation mutation={UPLOAD_FILE_STREAM}>\r\n                        {(videoUpload, { data, loading }) => {\r\n                            return (\r\n                                <form className=\"videoContainer\" encType={'multipart/form-data'}>\r\n                                    <button\r\n                                        hidden\r\n                                        type=\"button\"\r\n                                        id=\"btn-save-video\"\r\n                                        className=\"btn-orange\"\r\n                                        onClick={() => {\r\n                                            const file = this.state.file;\r\n                                            const id = this.props.data.id;\r\n                                            file && videoUpload({\r\n                                                variables: { file: file, question_id: id }\r\n                                            }).then((res, loading) => {\r\n                                                if (res.data.videoUpload.Status.code) {\r\n                                                    //let uploaded = document.querySelector(\"[data-uploaded=\\\"\" + id + \"\\\"]\");\r\n                                                   // uploaded.classList.remove(\"d-none\");\r\n                                                }\r\n                                            }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Please try again\" }));\r\n                                        }}>save</button>\r\n                                    {loading &&\r\n                                        <div className=\"loading\">\r\n                                            <p className=\"text-white\">Please wait...</p>\r\n                                            <Loader\r\n                                                type=\"TailSpin\"\r\n                                                color=\"white\"\r\n                                                height={50}\r\n                                                width={50}\r\n                                            />\r\n                                        </div>\r\n                                    }\r\n                                </form>)\r\n                        }}\r\n                    </Mutation>\r\n                    <div className=\"\">\r\n                        <Row className=\"m-0 rounded mb-1\">\r\n                            <Col md={10} xs={12} className=\"p-0 shadow\">\r\n                                <div className=\"p-relative video-addons-container \">\r\n                                    <div className=\"videoCustom-container\">\r\n                                        <video \r\n                                            controls\r\n                                            id=\"video\"  \r\n                                                controlslist=\"nodownload\" \r\n                                                width=\"100%\" \r\n                                                style={{ transition: \"0.5s\"}} \r\n                                                className=\"border-0 bg-black  border-0\">\r\n                                        </video>\r\n                                    </div>\r\n                                    <div className=\"addonFlag d-none\">\r\n                                        <Flag\r\n                                            startTime={this.state.start_time} \r\n                                            callbackFromParent={this.callback}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"addonTextAndImage d-none\">\r\n                                        <AddonText \r\n                                            startTime={this.state.start_time} \r\n                                            callbackFromParent={this.callback} \r\n                                            viewText={this.state.viewText}\r\n                                        />\r\n                                        <AddonImage \r\n                                            startTime={this.state.start_time} \r\n                                            callbackFromParent={this.callback} \r\n                                            viewImg={this.state.viewImg}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </Col>\r\n                            <Col md={2} xs={12} className=\"p-0 shadow\">\r\n                                <AddonSidebar \r\n                                    question={this.state.data}\r\n                                    callbackFromParent={this.callback}  \r\n                                    textAddons={this.state.textAddonsInputs} \r\n                                    imgAddons={this.state.imageAddonsInputs}\r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row className=\"justify-content-center m-0\" >\r\n                            <Col className=\"p-0\">\r\n                                <div className=\"m-auto btn-record-group bg-dark pr-3 pl-3\">\r\n                                    <button className=\"border-0 bg-transparent text-white pr-2\" id=\"btn-start-recording\">\r\n                                            <div className=\"d-inline-block mr-1\" style={{ borderRadius: \"50%\", background: \"gray\", padding: \"3px\", height: \"30px\", width: \"30px\" }}>\r\n                                                <AlbumIcon className=\"text-red text-center\" />\r\n                                            </div>\r\n                                            Start\r\n                                    </button>\r\n                                        <button\r\n                                            className=\"border-0 bg-transparent text-white pl-2 d-none\"\r\n                                            id=\"btn-stop-recording\" disabled>\r\n                                            <div className=\"d-inline-block mr-1\" style={{ borderRadius: \"50%\", background: \"gray\", padding: \"3px\", height: \"30px\", width: \"30px\" }}>\r\n                                                <StopIcon className=\"text-red\" />\r\n                                            </div>\r\n                                            Stop\r\n                                    </button>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n\r\n                </ApolloProvider>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst UPLOAD_FILE_STREAM = gql`\r\nmutation(\r\n    $file        : Upload !\r\n    $question_id : Int    !\r\n) {\r\n    videoUpload (\r\n        Inputs : {\r\n            question:{\r\n                id : $question_id\r\n            }\r\n            videoInputs : {\r\n                file : $file\r\n            }\r\n        }\r\n    ) {\r\n        Status {\r\n            code\r\n            title\r\n            message\r\n            check\r\n        }\r\n        question{\r\n            title\r\n            bio{\r\n                title\r\n            }\r\n            video{\r\n                url\r\n                frame{\r\n                    url\r\n                  }\r\n                type{\r\n                    name\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n`;\r\n","import React, { Component } from 'react';\r\n\r\nimport videoSrc from './video/video.mp4';\r\nimport './test.style.css';\r\n\r\nimport flag from '../../images/flag.png';\r\n\r\nexport default class CustomVideo extends Component {\r\n\r\n    componentDidMount() {\r\n        // Select elements here\r\n        const video = document.getElementById('video');\r\n        const videoControls = document.getElementById('video-controls');\r\n        const playButton = document.getElementById('play');\r\n        const playbackIcons = document.querySelectorAll('.playback-icons use');\r\n        const timeElapsed = document.getElementById('time-elapsed');\r\n        const duration = document.getElementById('duration');\r\n        const progressBar = document.getElementById('progress-bar');\r\n        const seek = document.getElementById('seek');\r\n        const seekTooltip = document.getElementById('seek-tooltip');\r\n        // const volumeButton = document.getElementById('volume-button');\r\n        // const volumeIcons = document.querySelectorAll('.volume-button use');\r\n        // const volumeMute = document.querySelector('use[href=\"#volume-mute\"]');\r\n        // const volumeLow = document.querySelector('use[href=\"#volume-low\"]');\r\n        // const volumeHigh = document.querySelector('use[href=\"#volume-high\"]');\r\n        // const volume = document.getElementById('volume');\r\n        // const playbackAnimation = document.getElementById('playback-animation');\r\n        // const fullscreenButton = document.getElementById('fullscreen-button');\r\n        // const videoContainer = document.getElementById('video-container');\r\n        // const fullscreenIcons = fullscreenButton.querySelectorAll('use');\r\n        //const pipButton = document.getElementById('pip-button')\r\n\r\n        const videoWorks = !!document.createElement('video').canPlayType;\r\n        console.log(videoWorks);\r\n        if (videoWorks) {\r\n            video.controls = false\r\n            videoControls.classList.remove('hidden');\r\n        }\r\n\r\n        // Add functions here\r\n\r\n        // togglePlay toggles the playback state of the video.\r\n        // If the video playback is paused or ended, the video is played\r\n        // otherwise, the video is paused\r\n        function togglePlay() {\r\n            if (video.paused || video.ended) {\r\n                video.play();\r\n            } else {\r\n                video.pause();\r\n            }\r\n        }\r\n\r\n        // updatePlayButton updates the playback icon and tooltip\r\n        // depending on the playback state\r\n        function updatePlayButton() {\r\n            playbackIcons.forEach(icon => icon.classList.toggle('hidden'));\r\n\r\n            if (video.paused) {\r\n                playButton.setAttribute('data-title', 'Play (k)')\r\n            } else {\r\n                playButton.setAttribute('data-title', 'Pause (k)')\r\n            }\r\n        }\r\n\r\n        // formatTime takes a time length in seconds and returns the time in\r\n        // minutes and seconds\r\n        function formatTime(timeInSeconds) {\r\n            const result = new Date(timeInSeconds * 1000).toISOString().substr(11, 8);\r\n\r\n            return {\r\n                minutes: result.substr(3, 2),\r\n                seconds: result.substr(6, 2),\r\n            };\r\n        };\r\n\r\n        // initializeVideo sets the video duration, and maximum value of the\r\n        // progressBar\r\n        function initializeVideo() {\r\n            const videoDuration = Math.round(video.duration);\r\n            seek.setAttribute('max', videoDuration);\r\n            progressBar.setAttribute('max', videoDuration);\r\n            const time = formatTime(videoDuration);\r\n            duration.innerText = `${time.minutes}:${time.seconds}`;\r\n            duration.setAttribute('datetime', `${time.minutes}m ${time.seconds}s`)\r\n        }\r\n\r\n        // updateTimeElapsed indicates how far through the video\r\n        // the current playback is by updating the timeElapsed element\r\n        function updateTimeElapsed() {\r\n            const time = formatTime(Math.round(video.currentTime));\r\n            timeElapsed.innerText = `${time.minutes}:${time.seconds}`;\r\n            timeElapsed.setAttribute('datetime', `${time.minutes}m ${time.seconds}s`)\r\n        }\r\n\r\n        // updateProgress indicates how far through the video\r\n        // the current playback is by updating the progress bar\r\n        function updateProgress() {\r\n            seek.value = Math.floor(video.currentTime);\r\n            progressBar.value = Math.floor(video.currentTime);\r\n        }\r\n\r\n        // updateSeekTooltip uses the position of the mouse on the progress bar to\r\n        // roughly work out what point in the video the user will skip to if\r\n        // the progress bar is clicked at that point\r\n        function updateSeekTooltip(event) {\r\n            const skipTo = Math.round((event.offsetX / event.target.clientWidth) * parseInt(event.target.getAttribute('max'), 10));\r\n            seek.setAttribute('data-seek', skipTo)\r\n            const t = formatTime(skipTo);\r\n            seekTooltip.textContent = `${t.minutes}:${t.seconds}`;\r\n            const rect = video.getBoundingClientRect();\r\n            seekTooltip.style.left = `${event.pageX - rect.left}px`;\r\n        }\r\n\r\n        // skipAhead jumps to a different point in the video when the progress bar\r\n        // is clicked\r\n        function skipAhead(event) {\r\n            const skipTo = event.target.dataset.seek\r\n                ? event.target.dataset.seek\r\n                : event.target.value;\r\n            video.currentTime = skipTo;\r\n            progressBar.value = skipTo;\r\n            seek.value = skipTo;\r\n        }\r\n\r\n        // updateVolume updates the video's volume\r\n        // and disables the muted state if active\r\n        // function updateVolume() {\r\n        //     if (video.muted) {\r\n        //         video.muted = false;\r\n        //     }\r\n\r\n        //     video.volume = volume.value;\r\n        // }\r\n\r\n        // updateVolumeIcon updates the volume icon so that it correctly reflects\r\n        // the volume of the video\r\n        // function updateVolumeIcon() {\r\n        //     volumeIcons.forEach(icon => {\r\n        //         icon.classList.add('hidden');\r\n        //     });\r\n\r\n        //     volumeButton.setAttribute('data-title', 'Mute (m)')\r\n\r\n        //     if (video.muted || video.volume === 0) {\r\n        //         volumeMute.classList.remove('hidden');\r\n        //         volumeButton.setAttribute('data-title', 'Unmute (m)')\r\n        //     } else if (video.volume > 0 && video.volume <= 0.5) {\r\n        //         volumeLow.classList.remove('hidden');\r\n        //     } else {\r\n        //         volumeHigh.classList.remove('hidden');\r\n        //     }\r\n        // }\r\n\r\n        // toggleMute mutes or unmutes the video when executed\r\n        // When the video is unmuted, the volume is returned to the value\r\n        // it was set to before the video was muted\r\n        // function toggleMute() {\r\n        //     video.muted = !video.muted;\r\n\r\n        //     if (video.muted) {\r\n        //         volume.setAttribute('data-volume', volume.value);\r\n        //         volume.value = 0;\r\n        //     } else {\r\n        //         volume.value = volume.dataset.volume;\r\n        //     }\r\n        // }\r\n\r\n        // animatePlayback displays an animation when\r\n        // the video is played or paused\r\n        // function animatePlayback() {\r\n        //     playbackAnimation.animate([\r\n        //         {\r\n        //             opacity: 1,\r\n        //             transform: \"scale(1)\",\r\n        //         },\r\n        //         {\r\n        //             opacity: 0,\r\n        //             transform: \"scale(1.3)\",\r\n        //         }\r\n        //     ], {\r\n        //         duration: 500,\r\n        //     });\r\n        // }\r\n\r\n        // toggleFullScreen toggles the full screen state of the video\r\n        // If the browser is currently in fullscreen mode,\r\n        // then it must be exited and vice versa.\r\n        // function toggleFullScreen() {\r\n        //     if (document.fullscreenElement) {\r\n        //         document.exitFullscreen();\r\n        //     } else {\r\n        //         videoContainer.requestFullscreen();\r\n        //     }\r\n        // }\r\n\r\n        // updateFullscreenButton changes the icon of the full screen button\r\n        // and tooltip to reflect the current full screen state of the video\r\n        // function updateFullscreenButton() {\r\n        //     fullscreenIcons.forEach(icon => icon.classList.toggle('hidden'));\r\n\r\n        //     if (document.fullscreenElement) {\r\n        //         fullscreenButton.setAttribute('data-title', 'Exit full screen (f)')\r\n        //     } else {\r\n        //         fullscreenButton.setAttribute('data-title', 'Full screen (f)')\r\n        //     }\r\n        // }\r\n\r\n        // togglePip toggles Picture-in-Picture mode on the video\r\n        // async function togglePip() {\r\n        //     try {\r\n        //         if (video !== document.pictureInPictureElement) {\r\n        //             pipButton.disabled = true;\r\n        //             await video.requestPictureInPicture();\r\n        //         } else {\r\n        //             await document.exitPictureInPicture();\r\n        //         }\r\n        //     } catch (error) {\r\n        //         console.error(error)\r\n        //     } finally {\r\n        //         pipButton.disabled = false;\r\n        //     }\r\n        // }\r\n\r\n        // hideControls hides the video controls when not in use\r\n        // if the video is paused, the controls must remain visible\r\n        function hideControls() {\r\n            if (video.paused) {\r\n                return;\r\n            }\r\n\r\n            videoControls.classList.add('hide');\r\n        }\r\n\r\n        // showControls displays the video controls\r\n        function showControls() {\r\n            videoControls.classList.remove('hide');\r\n        }\r\n\r\n        // keyboardShortcuts executes the relevant functions for\r\n        // each supported shortcut key\r\n        // function keyboardShortcuts(event) {\r\n        //     const { key } = event;\r\n        //     switch (key) {\r\n        //         case 'k':\r\n        //             togglePlay();\r\n        //             animatePlayback();\r\n        //             if (video.paused) {\r\n        //                 showControls();\r\n        //             } else {\r\n        //                 setTimeout(() => {\r\n        //                     hideControls();\r\n        //                 }, 2000);\r\n        //             }\r\n        //             break;\r\n        //         case 'm':\r\n        //             toggleMute();\r\n        //             break;\r\n        //         case 'f':\r\n        //             toggleFullScreen();\r\n        //             break;\r\n        //         case 'p':\r\n        //             togglePip();\r\n        //             break;\r\n        //     }\r\n        // }\r\n\r\n        // Add eventlisteners here\r\n        playButton.addEventListener('click', togglePlay);\r\n        video.addEventListener('play', updatePlayButton);\r\n        video.addEventListener('pause', updatePlayButton);\r\n        video.addEventListener('loadedmetadata', initializeVideo);\r\n        video.addEventListener('timeupdate', updateTimeElapsed);\r\n        video.addEventListener('timeupdate', updateProgress);\r\n        // video.addEventListener('volumechange', updateVolumeIcon);\r\n        video.addEventListener('click', togglePlay);\r\n        // video.addEventListener('click', animatePlayback);\r\n        video.addEventListener('mouseenter', showControls);\r\n        video.addEventListener('mouseleave', hideControls);\r\n        videoControls.addEventListener('mouseenter', showControls);\r\n        videoControls.addEventListener('mouseleave', hideControls);\r\n        seek.addEventListener('mousemove', updateSeekTooltip);\r\n        seek.addEventListener('input', skipAhead);\r\n        //   volume.addEventListener('input', updateVolume);\r\n        //  volumeButton.addEventListener('click', toggleMute);\r\n        //   fullscreenButton.addEventListener('click', toggleFullScreen);\r\n        //   videoContainer.addEventListener('fullscreenchange', updateFullscreenButton);\r\n        // pipButton.addEventListener('click', togglePip);\r\n\r\n        // document.addEventListener('DOMContentLoaded', () => {\r\n        //     if (!('pictureInPictureEnabled' in document)) {\r\n        //         pipButton.classList.add('hidden');\r\n        //     }\r\n        // });\r\n        // document.addEventListener('keyup', keyboardShortcuts);    \r\n        function printMousePos(event) {\r\n            console.log(event.pageX)\r\n            console.log(event.clientX);\r\n            console.log(event.clientY);\r\n            // document.querySelector('.progressbar-container').textContent =\r\n            // \"clientX: \" + event.clientX +\r\n            // \" - clientY: \" + event.clientY;\r\n            var elem = document.createElement(\"img\");\r\n            elem.setAttribute(\"src\", flag);\r\n            elem.setAttribute(\"height\", \"25\");\r\n            elem.setAttribute(\"width\", \"11\");\r\n            elem.style.position = \"absolute\";\r\n            // elem.style.left = (event.clientX-63)+'px';\r\n            // elem.style.bottom = 5+'px';\r\n            elem.style.left = event.screenX+'px';\r\n           elem.style.top = event.screenY+'px';\r\n            document.body.appendChild(elem);\r\n        }\r\n        \r\n        document.querySelector('.progress-container').addEventListener(\"click\", printMousePos);\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"video-custom-container\">\r\n                <div class=\"video-container\" id=\"video-container\">\r\n                    <div class=\"playback-animation\" id=\"playback-animation\">\r\n                        <svg class=\"playback-icons\">\r\n                            <use class=\"hidden\" href=\"#play-icon\"></use>\r\n                            <use href=\"#pause\"></use>\r\n                        </svg>\r\n                    </div>\r\n\r\n                    <video controls class=\"video\" id=\"video\" width=\"200px\" preload=\"metadata\">\r\n                        <source src={this.props.src?this.props.src:''} type=\"video/mp4\"></source>\r\n                    </video>\r\n\r\n                    <div class=\"video-controls hidden\" id=\"video-controls\">\r\n                        <div className=\"row m-0  align-items-center\">\r\n                            <div className=\"Col-2\">\r\n                                <button data-title=\"Play (k)\" id=\"play\">\r\n                                    <svg class=\"playback-icons\">\r\n                                        <use href=\"#play-icon\"></use>\r\n                                        <use class=\"hidden\" href=\"#pause\"></use>\r\n                                    </svg>\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"col-9\">\r\n                                <div class=\"video-progress\">\r\n                                    <button className=\"progress-container\">\r\n                                        <progress id=\"progress-bar\" value=\"0\" min=\"0\"></progress>\r\n                                        <input class=\"seek\" id=\"seek\" value=\"0\" min=\"0\" type=\"range\" step=\"1\" />\r\n                                        <div class=\"seek-tooltip\" id=\"seek-tooltip\">00:00</div>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-2\">\r\n                                <div class=\"time\">\r\n                                    <time id=\"time-elapsed\">00:00</time>\r\n                                    <span> / </span>\r\n                                    <time id=\"duration\">00:00</time>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <svg style={{ display: 'none' }}>\r\n                    <defs>\r\n                        <symbol id=\"pause\" viewBox=\"0 0 24 24\">\r\n                            <path d=\"M14.016 5.016h3.984v13.969h-3.984v-13.969zM6 18.984v-13.969h3.984v13.969h-3.984z\"></path>\r\n                        </symbol>\r\n\r\n                        <symbol id=\"play-icon\" viewBox=\"0 0 24 24\">\r\n                            <path d=\"M8.016 5.016l10.969 6.984-10.969 6.984v-13.969z\"></path>\r\n                        </symbol>\r\n\r\n                        {/* <symbol id=\"volume-high\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M14.016 3.234q3.047 0.656 5.016 3.117t1.969 5.648-1.969 5.648-5.016 3.117v-2.063q2.203-0.656 3.586-2.484t1.383-4.219-1.383-4.219-3.586-2.484v-2.063zM16.5 12q0 2.813-2.484 4.031v-8.063q1.031 0.516 1.758 1.688t0.727 2.344zM3 9h3.984l5.016-5.016v16.031l-5.016-5.016h-3.984v-6z\"></path>\r\n      </symbol>\r\n\r\n      <symbol id=\"volume-low\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M5.016 9h3.984l5.016-5.016v16.031l-5.016-5.016h-3.984v-6zM18.516 12q0 2.766-2.531 4.031v-8.063q1.031 0.516 1.781 1.711t0.75 2.32z\"></path>\r\n      </symbol>\r\n\r\n      <symbol id=\"volume-mute\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M12 3.984v4.219l-2.109-2.109zM4.266 3l16.734 16.734-1.266 1.266-2.063-2.063q-1.547 1.313-3.656 1.828v-2.063q1.172-0.328 2.25-1.172l-4.266-4.266v6.75l-5.016-5.016h-3.984v-6h4.734l-4.734-4.734zM18.984 12q0-2.391-1.383-4.219t-3.586-2.484v-2.063q3.047 0.656 5.016 3.117t1.969 5.648q0 2.203-1.031 4.172l-1.5-1.547q0.516-1.266 0.516-2.625zM16.5 12q0 0.422-0.047 0.609l-2.438-2.438v-2.203q1.031 0.516 1.758 1.688t0.727 2.344z\"></path>\r\n      </symbol>\r\n\r\n      <symbol id=\"fullscreen\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M14.016 5.016h4.969v4.969h-1.969v-3h-3v-1.969zM17.016 17.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 9.984v-4.969h4.969v1.969h-3v3h-1.969zM6.984 14.016v3h3v1.969h-4.969v-4.969h1.969z\"></path>\r\n      </symbol>\r\n\r\n      <symbol id=\"fullscreen-exit\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M15.984 8.016h3v1.969h-4.969v-4.969h1.969v3zM14.016 18.984v-4.969h4.969v1.969h-3v3h-1.969zM8.016 8.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 15.984v-1.969h4.969v4.969h-1.969v-3h-3z\"></path>\r\n      </symbol>\r\n\r\n      <symbol id=\"pip\" viewBox=\"0 0 24 24\">\r\n      <path d=\"M21 19.031v-14.063h-18v14.063h18zM23.016 18.984q0 0.797-0.609 1.406t-1.406 0.609h-18q-0.797 0-1.406-0.609t-0.609-1.406v-14.016q0-0.797 0.609-1.383t1.406-0.586h18q0.797 0 1.406 0.586t0.609 1.383v14.016zM18.984 11.016v6h-7.969v-6h7.969z\"></path>\r\n      </symbol> */}\r\n                    </defs>\r\n                </svg>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { graphql } from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { gql } from 'apollo-boost';\r\nimport Video from '../video/video.component';\r\nimport VideoRecorder from '../video-recorder/video-recorder';\r\nimport CustomVideo from '../custom-video/custom-video.component';\r\n\r\n// styles , icons and images\r\nimport { Container, Col, Card, Row , Modal } from 'react-bootstrap';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport CropOriginalIcon from '@material-ui/icons/CropOriginal';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport dots from '../record/images/more.png';\r\nimport './record.style.css';\r\n\r\n// this component represents the recorder part of the create and edit visume page\r\n\r\nclass Record extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            enableWebCam: 1,\r\n            questions: '',\r\n            progressValue: 0\r\n        }\r\n    }\r\n    progressValue = 0;\r\n    componentWillReceiveProps(props) {\r\n        if (props.data) {\r\n            let firstQuestion = this.state.firstQuestion;\r\n            if (firstQuestion) {\r\n                this.setState({ ...this.state, questions: props.data });\r\n            }\r\n            else {\r\n                this.setState({ ...this.state, questions: props.data, firstQuestion: props.data.questions[0], enableWebCam: 1 });\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        const handleClick = (e) => {\r\n            let elem = e.currentTarget;\r\n            if (elem.querySelector('.custom-list')) {\r\n                elem.querySelector('.custom-list').classList.toggle('d-none');\r\n            }\r\n        }\r\n        if (!this.state.questions || !this.state.firstQuestion) {\r\n            return (\r\n                <div><h5 className=\"text-dark\">Loading....</h5></div>\r\n            )\r\n        }\r\n        else {\r\n            let firstQuestion = this.state.firstQuestion;\r\n            const handleClose = () => this.setState({ ...this.state, show: false });\r\n            return (\r\n                <div className=\"record\">\r\n                    <Container fluid className=\"m-0 p-0\">\r\n                        <Row className=\"m-0\">\r\n                            <Col xs={12} className=\"pr-2 pl-2 pt-1 pb-3\">\r\n                                <div>\r\n                                    <div className=\"title captialize\">\r\n                                        <h4>{firstQuestion.title}</h4>\r\n                                    </div>\r\n                                    <VideoRecorder data={firstQuestion} />\r\n                                </div>\r\n                            </Col>\r\n                            {this.state.questions.questions.map(question => {\r\n                                if (question.video) {\r\n                                    return (\r\n                                        <Col key={question.id} data-id={question.id} className=\"p-2 card-question\" sm={3} xs={6}>\r\n                                            <Card className=\"border-0\" key={question.id}>\r\n                                                    <button className=\"record-card bg-transparent border-0 p-0 p-relative\"\r\n                                                        onClick={(e) => {\r\n                                                            e.preventDefault();\r\n                                                            this.setState({ ...this.state, firstQuestion: question})\r\n                                                            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                                        }} >\r\n                                                        <div className=\"overlay rounded\"></div>\r\n                                                        <Card.Img src={question.video.frame.url} style={{maxHeight:'5.8rem'}} alt=\"video poster\" className=\"rounded\" width=\"100%\" />\r\n                                                        \r\n                                                    </button>\r\n                                                <div className=\"success \" data-uploaded={question.id}>\r\n                                                    <CheckCircleIcon style={{ fontSize: \"21px\", color: \"#E85A19\" }} />\r\n                                                </div>\r\n                                                <Row className=\"m-0 pt-2 pb-2\">\r\n                                                    <Col xs={10} className=\"text-left p-0\">{question.title}</Col>\r\n                                                    <Col xs={2} className=\"text-right p-0\">\r\n                                                        <button\r\n                                                            className=\"bg-transparent border-0 pt-1 pb-1 p-0\"\r\n                                                            onClick={handleClick}>\r\n                                                            <img src={dots} alt=\"dots\" />\r\n                                                            <ul className=\"shadow custom-list custom-position d-none\" style={{ top: \"1.5rem\", left: \"unset\", right: \"0\" }}>\r\n                                                                <li className=\"list-style-none text-center\">\r\n                                                                    <button\r\n                                                                        className=\"bg-transparent border-0  pr-2 pl-2\"\r\n                                                                        type=\"button\"\r\n                                                                        onClick={e => {\r\n                                                                            this.setState({ ...this.state, firstQuestion: question, show: true })\r\n                                                                        }}\r\n                                                                    >View</button>\r\n                                                                </li>\r\n                                                                <li className=\"list-style-none text-center\">\r\n                                                                    <button\r\n                                                                        className=\"bg-transparent border-0  pr-2 pl-2\"\r\n                                                                        type=\"button\"\r\n                                                                        onClick={() => {\r\n                                                                            this.setState({ ...this.state, firstQuestion: question });\r\n                                                                            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                                                        }}\r\n                                                                    >Record</button>\r\n                                                                </li>\r\n                                                            </ul>\r\n                                                        </button>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </Card>\r\n                                        </Col>\r\n                                    )\r\n                                }\r\n                                else {\r\n                                    return (\r\n                                        <Col key={question.id} data-id={question.id} className=\"p-2 card-question\" sm={3} xs={6}>\r\n                                            <Card className=\"border-0\" key={question.id}>\r\n                                                <button\r\n                                                    className=\"record-card bg-transparent border-0 pr-0 pl-0\"\r\n                                                    onClick={() => {\r\n                                                        this.setState({ ...this.state, firstQuestion: question });\r\n                                                        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                                    }}                                                   >\r\n                                                    <div className=\"bg-grey w-100 p-4 text-center rounded\">\r\n                                                        <CropOriginalIcon className=\"text-grey\" style={{ fontSize: \"45px\" }} />\r\n                                                    </div>\r\n                                                </button>\r\n                                                <div className=\"success d-none\" data-uploaded={question.id}>\r\n                                                    <CheckCircleIcon style={{ fontSize: \"21px\", color: \"#E85A19\" }} />\r\n                                                </div>\r\n                                                <Row className=\"m-0 pt-2 pb-2\">\r\n                                                    <Col xs={10} className=\"text-left p-0\">{question.title}</Col>\r\n                                                    <Col xs={2} className=\"text-right p-0\">\r\n                                                        <button\r\n                                                            className=\"bg-transparent border-0 pt-1 pb-1 p-0\"\r\n                                                            onClick={handleClick}>\r\n                                                            <img src={dots} alt=\"dots\" />\r\n                                                            <ul className=\"shadow custom-list custom-position d-none\" style={{ top: \"1.5rem\", left: \"unset\", right: \"0\" }}>\r\n                                                                <li className=\"list-style-none text-center\">\r\n                                                                    <button\r\n                                                                        className=\"bg-transparent border-0  pr-2 pl-2\"\r\n                                                                        type=\"button\"\r\n                                                                        onClick={() => {\r\n                                                                            this.setState({ ...this.state, firstQuestion: question });\r\n                                                                            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                                                        }}\r\n                                                                    >Record</button>\r\n                                                                </li>\r\n                                                            </ul>\r\n                                                        </button>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </Card>\r\n                                        </Col>\r\n                                    )\r\n                                }\r\n                            }\r\n                            )}\r\n                            {/* modal for showing video */}\r\n                            <Modal\r\n                                size=\"lg\"\r\n                                aria-labelledby=\"contained-modal-title-vcenter pr-0\"\r\n                                centered\r\n                                className=\"row m-0 modal-video\"\r\n                                show={this.state.show}\r\n                                onHide={handleClose}>\r\n                                <Col xs={12} className=\"p-0\">\r\n                                    <Modal.Body className=\"p-0 bg-white rounded border-b-0\">\r\n                                        <Col xs={12} className=\"text-left  bold  captialize\">\r\n                                            <h6 className='mb-0 pt-3 pb-3'>{this.state.firstQuestion.title}</h6>\r\n                                        </Col>\r\n                                        <Col xs={12} className=\"p-0 bg-black rounded\">\r\n                                            <video controls autoPlay title={this.state.firstQuestion.title} src={(this.state.firstQuestion.video) ? this.state.firstQuestion.video.url : ''} className='iframe-sm ' width=\"100%\"  style={{maxHeight :'33rem'}}></video>\r\n                                            {/* <CustomVideo title={this.state.firstQuestion.title} src={(this.state.firstQuestion.video)?this.state.firstQuestion.video.url:''} className='iframe-sm ' width=\"100%\" height=\"425rem\"/> */}\r\n                                        </Col>\r\n                                    </Modal.Body>\r\n                                </Col>\r\n                            </Modal>\r\n                            <Col xs={12} className=\"p-2 pb-1\">\r\n                                <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.errorMessage}</Typography>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                    <div className=\"w-100\">\r\n                        <Col xs=\"6\" className=\"d-inline-block p-2  pt-4 text-left\">\r\n                            <Button type=\"button\"\r\n                                size=\"large\"\r\n                                onClick={() => {\r\n                                    this.setState({ ...this.state, enableWebCam: 0 });\r\n                                    let list = document.getElementById(\"left-tabs-example\");\r\n                                    let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                                    nav_items[1].click();\r\n                                }}\r\n                                className=\"btn-white-outline pr-5 pl-5 record-back-btn\"\r\n                                variant=\"contained\"\r\n                            >Back</Button>\r\n                        </Col>\r\n                        <Col xs=\"6\" className=\"d-inline-block p-2 pt-4 text-right\">\r\n                            <Button type=\"submit\"\r\n                                onClick={() => {\r\n                                    // check if all questions have videos \r\n                                    let flag = [];\r\n                                    this.state.questions.questions.map(question => {\r\n                                        if (!question.video) {\r\n                                            flag.push(0);\r\n                                        }\r\n                                        else {\r\n                                            flag.push(1);\r\n                                        }\r\n                                    })\r\n                                    if (flag.includes(0)) {\r\n                                        this.setState({ ...this.state, errorMessage: 'You must record a video for each question.' })\r\n                                        return false;\r\n                                    }\r\n                                    else {\r\n                                        //go to next form  and make it not dissappled !\r\n                                        this.setState({ ...this.state, errorMessage: '' })\r\n                                        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                        let list = document.getElementById(\"left-tabs-example\");\r\n                                        let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                                        nav_items[3].click();\r\n                                        return true;\r\n                                    }\r\n                                }} size=\"large\" className=\"btn-orange-gradiant pr-5 pl-5 record-next-btn\" variant=\"contained\" >Next</Button>\r\n                        </Col>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nconst GET_QUESTIONS = gql`\r\nquery($id : Int !){\r\n    bioYours(id: $id){\r\n        id\r\n        title\r\n        brif\r\n        is_Draft\r\n        created_at\r\n        updated_at\r\n        questions\r\n        { id    \r\n          title\r\n          maximum_time\r\n          video{\r\n            id\r\n            url\r\n            frame{\r\n              url\r\n            }\r\n          }\r\n        }\r\n    }\r\n  }\r\n`\r\n\r\nexport default compose(\r\n    graphql(GET_QUESTIONS, {\r\n        name: \"questions\"\r\n    })\r\n)(withRouter(Record));\r\n","import React, { Component } from 'react';\r\nimport { createApolloFetch } from 'apollo-fetch';\r\nimport { withRouter } from 'react-router';\r\nimport { graphql } from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { gql } from 'apollo-boost';\r\n\r\n// styles , icons and images\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\nimport { TextField, InputLabel, Button, Chip, Typography } from '@material-ui/core';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport './overview.style.css';\r\n\r\n// this component represents the create and edit  visume page\r\n\r\nclass Overview extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            title: '',\r\n            privacy: 1,\r\n            public: 1,\r\n            private: 2,\r\n            brief: \"\",\r\n            speciality: \"\",\r\n            tags: [],\r\n            specialities: [],\r\n            tagsChoosen: []\r\n        }\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        //handle props that receive on the edit \r\n        if (props.data) {\r\n            let data = props.data;\r\n            this.setState({\r\n                ...this.state, bioId: data.id,\r\n                title: data.title, brief: data.brif,\r\n                speciality: data.speciality.name_en,\r\n                specialityId: data.speciality.id,\r\n                tagsChoosen: data.bioTagsNames, privacy: data.privacy.id\r\n            });\r\n        }\r\n\r\n    }\r\n    componentDidMount(props) {\r\n\r\n        //handle fetch specialities and tags dropdown   \r\n        const token = JSON.parse(localStorage.getItem('jwt')).BearerTokenResponse.access_token;\r\n        const uri = 'https://spreago.black-squares.com/graphql';\r\n        const apolloFetch = createApolloFetch({ uri });\r\n        apolloFetch.use(({ request, options }, next) => {\r\n            if (!options.headers) {\r\n                options.headers = {};  // Create the headers object if needed.\r\n            }\r\n            options.headers['authorization'] = `Bearer ${token}`;\r\n\r\n            next();\r\n        });\r\n        //get specialites\r\n        apolloFetch({\r\n            query:\r\n                `query{\r\n            specialities{\r\n              id\r\n              context\r\n              name\r\n              name_en\r\n              name_ar\r\n              created_at\r\n              updated_at\r\n             \r\n            }\r\n          }\r\n        `,\r\n        }).then(res => {\r\n            if (res.data.specialities) {\r\n                this.setState({ ...this.state, specialities: res.data.specialities });\r\n            }\r\n        });\r\n        //get tags\r\n        apolloFetch({\r\n            query:\r\n                `query{\r\n                tag{\r\n                  id\r\n                  name\r\n                 \r\n                }\r\n              }\r\n            `,\r\n        }).then(res => {\r\n            if (res.data.tag) {\r\n                this.setState({ ...this.state, tags: res.data.tag });\r\n            }\r\n        });\r\n        //get privecy\r\n        apolloFetch({\r\n            query:\r\n                ` query{\r\n                privacies{\r\n                id\r\n                context\r\n                name\r\n                name_en\r\n                name_ar\r\n                created_at\r\n                updated_at\r\n               \r\n                }\r\n            }\r\n            `,\r\n        }).then(res => {\r\n            if (res.data.privacies) {\r\n                this.setState({ ...this.state, public: res.data.privacies[0], private: res.data.privacies[1] });\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n\r\n        const handleChange = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value });\r\n        };\r\n        // input validation\r\n        const checkTitle = (title) => {\r\n            if (title.length < 3 || title.length > 191) {\r\n                this.setState({ ...this.state, errorMessage: 'This field must be between 3 and 191 characters long.' });\r\n                return false;\r\n\r\n            } else {\r\n\r\n                this.setState({ ...this.state, errorMessage: '' });\r\n                return true;\r\n            }\r\n        }\r\n        const checkBrief = (brief) => {\r\n            if (brief == null) {\r\n                this.setState({ ...this.state, briefErrorMessage: '' });\r\n                return true;\r\n            }\r\n            else if (brief.length > 5000) {\r\n                this.setState({ ...this.state, briefErrorMessage: 'This field must be max  5000 characters long.' });\r\n                return false;\r\n\r\n            }\r\n            else {\r\n                this.setState({ ...this.state, briefErrorMessage: '' });\r\n                return true;\r\n            }\r\n        }\r\n        const checkSpeciality = () => {\r\n            if (!this.state.specialityId) {\r\n                this.setState({ ...this.state, specialityErrorMessage: 'You must choose one from the list.' });\r\n                return false;\r\n            }\r\n            else {\r\n                this.setState({ ...this.state, specialityErrorMessage: '' });\r\n                return true;\r\n            }\r\n        }\r\n        // if specialites or tags dropdown not loaded from server return loading message \r\n        if (this.state.specialities.length < 1 && this.state.tags.length < 1 && this.state.public.length < 1 && this.state.private.length < 1) {\r\n            return (\r\n                <div><h5 className=\"text-dark\">Loading....</h5></div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"pb-3 overview-tap\">\r\n                    <form\r\n                        onSubmit={e => {\r\n                            e.preventDefault();\r\n                            if (checkTitle(this.state.title) && checkSpeciality() && checkBrief(this.state.brief)) {\r\n\r\n                                this.setState({ ...this.state, errorMessage: '' });\r\n                                // send data to server on submit \r\n                                // if there is bio/visume id , edit to this bio/visume id\r\n                                // if not create new one\r\n                                if (this.state.bioId) {\r\n                                    this.props.edit_bio({\r\n                                        variables: {\r\n                                            bio_id: this.state.bioId,\r\n                                            privacies_id: this.state.privacy,\r\n                                            specialities_id: this.state.specialityId,\r\n                                            title: this.state.title,\r\n                                            brif: this.state.brief,\r\n                                            tags: this.state.tagsChoosen\r\n                                        }\r\n                                    }).then((res) => {\r\n                                        if (res.data.bioEdit.Status.code === 200) {\r\n                                            // go to next form  \r\n                                            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                            let list = document.getElementById(\"left-tabs-example\");\r\n                                            let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                                            nav_items[0].setAttribute(\"data-id\", this.state.bioId);\r\n                                            nav_items[1].click();\r\n                                        }\r\n                                    }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Check your internet connection\" }));\r\n                                } else {\r\n                                    this.props.create_bio({\r\n                                        variables: {\r\n                                            privacies_id: this.state.privacy,\r\n                                            specialities_id: this.state.specialityId,\r\n                                            title: this.state.title,\r\n                                            brif: this.state.brief,\r\n                                            tags: this.state.tagsChoosen\r\n                                        }\r\n                                    }).then((res) => {\r\n                                        if (res.data.bioCreate.Status.code === 200) {\r\n                                            this.setState({ ...this.state, bioId: res.data.bioCreate.bio.id });\r\n                                            // go to next form  \r\n                                            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                            let list = document.getElementById(\"left-tabs-example\");\r\n                                            let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                                            nav_items[0].setAttribute(\"data-id\", res.data.bioCreate.bio.id);\r\n                                            nav_items[1].click();\r\n                                            // make this tab disabled  \r\n                                            nav_items[0].setAttribute(\"aria-disabled\", \"true\");\r\n                                            nav_items[0].classList.add(\"disabled\");\r\n                                        }\r\n                                    }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Check your internet connection\" }));\r\n                                }\r\n                            }\r\n                        }} >\r\n                        <Container className=\"overview shadow border-rounded\">\r\n                            <Row>\r\n                                <Col className=\"border-bottom bg-light p-5\" sm={12}>\r\n                                    <div className=\"title\">\r\n                                        <h4 className=\"text-dark\">Overview</h4>\r\n                                        <p className=\"text-grey mb-0\">Provide the employer with your main information</p>\r\n                                    </div>\r\n                                </Col>\r\n                                <Col sm={12} className=\"bg-white p-5\">\r\n                                    <InputLabel htmlFor=\"title\">\r\n                                        Title<span className=\"text-danger\"> *</span>\r\n                                    </InputLabel>\r\n                                    <TextField\r\n                                        required\r\n                                        id=\"title\"\r\n                                        name=\"title\"\r\n                                        value={this.state.title}\r\n                                        onChange={handleChange('title')}\r\n                                        className=\"pt-1 pb-1\"\r\n                                        placeholder=\"Write your title\"\r\n                                        fullWidth\r\n                                        variant=\"outlined\"\r\n                                    />\r\n                                    <Col xs={12} className=\"p-0  pb-4\">\r\n                                        <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.errorMessage}</Typography>\r\n                                    </Col>\r\n                                    <InputLabel htmlFor=\"brief\">\r\n                                        Brief\r\n                                </InputLabel>\r\n                                    <TextField\r\n                                        name=\"brief\"\r\n                                        id=\"brief\"\r\n                                        value={this.state.brief || ''}\r\n                                        onChange={handleChange('brief')}\r\n                                        className=\"pt-1 pb-1\"\r\n                                        multiline\r\n                                        rows=\"7\"\r\n                                        fullWidth\r\n                                        variant=\"outlined\"\r\n                                        placeholder=\"Write your Brief\"\r\n                                        helperText=\"0 / 5000 Characters\"\r\n                                    />\r\n                                    <Col xs={12} className=\"p-0 pb-4\">\r\n                                        <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.briefErrorMessage}</Typography>\r\n                                    </Col>\r\n                                    <InputLabel htmlFor=\"speciality\">\r\n                                        Speciality<span className=\"text-danger\"> *</span>\r\n                                    </InputLabel>\r\n                                    <Autocomplete\r\n                                        name='speciality'\r\n                                        value={this.state.speciality}\r\n                                        onChange={(event, value) => {\r\n                                            this.setState({ ...this.state, speciality: value });\r\n                                            let specialitychoosen = [];\r\n                                            specialitychoosen = this.state.specialities.filter((speciality) => {\r\n                                                return speciality.name === value\r\n                                            });\r\n                                            if (specialitychoosen.length > 0) {\r\n                                                this.setState({ ...this.state, specialityErrorMessage: \"\", specialityId: specialitychoosen[0].id })\r\n                                            }\r\n                                            else {\r\n                                                this.setState({ ...this.state, specialityId: '' })\r\n                                            }\r\n                                        }}\r\n                                        id=\"free-solo-demo\"\r\n                                        className=\"pt-1 pb-1\"\r\n                                        freeSolo\r\n                                        options={this.state.specialities.map(option => option.name)}\r\n                                        renderInput={params => (\r\n                                            <TextField {...params} variant=\"outlined\" placeholder=\"choose speciality\" />\r\n                                        )}\r\n                                    />\r\n                                    <Col xs={12} className=\"p-0 pb-4\">\r\n                                        <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.specialityErrorMessage}</Typography>\r\n                                    </Col>\r\n                                    <InputLabel htmlFor=\"tags\">\r\n                                        Related tags\r\n                                </InputLabel>\r\n                                    <Autocomplete\r\n                                        multiple\r\n                                        id=\"tags\"\r\n                                        className=\"pt-1 mb-4\"\r\n                                        value={this.state.tagsChoosen}\r\n                                        onChange={\r\n                                            (event, value) => this.setState({ ...this.state, tagsChoosen: value })\r\n                                        }\r\n                                        options={this.state.tags.map(option => option.name)}\r\n                                        freeSolo\r\n                                        renderTags={(value, getTagProps) =>\r\n                                            value.map((option, index) => (\r\n                                                <Chip variant=\"outlined\" label={option} {...getTagProps({ index })} />\r\n                                            ))\r\n                                        }\r\n                                        renderInput={params => (\r\n                                            <TextField {...params} variant=\"outlined\" placeholder=\"Favorites\" />\r\n                                        )}\r\n                                    />\r\n                                    <InputLabel htmlFor=\"privacy\">\r\n                                        Privacy<span className=\"text-danger\"> *</span>\r\n                                    </InputLabel>\r\n                                    <div className=\"pt-1 pb-4\">\r\n                                        <div className=\"input-radio\">\r\n                                            <input type=\"radio\" id=\"public\" name=\"privacy\" onChange={handleChange('privacy')} value={this.state.public.id} defaultChecked />\r\n                                            <label htmlFor=\"public\" className=\"first-btn\">Public</label></div>\r\n                                        <input type=\"radio\" id=\"private\" onChange={handleChange('privacy')} name=\"privacy\" value={this.state.private.id} />\r\n                                        <label htmlFor=\"private\" className=\"last-btn\">Private</label>\r\n                                    </div>\r\n                                    <Col xs={12} className=\"p-0 pb-4\">\r\n                                        <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.ConnectionErorr}</Typography>\r\n                                    </Col>\r\n                                </Col>\r\n                            </Row>\r\n                        </Container>\r\n                        <div className=\"pt-4 text-right text-responsive-center\">\r\n                            <Button type=\"submit\" size=\"large\" className=\"btn-orange-gradiant pr-5 pl-5\" variant=\"contained\" to=\"#\" >Next</Button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\nconst CREATE_BIO = gql\r\n    `mutation($privacies_id : Int ! $specialities_id :Int ! \r\n    $title : Title !  $brif : Text $tags :[Name!] ){\r\n    bioCreate(Inputs:{\r\n      privacies_id : $privacies_id\r\n      specialities_id : $specialities_id \r\n      title : $title\r\n      brif : $brif\r\n      tags : $tags\r\n    }){\r\n      Status{\r\n        code\r\n        message\r\n      }\r\n      bio{\r\n        id\r\n        user{\r\n              name\r\n              email\r\n            }\r\n      }\r\n     \r\n    }\r\n  }`\r\nconst EDIT_BIO = gql\r\n    `\r\n  mutation($bio_id : Int ! $privacies_id : Int ! $specialities_id :Int ! \r\n      $title : Title    $brif : Text $tags :[Name!] ){\r\n    bioEdit(Inputs:{\r\n         bio : {\r\n          id : $bio_id\r\n        }\r\n         privacies_id : $privacies_id\r\n        specialities_id : $specialities_id \r\n        title : $title\r\n        brif : $brif\r\n        tags : $tags\r\n    }){\r\n      Status{\r\n        code\r\n      }\r\n      bio{\r\n        title\r\n        brif\r\n        speciality{name_en}\r\n        tags\r\n        bioTags{\r\n          name\r\n        }\r\n        privacy{name_en}\r\n        questions{ \r\n        id\r\n          title\r\n          maximum_time\r\n          video{\r\n            url\r\n          }\r\n        }\r\n      }\r\n     \r\n    }\r\n  }`\r\n\r\n\r\nexport default compose(\r\n    graphql(CREATE_BIO, {\r\n        name: \"create_bio\"\r\n    }),\r\n    graphql(EDIT_BIO, {\r\n        name: \"edit_bio\"\r\n    })\r\n)(withRouter(Overview));\r\n","import React, { Component } from 'react';\r\nimport { Container, Row, Col, Modal } from 'react-bootstrap';\r\nimport { withRouter } from 'react-router';\r\nimport { graphql } from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { gql } from 'apollo-boost';\r\n\r\n// styles , icons and images\r\nimport { Button } from '@material-ui/core';\r\nimport PlayCircleOutlineIcon from '@material-ui/icons/PlayCircleOutline';\r\nimport { Link } from 'react-router-dom';\r\nimport dots from '../record/images/more.png';\r\nimport './preview.style.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\n\r\n// this component represents the review&publish part of the create and edit visume page \r\n\r\nclass Preview extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            title: '',\r\n            questionSelected: '',\r\n            status: 'Publish',\r\n            showLoader: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        var btns = document.querySelectorAll(\".dots-btn\");\r\n        for (let i = 0; i < btns.length; i++) {\r\n            btns[i].addEventListener(\"click\", function () {\r\n                this.querySelector(\".custom-list\").classList.toggle(\"d-none\");\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(props) {\r\n        if (props.data) {\r\n            this.setState({ ...this.state, bio: props.data, status: props.status });\r\n            if (props.data.video_id !== null && this.state.CompileButton === true) {\r\n                document.querySelector('.preview .loading').classList.add('d-none');\r\n                this.setState({ ...this.state, showLoader: false, compiledVideo: true, bio: props.data })\r\n            }\r\n        }\r\n    }\r\n    handleClick = (e) => {\r\n        let elem = e.currentTarget;\r\n        if (elem.querySelector('.custom-list')) {\r\n            elem.querySelector('.custom-list').classList.toggle('d-none')\r\n        }\r\n    }\r\n    render() {\r\n        if (!this.state.bio) {\r\n            return (\r\n                <div><h5 className=\"text-dark\">Loading....</h5></div>\r\n            )\r\n        }\r\n        else {\r\n            const handleClose = () => this.setState({ ...this.state, show: false });\r\n            const handleCloseDeleteModal = () => this.setState({ ...this.state, showDeleteModal: false });\r\n            const handelCloseCompiledVideo = () => this.setState({ ...this.state, compiledVideo: false });\r\n            return (\r\n                <div className=\"pb-3\">\r\n                    <Container className=\"overview preview shadow border-rounded\">\r\n\r\n                        {/* merge videos loader */}\r\n                        <div className=\"loading d-none\">\r\n                            <p className=\"text-white\">Your amazing Visume is being created.<br />It may take a few minutes.Dont't close this screen!</p>\r\n                            <Loader\r\n                                type=\"TailSpin\"\r\n                                color=\"white\"\r\n                                height={50}\r\n                                width={50}\r\n                                visible={this.state.showLoader}\r\n                            />\r\n                        </div>\r\n\r\n                        <Row>\r\n                            <Col className=\"bg-light border-bottom p-5\" sm={12}>\r\n                                <div className=\"title\">\r\n                                    <h4 className=\"text-dark\">Review & Publish</h4>\r\n                                    <p className=\"text-grey mb-0\">Make Sure all things are good</p>\r\n                                </div>\r\n                            </Col>\r\n                            <Col className=\"p-5\">\r\n                                {\r\n                                    this.state.bio.questions.map(question => {\r\n\r\n                                        // make sure that all questions have video  \r\n                                        // onclick  video -> save the question on questionSelected variable and show a view video modal \r\n                                        // on click delete option -> save the question on questionSelected variable and show a delete video modal \r\n                                        if (question.video) {\r\n                                            return (\r\n                                                <Row className=\"p-0 m-0 align-items-center\">\r\n                                                    <Col sm={2} xs={3} className=\"p-0\">\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            className=\"bg-transparent border-0 p-0 play-icon-container\"\r\n                                                            onClick={e => {\r\n                                                                this.setState({ ...this.state, questionSelected: question, show: true })\r\n                                                            }}>\r\n                                                            <img src={question.video.frame.url} alt=\"video poster\" className=\"rounded\" width=\"100%\" style={{maxHeight:'4.5rem'}}/>\r\n                                                            <div className=\"text-white play-icon row m-0 align-items-center\">\r\n                                                                <PlayCircleOutlineIcon className=\"col\" />\r\n                                                            </div>\r\n                                                        </button>\r\n                                                    </Col>\r\n                                                    <Col sm={9} xs={7} className=\"p-0\">\r\n                                                        <p className=\"d-inline-block pl-2 captialize\">\r\n                                                            {question.title}\r\n                                                            <p className=\"text-grey small mb-0\">{question.maximum_time}</p>\r\n                                                        </p>\r\n                                                    </Col>\r\n                                                    <Col sm={1} xs={1} className=\"dots text-right\">\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            className=\"more-btn\"\r\n                                                            onClick={this.handleClick}>\r\n                                                            <ul className=\"shadow custom-list d-none\" style={{ left: \"unset\", right: \"0rem\" }}>\r\n                                                                <li className=\"list-style-none text-center delete-option p-0\">\r\n                                                                    <button\r\n                                                                        className=\"bg-transparent border-0 pt-1 pb-1 pr-3 pl-3\"\r\n                                                                        type=\"button\"\r\n                                                                        onClick={() => {\r\n                                                                            let list = document.getElementById(\"left-tabs-example\");\r\n                                                                            let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                                                                            nav_items[1].click();\r\n                                                                        }}\r\n                                                                    >Edit</button>\r\n                                                                </li>\r\n                                                                <li className=\"list-style-none text-center delete-option p-0\">\r\n                                                                    <button\r\n                                                                        className=\"bg-transparent border-0 pt-1 pb-1 pr-3 pl-3\"\r\n                                                                        type=\"button\"\r\n                                                                        onClick={e => {\r\n                                                                            this.setState({ ...this.state, questionSelected: question, showDeleteModal: true })\r\n                                                                        }}\r\n                                                                    >Delete</button>\r\n                                                                </li>\r\n                                                            </ul>\r\n                                                            <img src={dots} alt=\"more\" />\r\n                                                        </button>\r\n                                                    </Col>\r\n                                                    <div className=\"w-100 pb-3\"></div>\r\n                                                </Row>\r\n                                            )\r\n                                        }\r\n                                    }\r\n                                    )\r\n                                }\r\n                            </Col>\r\n                            {\r\n                                (this.state.questionSelected) ?\r\n                                    (\r\n                                        //show video modal \r\n                                        // show delete question modal\r\n                                        <div>\r\n                                            <Modal\r\n                                                size=\"lg\"\r\n                                                aria-labelledby=\"contained-modal-title-vcenter pr-0\"\r\n                                                centered\r\n                                                className=\"row m-0 modal-video\"\r\n                                                show={this.state.show}\r\n                                                onHide={handleClose}>\r\n                                                <Col xs={12} className=\"p-0\">\r\n                                                    <Modal.Body className=\"p-0 bg-white rounded border-b-0\">\r\n                                                        <Col xs={12} className=\"text-left  bold  captialize\">\r\n                                                            <h6 className='mb-0 pt-3 pb-3'>{this.state.questionSelected.title}</h6>\r\n                                                        </Col>\r\n                                                        <Col xs={12} className=\"p-0 bg-black rounded\">\r\n                                                            <video controls autoPlay  title={this.state.questionSelected.title} src={this.state.questionSelected.video.url} className='iframe-sm ' width=\"100%\" style={{maxHeight :'33rem'}}></video>\r\n                                                        </Col>\r\n                                                    </Modal.Body>\r\n                                                </Col>\r\n                                            </Modal>\r\n                                            <Modal\r\n                                                size=\"md\"\r\n                                                centered\r\n                                                className=\"row m-0 custom-modal-delete pr-0\"\r\n                                                show={this.state.showDeleteModal}\r\n                                                onHide={handleCloseDeleteModal}>\r\n                                                <Col xs={12} className=\"p-0\">\r\n                                                    <Modal.Body className=\"p-1\">\r\n                                                        <h6>Are you sure you want to delete this question ?</h6>\r\n                                                    </Modal.Body>\r\n                                                    <Modal.Footer className=\"custom pt-3 pl-0 pr-0 pb-0\">\r\n                                                        <Row className=\"m-0 w-100\">\r\n                                                            <Col xs={6} className=\"text-left p-0\">\r\n                                                                <Button\r\n                                                                    type=\"button\"\r\n                                                                    size=\"large\"\r\n                                                                    className=\"btn-white-outline  pr-5 pl-5\" variant=\"contained\"\r\n                                                                    onClick={() => {\r\n                                                                        handleCloseDeleteModal();\r\n                                                                    }}>\r\n                                                                    No\r\n                                                                 </Button>\r\n                                                            </Col>\r\n                                                            <Col xs={6} className=\"text-right p-0\">\r\n                                                                <Button\r\n                                                                    type=\"button\"\r\n                                                                    size=\"large\"\r\n                                                                    className=\"btn-orange-gradiant pr-4 pl-4\" variant=\"contained\"\r\n                                                                    onClick={() => {\r\n                                                                        this.props.delete_question({\r\n                                                                            variables: {\r\n                                                                                \"question_id\": this.state.questionSelected.id\r\n                                                                            }\r\n                                                                        }).then((res) => {\r\n                                                                            if (res.data.questionDelete.Status.code === 200) {\r\n                                                                                window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                                                                let list = document.getElementById(\"left-tabs-example\");\r\n                                                                                let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                                                                                nav_items[1].click();\r\n\r\n                                                                                nav_items[2].setAttribute(\"aria-disabled\", \"true\")\r\n                                                                                nav_items[2].classList.add(\"disabled\")\r\n                                                                                nav_items[3].setAttribute(\"aria-disabled\", \"true\")\r\n                                                                                nav_items[3].classList.add(\"disabled\")\r\n                                                                            }\r\n                                                                        }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Check your internet connection\" }));\r\n                                                                        handleCloseDeleteModal();\r\n                                                                    }}>\r\n                                                                    Yes, Delete\r\n                                                                </Button>\r\n                                                            </Col>\r\n                                                        </Row>\r\n                                                    </Modal.Footer>\r\n                                                </Col>\r\n                                            </Modal>\r\n                                        </div>\r\n                                    ) : ''\r\n                            }\r\n                        </Row>\r\n                    </Container>\r\n\r\n                    <div className=\"w-100 row m-0\">\r\n                        <Col md=\"7\" xs=\"6\" className=\"d-inline-block p-0 pt-4 text-left order-sm-1 order-1\">\r\n                            <Button\r\n                                size=\"large\"\r\n                                className=\"btn-white-outline pr-5 pl-5 preview-back\"\r\n                                onClick={e => {\r\n                                    e.preventDefault();\r\n                                    let list = document.getElementById(\"left-tabs-example\");\r\n                                    let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                                    nav_items[2].click();\r\n                                }}\r\n                                variant=\"contained\">Back</Button>\r\n                        </Col>\r\n                        <Col md=\"3\" xs=\"12\" className=\"d-inline-block   pt-4 text-right text-responsive-center  order-sm-2  order-3\">\r\n                            <Button\r\n                                size=\"large\"\r\n                                className=\"btn-white-outline pr-3 pl-3\"\r\n                                onClick={e => {\r\n                                    this.props.draft({\r\n                                        variables: {\r\n                                            \"bio_id\": this.state.bio.id\r\n                                        }\r\n                                    }).then((data) => {\r\n                                        // make sure that camera is stopped \r\n                                        var video = document.querySelector('video');\r\n                                        const stream = video.srcObject;\r\n                                        if (stream) {\r\n                                            const tracks = stream.getTracks();\r\n                                            tracks.forEach(function (track) {\r\n                                                track.stop();\r\n                                                video.srcObject = null;\r\n                                            });\r\n                                        }\r\n                                        if (data) {\r\n                                            this.props.history.push({\r\n                                                pathname: '/visumes',\r\n                                            })\r\n                                        }\r\n\r\n                                    }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Check your internet connection\" }));\r\n                                }}\r\n                                variant=\"contained\"\r\n                                >Save as Draft\r\n                            </Button>\r\n                        </Col>\r\n                        <Col md=\"2\" xs=\"6\" className=\"d-inline-block p-0 pt-4  text-right  order-sm-3 order-2\">\r\n                            <Button\r\n                                size=\"large\"\r\n                                className=\"btn-orange-gradiant pr-3 pl-3 publish w-100 w-xs-75\"\r\n                                onClick={e => {\r\n                                    let id = this.state.bio.id\r\n                                    if (id) {\r\n                                        this.props.compile_video({\r\n                                            variables: {\r\n                                                bio_id: id,\r\n                                            }\r\n                                        }).then((res) => {\r\n                                            if (res.data.bioWaitForProcess.Status.code === 200) {\r\n                                                document.querySelector('.preview .loading').classList.remove('d-none');\r\n                                                this.setState({ ...this.state, showLoader: true, CompileButton: true })\r\n                                            }\r\n\r\n                                        })\r\n                                            .catch((err) => this.setState({ ...this.state, errorMessage: \"There is something wrong happened, please try again later\" }));\r\n                                    }\r\n                                }}\r\n                                variant=\"contained\"\r\n                            >Compile\r\n                            </Button>\r\n                        </Col>\r\n                        {\r\n                            (this.state.bio.video) ?\r\n                                // show merged video\r\n                                <Modal\r\n                                    size=\"lg\"\r\n                                    aria-labelledby=\"contained-modal-title-vcenter pr-0\"\r\n                                    centered\r\n                                    className=\"row m-0 modal-video\"\r\n                                    show={this.state.compiledVideo}\r\n                                    onHide={handelCloseCompiledVideo}>\r\n                                    <Col xs={12} className=\"p-0\">\r\n                                        <Modal.Body className=\"p-0 bg-white rounded border-0\">\r\n                                            <Col xs={12} className=\"p-0 bg-black rounded\">\r\n                                                <video controls autoPlay  title={this.state.bio.title} src={this.state.bio.video.url} className='iframe-sm' width=\"100%\" style={{maxHeight :'33rem'}}></video>\r\n                                            </Col>\r\n                                            <Col xs={12} className=\"row m-0 pb-3 pt-3\">\r\n                                                <Col md=\"7\" xs=\"6\" className=\"d-inline-block p-0 text-left order-sm-1 order-1\">\r\n                                                    <Button\r\n                                                        size=\"large\"\r\n                                                        className=\"btn-white-outline pr-5 pl-5 preview-back\"\r\n                                                        variant=\"contained\"\r\n                                                        onClick={handelCloseCompiledVideo}\r\n                                                    >Close</Button>\r\n                                                </Col>\r\n                                                <Col md=\"3\" xs=\"12\"\r\n                                                    className=\"d-inline-block   text-right text-responsive-center  order-sm-2  order-3 mt-3-responsive\">\r\n                                                    <Button\r\n                                                        size=\"large\"\r\n                                                        className=\"btn-white-outline pr-3 pl-3 mr-3-responsive\"\r\n                                                        onClick={e => {\r\n                                                            this.props.draft({\r\n                                                                variables: {\r\n                                                                    \"bio_id\": this.state.bio.id\r\n                                                                }\r\n                                                            }).then((data) => {\r\n                                                                if (data) {\r\n                                                                    this.props.history.push({\r\n                                                                        pathname: '/Visumes',\r\n                                                                    })\r\n                                                                }\r\n\r\n                                                            }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Check your internet connection\" }));\r\n                                                        }}\r\n                                                        variant=\"contained\">\r\n                                                        Save as Draft\r\n                                                </Button>\r\n                                                </Col>\r\n                                                <Col md=\"2\" xs=\"6\" className=\"d-inline-block p-0   text-right  order-sm-3 order-2\">\r\n                                                    <Button\r\n                                                        size=\"large\"\r\n                                                        className=\"btn-orange-gradiant pr-1 pl-1 publish w-100 w-xs-75\"\r\n                                                        onClick={e => {\r\n                                                            let id = this.state.bio.id\r\n                                                            if (id) {\r\n                                                                this.props.publish({\r\n                                                                    variables: {\r\n                                                                        \"bio_id\": this.state.bio.id\r\n                                                                    }\r\n                                                                }).then((data) => {\r\n                                                                    // make sure that camera is stopped \r\n                                                                    var video = document.querySelector('video');\r\n                                                                    const stream = video.srcObject;\r\n                                                                    if (stream) {\r\n                                                                        const tracks = stream.getTracks();\r\n                                                                        tracks.forEach(function (track) {\r\n                                                                            track.stop();\r\n                                                                            video.srcObject = null;\r\n                                                                        });\r\n                                                                    }\r\n                                                                    if (data) {\r\n                                                                        this.props.history.push({\r\n                                                                            pathname: '/Visumes',\r\n                                                                        })\r\n                                                                    }\r\n                                                                }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Check your internet connection\" }));\r\n                                                            }\r\n                                                        }}\r\n                                                        variant=\"contained\"\r\n                                                    >{this.state.status || \"Publish\"}\r\n                                                    </Button>\r\n                                                </Col>\r\n                                            </Col>\r\n                                        </Modal.Body>\r\n                                    </Col>\r\n                                </Modal>\r\n                                : ''}\r\n                    </div>\r\n\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\nconst GET_BIOGRAPHIES = gql`\r\nquery($id : Int !){\r\n    bioYours(id: $id){\r\n        id\r\n        title\r\n        brif\r\n        is_Draft\r\n        created_at\r\n        updated_at\r\n        questions\r\n        { id    \r\n          title\r\n          maximum_time\r\n          video{\r\n            url\r\n            duration\r\n            frame{\r\n              url\r\n            }\r\n          }\r\n        }\r\n    }\r\n  }\r\n`\r\nconst DELETE_QUESTION = gql`\r\nmutation($question_id :  Int ! ){\r\n    questionDelete(Inputs:{\r\n      id: $question_id\r\n    }){\r\n      Status{\r\n        code\r\n      }\r\n    }\r\n  }\r\n  \r\n`\r\nconst PUBLISH = gql`\r\nmutation($bio_id :  Int ! ){\r\n    bioCompleted(Inputs:{\r\n      id: $bio_id\r\n    }){\r\n      Status{\r\n        code\r\n      }\r\n    }\r\n  }\r\n`\r\nconst DRAFT = gql`\r\nmutation($bio_id : Int !){\r\n    bioDraftToggle(Inputs : {\r\n      id : $bio_id\r\n    }){\r\n      Status{\r\n        code\r\n      }\r\n      bio{\r\n        id\r\n      }\r\n    }\r\n  }\r\n`\r\nconst COMPILE_VIDEO = gql`\r\n    mutation($bio_id : Int !){\r\n        bioWaitForProcess(Inputs:{\r\n        id : $bio_id\r\n        }){\r\n        Status{\r\n            code\r\n        }\r\n        bio{\r\n            id\r\n        }\r\n        }\r\n    }\r\n`\r\n\r\n\r\nexport default compose(\r\n    graphql(GET_BIOGRAPHIES, {\r\n        name: \"get_biographies\"\r\n    }),\r\n    graphql(DELETE_QUESTION, {\r\n        name: \"delete_question\"\r\n    }),\r\n    graphql(PUBLISH, {\r\n        name: \"publish\"\r\n    }),\r\n    graphql(DRAFT, {\r\n        name: \"draft\"\r\n    }),\r\n    graphql(COMPILE_VIDEO, {\r\n        name: \"compile_video\"\r\n    }),\r\n)(withRouter(Preview));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { graphql } from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { gql } from 'apollo-boost';\r\n\r\n// styles , icons and images\r\nimport { Container, Row, Col, Modal } from 'react-bootstrap';\r\nimport { InputLabel, IconButton, Button, InputBase, Typography } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport './question.style.css';\r\nimport more from './images/more.png';\r\n\r\n// this component represents the questions part of the create and edit visume page\r\n\r\nclass Questions extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            range: \"35\",\r\n            questionInputs: [],\r\n            questions: [],\r\n            inputs: [],\r\n            yourQuetions: \"\",\r\n            show: false,\r\n            toggle: false,\r\n            deleted: false\r\n\r\n        }\r\n    }\r\n    componentWillReceiveProps(props) {\r\n        this.setState({ ...this.state, questions: props.data.questions })\r\n        let list = document.getElementById(\"left-tabs-example\");\r\n        let nav_items = list.querySelectorAll(\".nav-item a\");\r\n        for (let i = 0; i < nav_items.length; i++) {\r\n            nav_items[i].setAttribute(\"aria-disabled\", \"true\")\r\n            nav_items[i].classList.add(\"disabled\")\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n        let add = document.querySelector(\".custom-input button\");\r\n\r\n        // plus icon on click\r\n        add.addEventListener(\"click\", function () {\r\n            this.setState({ ...this.state, errorMessage: '' });\r\n            let allQuestions = document.querySelectorAll('.question-title');\r\n            let flag;\r\n            for (let i = 0; i < allQuestions.length; i++) {\r\n                if (allQuestions[i].textContent === this.state.title) {\r\n                    flag = 0;\r\n                }\r\n            }\r\n            if (this.state.title.length < 3 || this.state.title.length > 191) {\r\n                this.setState({ ...this.state, errorMessage: 'This field must be between 3 and 191 characters long.' });\r\n                return false;\r\n            }\r\n            else if (flag === 0) {\r\n                this.setState({ ...this.state, errorMessage: 'This field  is already exist' });\r\n                return false;\r\n            }\r\n            else if (allQuestions.length >= 5) {\r\n                this.setState({ ...this.state, errorMessage: 'The limit of questions for each Visume is 5.' });\r\n                return false;\r\n            }\r\n            else {\r\n                this.setState({ ...this.state, errorMessage: '' });\r\n                // make a list \r\n                let inputValue = document.querySelector(\".custom-input input\").value;\r\n                let questionInputs = { title: inputValue, maximum_time: this.state.range, minimum_time: 0, mandatory: true, ordering: 0 }\r\n                this.setState({ ...this.state, questions: [...this.state.questions, questionInputs], title: \"\", range: \"35\" });\r\n                return true;\r\n            }\r\n        }.bind(this));\r\n\r\n    }\r\n\r\n    handleBackBtn = () => {\r\n        let list = document.getElementById(\"left-tabs-example\");\r\n        let nav_items = list.querySelectorAll(\".nav-item a\");\r\n        nav_items[0].click();\r\n    }\r\n    handleClick = (e) => {\r\n        let elem = e.currentTarget;\r\n        if (elem.querySelector('.custom-list')) {\r\n            elem.querySelector('.custom-list').classList.toggle('d-none')\r\n        }\r\n    }\r\n\r\n    // **** handle removeChild issue *** //\r\n    // (Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.) \r\n    HandleRemoveIssue = () => {\r\n        if (typeof Node === 'function' && Node.prototype) {\r\n            const originalRemoveChild = Node.prototype.removeChild;\r\n            Node.prototype.removeChild = function (child) {\r\n                if (child.parentNode !== this) {\r\n                    if (console) {\r\n                        console.error('Cannot remove a child from a different parent', child, this);\r\n                    }\r\n                    return child;\r\n                }\r\n                return originalRemoveChild.apply(this, arguments);\r\n            }\r\n\r\n            const originalInsertBefore = Node.prototype.insertBefore;\r\n            Node.prototype.insertBefore = function (newNode, referenceNode) {\r\n                if (referenceNode && referenceNode.parentNode !== this) {\r\n                    if (console) {\r\n                        console.error('Cannot insert before a reference node from a different parent', referenceNode, this);\r\n                    }\r\n                    return newNode;\r\n                }\r\n                return originalInsertBefore.apply(this, arguments);\r\n            }\r\n        }\r\n    }// end of handle code\r\n\r\n    handleDelete = (e) => {\r\n        e.currentTarget.closest('.questionParent').classList.add('v-hidden');\r\n        document.querySelector('.custom-ol .v-hidden').remove();\r\n    }\r\n    handleEdit = (e) => {\r\n        // get index of question you want to edit\r\n        let items = document.querySelectorAll(\".custom-ol .questionParent .question-title p\"),\r\n            tab = [], index;\r\n        for (var i = 0; i < items.length; i++) {\r\n            tab.push(items[i].innerHTML);\r\n        }\r\n        index = tab.indexOf(e.currentTarget.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector('.question-title').textContent);\r\n        let questionToEdit = e.currentTarget.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector('.question-title').textContent;\r\n        this.setState({ ...this.state, questionToEdit: questionToEdit, questionAfterEdit: questionToEdit, indexOfEdit: index, show: true })\r\n\r\n    }\r\n    render() {\r\n\r\n        const handleChange = prop => event => {\r\n            this.setState({ ...this.state, [prop]: event.target.value });\r\n        };\r\n\r\n        const checkquestion = (listOfQuestions) => {\r\n            if (listOfQuestions.length < 1) {\r\n                this.setState({ ...this.state, errorMessage: 'You must enter at least one question' });\r\n                return false;\r\n\r\n            } else {\r\n                this.setState({ ...this.state, errorMessage: '' });\r\n                return true;\r\n            }\r\n        }\r\n        const handleClose = () => this.setState({ ...this.state, errorMessageEdit: '', show: false });\r\n        this.HandleRemoveIssue();\r\n\r\n\r\n        // the comment code is for : \r\n        //  the limit time of each question but it delayed .\r\n        return (\r\n            <div className=\"pb-3\">\r\n                <form onSubmit={e => {\r\n                    e.preventDefault();\r\n\r\n                    // get biography id \r\n                    let list = document.getElementById(\"left-tabs-example\");\r\n                    let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                    let bioId = nav_items[0].getAttribute(\"data-id\");\r\n\r\n                    // get list of questions and limits \r\n                    const listItems = document.querySelectorAll('.question-title');\r\n                    // const listLimit = document.querySelectorAll('.question-limit');\r\n\r\n                    let inputs = \"\", arrayOfQuestions = [];\r\n                    for (let i = 0; i < listItems.length; i++) {\r\n                        //let questionInputs = { title: listItems[i].textContent, maximum_time: listLimit[i].textContent, minimum_time: 0, mandatory: true, ordering: 0 }\r\n                        let questionInputs = { title: listItems[i].textContent, maximum_time: 60, minimum_time: 0, mandatory: true, ordering: 0 }\r\n                        let question = { id: listItems[i].getAttribute('data-id') }\r\n                        inputs = { question: (question.id) ? question : null, questionInputs: questionInputs }\r\n                        arrayOfQuestions.push(inputs);\r\n                    }\r\n\r\n                    if (checkquestion(arrayOfQuestions)) {\r\n                        // send mutation varaibles of bio/visume question\r\n                        this.props.createQuestions({\r\n                            variables: {\r\n                                bio_id: { id: bioId },\r\n                                Inputs: arrayOfQuestions\r\n                            }\r\n                        }).then((res) => {\r\n                            if (res.data.questionArray.Status.code === 200) {\r\n                                // go to next form  and make it not disabled !\r\n                                window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                let list = document.getElementById(\"left-tabs-example\");\r\n                                let nav_items = list.querySelectorAll(\".nav-item a\");\r\n                                nav_items[2].click();\r\n                            }\r\n                        }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Check your internet connection\" }));\r\n                    }\r\n                }}>\r\n                    <Container className=\"overview shadow border-rounded bg-white\">\r\n                        <Row>\r\n                            <Col className=\" border-bottom p-5 bg-light\" sm={12}>\r\n                                <div className=\"title\">\r\n                                    <h4 className=\"text-dark\">Questions</h4>\r\n                                    <p className=\"text-grey mb-0\">Add your questions that helps the employer to know you more</p>\r\n                                    <p className=\"text-grey mb-0\">(Your response to each question you create is limited to 1 minute. Your final Visume will not exceed 5 minutes in length ).</p>\r\n                                </div>\r\n                            </Col>\r\n                            <Col className=\"text-dark p-5\">\r\n                                <InputLabel htmlFor=\"title\">\r\n                                    Question Title<span className=\"text-danger\"> *</span>\r\n                                </InputLabel>\r\n                                <div className=\"custom-input mt-1\">\r\n                                    <InputBase\r\n                                        placeholder=\"Write your question title\"\r\n                                        onChange={handleChange('title')}\r\n                                        id=\"title\"\r\n                                        name=\"title\"\r\n                                        value={this.state.title}\r\n                                        className=\"w-90 pl-2\"\r\n                                    />\r\n                                    <IconButton color=\"primary\" className=\"offset-8\" aria-label=\"directions\">\r\n                                        <AddIcon />\r\n                                    </IconButton>\r\n                                </div>\r\n                                <Col xs={12} className=\"p-0 pb-4\">\r\n                                    <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.errorMessage}</Typography>\r\n                                </Col>\r\n                                {/* <div className=\"pt-3 pb-3\">\r\n                                    <Row>\r\n                                        <Col sm={7} xs={12} className=\"text-left\"> <label htmlFor=\"range\">Time limit ( second )*</label></Col>\r\n                                        <Col sm={5} xs={12} className=\"text-center\">\r\n                                            <input type=\"range\" id=\"range\" name=\"range\" min=\"10\" onChange={handleChange('range')} value={this.state.range} max=\"60\" />\r\n                                            <Row className=\"m-0 \">\r\n                                                <Col><span className=\"pr-1\">10 sec</span></Col>\r\n                                                <Col><span className=\"pl-3 pt-3\">{this.state.range} sec</span></Col>\r\n                                            </Row>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </div> */}\r\n                                <div><p className=\"mb-0\">Your Questions<span className=\"border-b-1\"></span></p></div>\r\n                                <div className=\" text-dark pt-2 pb-2\">\r\n                                    <ol className=\"w-100 pl-0 custom-ol\">\r\n                                        {(this.state.questions) ?\r\n                                            this.state.questions.map(input =>\r\n                                                <Row className=\"bg-lightgrey m-0 pt-2 pb-2 mt-1  questionParent\">\r\n                                                    <Col sm={1} xs={1} className=\"dots mr-3-responsive\">\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            className=\"more-btn\"\r\n                                                            onClick={this.handleClick}>\r\n                                                            <ul data-id={(input.id) ? input.id : ''} className=\"shadow custom-list d-none\">\r\n                                                                <li className=\"list-style-none p-0 text-center edit-option\">\r\n                                                                    <button\r\n                                                                        type=\"button\"\r\n                                                                        onClick={this.handleEdit}\r\n                                                                        className=\"bg-transparent border-0 w-100 pt-1 pb-1 pr-3 pl-3\" >\r\n                                                                        Edit\r\n                                                                    </button>\r\n                                                                </li>\r\n                                                                <li className=\"list-style-none text-center delete-option p-0\">\r\n                                                                    <button\r\n                                                                        type=\"button\"\r\n                                                                        onClick={this.handleDelete}\r\n                                                                        className=\"bg-transparent border-0 pt-1 pb-1 pr-3 pl-3\">Delete</button>\r\n                                                                </li>\r\n                                                            </ul>\r\n                                                            <img src={more} alt=\"more\" />\r\n                                                        </button>\r\n                                                    </Col>\r\n                                                    <Col xs={10} className=\"p-0\">\r\n                                                        <li className=\"w-100\">\r\n                                                            <Row className=\"m-0\">\r\n                                                                <Col xs={12} data-id={(input.id) ? input.id : ''} className=\"p-0 text-left question-title\"><p className=\"mb-0\">{input.title}</p></Col>\r\n                                                                {/* <Col sm={2} xs={3} className=\" text-right\"><p><span className=\"question-limit\">{input.maximum_time}</span> sec</p></Col> */}\r\n                                                            </Row>\r\n                                                        </li>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            ) : ''}\r\n                                        <Modal className=\"modal-edit row m-0 \" show={this.state.show} onHide={handleClose}>\r\n                                            <Col xs={12}>\r\n                                                <Modal.Header closeButton>\r\n                                                    <Modal.Title className=\"h6\">Edit Question</Modal.Title>\r\n                                                </Modal.Header>\r\n                                                <Modal.Body>\r\n                                                    <InputLabel htmlFor=\"title\">\r\n                                                        Question Title<span className=\"text-danger\"> *</span>\r\n                                                    </InputLabel>\r\n                                                    <div className=\"custom-input  mt-1 pl-2\">\r\n                                                        <InputBase\r\n                                                            className=\"inputToEdit w-100\"\r\n                                                            placeholder=\"Write your question title\"\r\n                                                            onChange={handleChange('questionAfterEdit')}\r\n                                                            id=\"title\"\r\n                                                            name=\"title\"\r\n                                                            defaultValue={this.state.questionToEdit}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <Col xs={12} className=\"p-0 pb-1\">\r\n                                                        <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.errorMessageEdit}</Typography>\r\n                                                    </Col>\r\n                                                    {/* <div className=\"pt-3 pb-3\">\r\n                                                <Row>\r\n                                                    <Col sm={6} xs={12} className=\"text-left\"> <label htmlFor=\"range\">Time limit ( second )*</label></Col>\r\n                                                    <Col sm={6} xs={12} className=\"text-center\">\r\n                                                        <input type=\"range\" id=\"range\" name=\"range\" className=\"rangeToEdit\" min=\"10\" onChange={handleChange('limitAfterEdit')} defaultValue={this.state.limitToEdit} max=\"60\" />\r\n                                                        <Row className=\"m-0 \">\r\n                                                            <Col><span className=\"pr-1\">10 sec</span></Col>\r\n                                                            <Col><span className=\"pl-3 pt-3\">{this.state.limitAfterEdit} sec</span></Col>\r\n                                                        </Row>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </div> */}\r\n                                                </Modal.Body>\r\n                                                <Modal.Footer className=\"custom\">\r\n                                                    <Button type=\"button\" size=\"small\" className=\"btn-orange-gradiant\" variant=\"contained\" onClick={() => {\r\n                                                        // validation of question\r\n                                                        let allQuestions = document.querySelectorAll('.question-title');\r\n                                                        let flag = 1;\r\n                                                        for (let i = 0; i < allQuestions.length; i++) {\r\n                                                            if (i !== this.state.indexOfEdit) {\r\n                                                                if (allQuestions[i].textContent === this.state.questionAfterEdit) {\r\n                                                                    flag = 0;\r\n                                                                }\r\n                                                            }\r\n                                                        }\r\n                                                        if (this.state.questionAfterEdit.length < 3 || this.state.questionAfterEdit.length > 191) {\r\n                                                            this.setState({ ...this.state, errorMessageEdit: 'This field must be between 3 and 191 characters long.' });\r\n                                                            return false;\r\n                                                        }\r\n                                                        else if (flag === 0) {\r\n                                                            this.setState({ ...this.state, errorMessageEdit: 'This field  is already exist' });\r\n                                                            return false;\r\n                                                        }\r\n                                                        else {\r\n                                                            this.setState({ ...this.state, errorMessageEdit: '' });\r\n                                                            // get the new value of question\r\n                                                            // get list of question in the list\r\n                                                            let newvalue = document.querySelector('.inputToEdit input').value;\r\n                                                            let allQuestions = document.querySelectorAll('.question-title');\r\n                                                            // get the new limit of question\r\n                                                            // get list of range in the list\r\n                                                            // let newLimitValue = document.querySelector('.rangeToEdit').value;\r\n                                                            // let allLimits = document.querySelectorAll('.question-limit');\r\n                                                            // edit the question and limit\r\n                                                            allQuestions[this.state.indexOfEdit].querySelector('p').innerHTML = newvalue;\r\n                                                            //allLimits[this.state.indexOfEdit].innerHTML = newLimitValue;\r\n                                                            handleClose();\r\n                                                        }\r\n                                                    }}>\r\n                                                        Save Changes\r\n                                                </Button>\r\n                                                </Modal.Footer>\r\n                                            </Col>\r\n                                        </Modal>\r\n                                    </ol>\r\n                                </div>\r\n                                <Col xs={12} className=\"pb-3\">\r\n                                    <Typography variant=\"subtitle1\" className=\"text-danger\">{this.state.ConnectionErorr}</Typography>\r\n                                </Col>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                    <div className=\"w-100\">\r\n                        <Col xs=\"6\" className=\"d-inline-block p-0 pt-4 text-left\">\r\n                            <Button type=\"button\" onClick={this.handleBackBtn} size=\"large\" className=\"btn-white-outline pr-5 pl-5\" variant=\"contained\" >Back</Button>\r\n                        </Col>\r\n                        <Col xs=\"6\" className=\"d-inline-block p-0 pt-4 text-right\">\r\n                            <Button type=\"submit\" size=\"large\" className=\"btn-orange-gradiant question-next pr-5 pl-5\" variant=\"contained\">Next</Button>\r\n                        </Col>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst CREATE_QUESTIONS = gql`\r\nmutation(\r\n    $bio_id : bioMethodInputs\r\n    $Inputs : [questionEdit!]\r\n) {\r\n    questionArray (\r\n        Inputs : {\r\n            bio    : $bio_id\r\n            Inputs : $Inputs\r\n        }\r\n    ) {\r\n        Status {\r\n            code\r\n            title\r\n            message\r\n            check\r\n        }\r\n        results {\r\n            code\r\n            title\r\n            message\r\n            check\r\n        }\r\n        bio{\r\n            title\r\n            questions{\r\n                id\r\n                title\r\n                maximum_time\r\n              }\r\n        }\r\n    }\r\n}\r\n`\r\nconst DELETE_QUESTION = gql`\r\nmutation($question_id :  Int ! ){\r\n    questionDelete(Inputs:{\r\n      id: $question_id\r\n    }){\r\n      Status{\r\n        code\r\n      }\r\n    }\r\n  }\r\n  \r\n`\r\n\r\nexport default compose(\r\n    graphql(CREATE_QUESTIONS, {\r\n        name: \"createQuestions\"\r\n    }),\r\n    graphql(DELETE_QUESTION, {\r\n        name: \"delete_question\"\r\n    })\r\n)(withRouter(Questions));","import React,{ Component } from 'react';\r\nimport Record from '../record/record.component';\r\nimport Overview from '../overview/overview.component';\r\nimport Preview from '../preview/preview.component';\r\nimport Questions from '../questions/question.component';\r\nimport Header from '../header/header.component'; \r\nimport Footer from '../footer/footer.component';\r\n\r\n// styles and icons\r\nimport { Row , Container , Col , Nav , Tab } from 'react-bootstrap';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport DescriptionIcon from '@material-ui/icons/Description';\r\nimport HelpIcon from '@material-ui/icons/Help';\r\nimport MovieIcon from '@material-ui/icons/Movie';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport './create-biography.style.css';\r\n\r\n// this component represents create visume/biography page\r\n\r\nexport default class CreateBiography extends Component{\r\n    constructor (props){\r\n        super(props);\r\n        this.state = {\r\n            updatedBio : ''\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        this.connect();\r\n        // get data from props in case of edit visume \r\n        if(this.props.location.state){\r\n            localStorage.setItem('updatedBio', JSON.stringify(this.props.location.state.data))\r\n            this.setState({ ...this.state, updatedBio:  JSON.parse(localStorage.getItem('updatedBio')) , status :this.props.location.state.status });\r\n        }\r\n        // get data from localstorage \r\n        else if (localStorage.getItem('updatedBio')){\r\n            this.setState({ ...this.state, updatedBio:  JSON.parse(localStorage.getItem('updatedBio')) , status : \"Save Changes\"});\r\n        }\r\n        // make all left links disabled \r\n        let list = document.getElementById(\"left-tabs-example\");\r\n        let nav_items = list.querySelectorAll(\".nav-item a\");\r\n        window.setInterval(function () {\r\n            for(let i = 0 ; i < nav_items.length ; i++){\r\n            nav_items[i].setAttribute(\"aria-disabled\",\"true\")\r\n            nav_items[i].classList.add(\"disabled\")\r\n            } \r\n        },100)        \r\n    }\r\n    timeout = 250;\r\n    // websocket \r\n    connect = () => {\r\n        var ws = new WebSocket(\"wss://spreago.black-squares.com:6001/app/websocket?protocol=7&client=js&version=4.3.1&flash=false\");\r\n        let that = this; // cache the this\r\n        var connectInterval;\r\n\r\n        // websocket onopen event listener\r\n        ws.onopen = () => {\r\n            ws.send('{\"event\":\"pusher:subscribe\",\"data\":{\"channel\":\"bio\"}}');\r\n            ws.send('{\"event\":\"pusher:subscribe\",\"data\":{\"channel\":\"video\"}}');\r\n            that.timeout = 250; // reset timer to 250 on open of websocket connection \r\n            clearTimeout(connectInterval); // clear Interval on on open of websocket connection\r\n        };\r\n        // websocket onclose event listener\r\n        ws.onclose = e => {\r\n            console.log(\r\n                `Socket is closed. Reconnect will be attempted in ${Math.min(\r\n                    10000 / 1000,\r\n                    (that.timeout + that.timeout) / 1000\r\n                )} second.`,\r\n                e.reason\r\n            );\r\n\r\n            that.timeout = that.timeout + that.timeout; //increment retry interval\r\n            connectInterval = setTimeout(this.check, Math.min(10000, that.timeout)); //call check function after timeout\r\n        };\r\n        // websocket message \r\n        let user_id = JSON.parse(localStorage.getItem('jwt')).user.id || localStorage.getItem('jwt').user.id\r\n        ws.onmessage = evt => { \r\n           let newData = JSON.parse(evt.data);\r\n\r\n            if(newData.event === \"bioEdit\"){\r\n                let newBiography = JSON.parse(newData.data).bio;\r\n                if(newBiography.user_id === user_id){\r\n                    localStorage.setItem('updatedBio', JSON.stringify(newBiography))\r\n                    that.setState({ ...that.state, updatedBio:  JSON.parse(localStorage.getItem('updatedBio')) });\r\n                }\r\n            }\r\n            else if(newData.event === \"bioUnderProcess\"){\r\n                let bioOnProcess = JSON.parse(newData.data).bio;\r\n                if(bioOnProcess.user_id === user_id){\r\n                   if(bioOnProcess.id === this.state.updatedBio.id){\r\n                   }\r\n                }\r\n            }\r\n            else if(newData.event === \"bioProcessDone\"){\r\n                let bioProcessDone = JSON.parse(newData.data).bio;\r\n                if(bioProcessDone.user_id === user_id){\r\n                   if(bioProcessDone.id === this.state.updatedBio.id){\r\n                      localStorage.setItem('updatedBio', JSON.stringify(bioProcessDone))\r\n                      that.setState({ ...that.state, updatedBio:  bioProcessDone});  \r\n                   }\r\n                }\r\n            }\r\n        }\r\n        // websocket onerror event listener\r\n        ws.onerror = err => {\r\n            console.error(\r\n                \"Socket encountered error: \",\r\n                err.message,\r\n                \"Closing socket\"\r\n            );\r\n            ws.close();\r\n        };\r\n    };\r\n\r\n    /**\r\n     * utilited by the @function connect to check if the connection is close, if so attempts to reconnect\r\n     */\r\n    check = () => {\r\n        const { ws } = this.state;\r\n        if (!ws || ws.readyState === WebSocket.CLOSED) this.connect(); //check if websocket instance is closed, if so call `connect` function.\r\n    };\r\n    render(){          \r\n       return(\r\n            <div className=\"createBiography\">\r\n            <Header/>\r\n            <Container  className=\"pt-4 container-fluid-responsive m-h-100\">\r\n                <Tab.Container  defaultActiveKey=\"first\">\r\n                        <Row className=\"m-0 pt-xs-4\">\r\n                            <Col sm={3}>\r\n                                    <Nav variant=\"pills\" id=\"left-tabs-example\" className=\"flex-column\">\r\n                                        <Nav.Item>\r\n                                            <Nav.Link eventKey=\"first\" className=\"row m-0\">\r\n                                                    <Row className=\"m-0\">\r\n                                                        <Col xs={3} ><DescriptionIcon/></Col>\r\n                                                        <Col xs={5} className=\"p-0 pt-1\">Overview </Col>\r\n                                                        <Col xs={4} className=\"text-right\"><CheckCircleIcon/></Col>\r\n                                                    </Row>\r\n                                            </Nav.Link>\r\n                                        </Nav.Item>\r\n                                        <Nav.Item>\r\n                                            <Nav.Link eventKey=\"second\"  >\r\n                                                <Row className=\"m-0\">\r\n                                                        <Col xs={3} ><HelpIcon/></Col>\r\n                                                        <Col xs={5} className=\"p-0 pt-1\">Question </Col>\r\n                                                        <Col xs={4} className=\"text-right\"><CheckCircleIcon/></Col>\r\n                                                    </Row>\r\n                                                </Nav.Link>\r\n                                        </Nav.Item>\r\n                                        <Nav.Item>\r\n                                            <Nav.Link eventKey=\"third\">\r\n                                                <Row className=\"m-0\">\r\n                                                        <Col xs={3} ><MovieIcon/></Col>\r\n                                                        <Col xs={5} className=\"p-0 pt-1\">Record </Col>\r\n                                                        <Col xs={4} className=\"text-right\"><CheckCircleIcon/></Col>\r\n                                                </Row>\r\n                                                </Nav.Link>\r\n                                        </Nav.Item>\r\n                                        <Nav.Item>\r\n                                            <Nav.Link eventKey=\"forth\">\r\n                                                <Row className=\"m-0\">\r\n                                                        <Col xs={3} ><CheckIcon/></Col>\r\n                                                        <Col xs={5} className=\"p-0 pt-1\"> Review & publish </Col>\r\n                                                        <Col xs={4} className=\"text-right\"><CheckCircleIcon/></Col>\r\n                                                    </Row>\r\n                                                </Nav.Link>\r\n                                        </Nav.Item>\r\n                                    </Nav>\r\n                                </Col>\r\n                                <Col sm={9} id=\"tab-content-container\">\r\n                                    <Tab.Content>\r\n                                        <Tab.Pane eventKey=\"first\">\r\n                                           <Overview data={this.state.updatedBio} status={this.state.status}/>\r\n                                        </Tab.Pane>\r\n                                        <Tab.Pane eventKey=\"second\" >\r\n                                            <Questions data={this.state.updatedBio} status={this.state.status}/>\r\n                                        </Tab.Pane>\r\n                                        <Tab.Pane eventKey=\"third\" >\r\n                                            {/* <Record data={this.state.updatedBio} videoStatus={this.state.videoStatus} status={this.state.status}/> */}\r\n                                            <Record data={this.state.updatedBio}  status={this.state.status}/>\r\n                                        </Tab.Pane>\r\n                                        <Tab.Pane eventKey=\"forth\" >\r\n                                            <Preview data={this.state.updatedBio} status={this.state.status}/>\r\n                                        </Tab.Pane>\r\n                                    </Tab.Content>\r\n                                </Col>\r\n                                </Row>\r\n                </Tab.Container>\r\n            </Container>\r\n            <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Container } from 'react-bootstrap';\r\n\r\nimport './pagination.style.css';\r\n\r\nexport default class Pagination extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {\r\n            currentPage: null,\r\n            pageCount: null,\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        const startingPage = this.props.startingPage\r\n            ? this.props.startingPage\r\n            : 1;\r\n        const data = this.props.card;\r\n        // console.log(this.props);\r\n        const pageSize = this.props.pageSize;\r\n        let pageCount = parseInt(data.length / pageSize);\r\n        if (data.length % pageSize > 0) {\r\n            pageCount++;\r\n        }\r\n        this.setState({\r\n            currentPage: startingPage,\r\n            pageCount: pageCount,\r\n        });\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        const startingPage = nextProps.startingPage\r\n            ? nextProps.startingPage\r\n            : 1;\r\n        const data = nextProps.card;\r\n        // console.log(nextProps);\r\n        const pageSize = nextProps.pageSize;\r\n        let pageCount = parseInt(data.length / pageSize);\r\n        if (data.length % pageSize > 0) {\r\n            pageCount++;\r\n        }\r\n        this.setState({\r\n            currentPage: startingPage,\r\n            pageCount: pageCount,\r\n        });\r\n    }\r\n    setCurrentPage(num) {\r\n        this.setState({ currentPage: num });\r\n    }\r\n\r\n    createControls() {\r\n        let controls = [];\r\n        const pageCount = this.state.pageCount;\r\n        for (let i = 1; i <= pageCount; i++) {\r\n            const baseClassName = 'pagination-controls__button';\r\n            const activeClassName = i === this.state.currentPage ? `${baseClassName}--active` : '';\r\n            controls.push(\r\n                <div\r\n                    className={`${baseClassName} ${activeClassName}`}\r\n                    onClick={() => this.setCurrentPage(i)}\r\n                >\r\n                    {i}\r\n                </div>\r\n            );\r\n        }\r\n        return controls;\r\n    }\r\n    createPaginatedData() {\r\n        const data = this.props.card;\r\n        const pageSize = this.props.pageSize;\r\n        const currentPage = this.state.currentPage;\r\n        const upperLimit = currentPage * pageSize;\r\n        const dataSlice = data.slice((upperLimit - pageSize), upperLimit);\r\n        return dataSlice;\r\n    }\r\n    render() {\r\n        return (\r\n            <Container>\r\n                <div className='pagination text-center'>\r\n                    <div className=\"w-100\">\r\n                        <div className='pagination-results'>\r\n                            {React.cloneElement(this.props.children, { data: this.createPaginatedData() })}\r\n                        </div>\r\n                        <div className='text-center w-100 mb-5  pt-3 pb-3'>\r\n                            <div className='pagination-controls'>\r\n                                {this.createControls()}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\nPagination.defaultProps = {\r\n    pageSize: 9,\r\n    startingPage: 1\r\n};","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { graphql } from 'react-apollo';\r\nimport * as compose from 'lodash.flowright';\r\nimport { gql } from 'apollo-boost';\r\nimport { Row, Col, Card, Modal } from 'react-bootstrap';\r\nimport { Paper, Button, Fab, Tooltip } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// styles , icons and images\r\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\r\nimport dots from '../record/images/more.png';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport CodeSharpIcon from '@material-ui/icons/CodeSharp';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport {\r\n    EmailShareButton, FacebookShareButton, LinkedinShareButton,\r\n    WhatsappShareButton, FacebookIcon, EmailIcon, LinkedinIcon, WhatsappIcon,\r\n} from 'react-share';\r\n\r\nimport img from '../../images/image-place.png';\r\n\r\n// this component represents the video card in visumes/biographies page  \r\n\r\nclass CardBiography extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            copy: 'Copy'\r\n        }\r\n    }\r\n    componentDidMount() {\r\n    }\r\n\r\n    handleClose = () => this.setState({ ...this.state, show: false });\r\n    handleShow = () => this.setState({ ...this.state, show: true });\r\n    handleCloseDeleteModal = () => { this.setState({ ...this.state, showDeleteModal: false }) }\r\n    handleCloseShareModal = () => { this.setState({ ...this.state, showShareModal: false, copy: \"Copy\" }) }\r\n    handleClick = (e) => {\r\n        let elem = e.currentTarget;\r\n        if (elem.querySelector('.custom-list')) {\r\n            elem.querySelector('.custom-list').classList.toggle('d-none')\r\n        }\r\n    }\r\n    render() {\r\n        if (!this.props.data[0]) {\r\n            return (\r\n                <Row className=\"m-0 p-3 pt-4\">\r\n                    <Col className=\"text-center text-grey\" sm={12}>\r\n                        <h5>You have no Visumes</h5>\r\n                    </Col>\r\n                </Row>\r\n            )\r\n        }\r\n        else {\r\n\r\n            return (\r\n                <Row className=\"m-0 p-3 pt-4 \">\r\n                    {\r\n                        this.props.data.map(bio => {\r\n                            return (\r\n                                <Col className=\"p-3 \" md='4'>\r\n                                    <Card className=\"text-dark border-0 biographies\">\r\n                                        {\r\n                                            (bio.video) ?\r\n                                                <Paper elevation={3} className=\"play-icon-container bg-black rounded\">\r\n                                                    <button type=\"button\"\r\n                                                        className=\"bg-transparent border-0 p-0 play-icon-container\"\r\n                                                        onClick={e => {\r\n                                                            this.setState({ ...this.state, bioSelected: bio, show: true })\r\n                                                        }}>\r\n                                                        <Card.Img className=\"\" src={bio.video.frame.url} style={{ maxHeight: \"7rem\" }} alt=\"Card image\" />\r\n\r\n                                                        <div className=\"text-white play-icon row m-0 align-items-center\">\r\n                                                            <PlayCircleFilledIcon className=\"col\" style={{ fontSize: '50px' }} />\r\n                                                        </div>\r\n                                                    </button>\r\n                                                </Paper>\r\n                                                :\r\n                                                <Paper elevation={3} >\r\n                                                    <Card.Img className=\"\" src={img} style={{ maxHeight: \"7rem\" }} alt=\"Card image\" />\r\n                                                </Paper>\r\n                                        }\r\n                                        <Row className=\"m-0\">\r\n                                            <Col xs={10} className=\"text-left p-0 bold mt-3\">{bio.title}</Col>\r\n                                            <Col xs={2} className=\"text-right p-0 bold\">\r\n                                                <button\r\n                                                    className=\"dots-btn offset-3\"\r\n                                                    onClick={this.handleClick}>\r\n                                                    <p className=\"mb-0 mt-1 font-21\">...</p>\r\n                                                    <ul className=\"shadow custom-list custom-position d-none\">\r\n                                                        <li className=\"list-style-none text-left\">\r\n                                                            <Link to={{\r\n                                                                pathname: '/createVisume',\r\n                                                                state: {\r\n                                                                    data: bio,\r\n                                                                    status: \"Save Changes\"\r\n                                                                }}}>\r\n                                                                <button\r\n                                                                    className=\"bg-transparent border-0 p-0\"\r\n                                                                    type=\"button\">\r\n                                                                    <span className=\"pr-1\"><EditIcon style={{ fontSize: \"1rem\" }} /></span> Edit Visume</button>\r\n                                                            </Link>\r\n                                                        </li>\r\n                                                        <li className=\"list-style-none \">\r\n                                                            <button\r\n                                                                className=\"bg-transparent border-0 p-0 w-100 text-left\"\r\n                                                                type=\"button\"\r\n                                                                onClick={e => {\r\n                                                                    this.setState({ ...this.state, bioSelected: bio, showDeleteModal: true })\r\n                                                                }}>\r\n                                                                <span className=\"pr-2\"><DeleteIcon style={{ fontSize: \"1rem\" }} /></span>Delete </button>\r\n                                                        </li>\r\n                                                        <li className=\"list-style-none \">\r\n                                                            {(bio.video) ?\r\n                                                                <button\r\n                                                                    className=\"bg-transparent border-0 p-0 w-100 text-left\"\r\n                                                                    type=\"button\"\r\n                                                                    onClick={e => {\r\n                                                                        let link = bio.video.url;\r\n                                                                        this.setState({ ...this.state, shareLink: link, showShareModal: true, copy: \"Copy\" })\r\n                                                                    }}>\r\n                                                                    <span className=\"pr-2\"><ShareIcon style={{ fontSize: \"1rem\" }} /></span>Share </button>\r\n                                                                : <button disabled\r\n                                                                    className=\"bg-transparent border-0 p-0 w-100 text-left\"\r\n                                                                    type=\"button\">\r\n                                                                    <span className=\"pr-2\"><ShareIcon style={{ fontSize: \"1rem\" }} /></span>Share </button>\r\n                                                            }\r\n                                                        </li>\r\n                                                    </ul>\r\n                                                </button>\r\n                                            </Col>\r\n                                        </Row>\r\n                                        <Row className=\"m-0 pt-1  text-grey\">\r\n                                            {/* <Col xs={9} className=\"text-left p-0\"><span className=\"text-orange\">{bio.speciality.name_en} </span><br />{(bio.questions[0].video)?bio.questions[0].video.created_at.substring(0, 10): ''}</Col>\r\n                                            <Col xs={3} className=\"text-right p-0\">{bio.questions[0].maximum_time} Sec</Col> */}\r\n                                        </Row>\r\n                                    </Card>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                    {\r\n                        //  video modal\r\n                        (this.state.bioSelected) ?\r\n                            <Modal\r\n                                size=\"lg\"\r\n                                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                                centered\r\n                                className=\"row m-0 modal-video pr-0 biographies\"\r\n                                show={this.state.show}\r\n                                onHide={this.handleClose}>\r\n                                <Col xs={12} className=\"p-0\">\r\n                                    <Modal.Body className=\"row m-0 p-0  bg-white rounded border-0\">\r\n                                        <Col xs={11} className=\"text-left p-0 bold p-2 pt-3 pb-2 captialize\">\r\n                                            <h6>{this.state.bioSelected.title}</h6>\r\n                                        </Col>\r\n                                        <Col xs={1} className=\" text-right pl-0  pr-2 pt-3 pb-3  \">\r\n                                            <button\r\n                                                className=\"dots-btn offset-3\"\r\n                                                onClick={this.handleClick}>\r\n                                                <img src={dots} alt=\"dots\" />\r\n                                                <ul className=\"shadow custom-list  d-none\">\r\n                                                    <li className=\"list-style-none text-left\">\r\n                                                        <Link to={{\r\n                                                            pathname: '/createVisume',\r\n                                                            state: {\r\n                                                                data: this.state.bioSelected,\r\n                                                                status: \"Save Changes\"\r\n                                                            }\r\n                                                        }}>\r\n                                                            <button\r\n                                                                className=\"bg-transparent border-0 p-0\"\r\n                                                                type=\"button\">\r\n                                                                <span className=\"pr-1\"><EditIcon style={{ fontSize: \"1rem\" }} /></span> Edit Visume</button>\r\n                                                        </Link>\r\n                                                    </li>\r\n                                                    <li className=\"list-style-none \">\r\n                                                        <button\r\n                                                            className=\"bg-transparent border-0 p-0 w-100 text-left\"\r\n                                                            type=\"button\"\r\n                                                            onClick={e => {\r\n                                                                this.setState({ ...this.state, bioSelected: this.state.bioSelected, showDeleteModal: true })\r\n                                                            }}>\r\n                                                            <span className=\"pr-2\"><DeleteIcon style={{ fontSize: \"1rem\" }} /></span>Delete </button></li>\r\n                                                    <li className=\"list-style-none \">\r\n                                                        <button\r\n                                                            className=\"bg-transparent border-0 p-0 w-100 text-left\"\r\n                                                            type=\"button\"\r\n                                                            onClick={e => {\r\n                                                                let link = this.state.bioSelected.video.url;\r\n                                                                this.setState({ ...this.state, shareLink: link, showShareModal: true, copy: \"Copy\" })\r\n                                                            }}>\r\n                                                            <span className=\"pr-2\"><ShareIcon style={{ fontSize: \"1rem\" }} /></span>Share </button>\r\n                                                    </li>\r\n                                                </ul>\r\n                                            </button>\r\n                                        </Col>\r\n                                        <Col xs={12} className=\"p-0 order-sm-4 order-2 bg-black rounded\">\r\n                                            <video controls autoPlay className=\"custom-iframe\" title={this.state.bioSelected.title} src={(this.state.bioSelected.video) ? this.state.bioSelected.video.url : ''} width=\"100%\" style={{maxHeight :'33rem'}}></video>\r\n                                        </Col>\r\n                                    </Modal.Body>\r\n                                </Col>\r\n                            </Modal>\r\n                            : ''\r\n                    }\r\n                    {/* delete modal */}\r\n                    <Modal\r\n                        size=\"md\"\r\n                        centered\r\n                        className=\"row m-0 custom-modal-delete pr-0\"\r\n                        show={this.state.showDeleteModal}\r\n                        onHide={this.handleCloseDeleteModal}>\r\n                        <Col xs={12} className=\"p-0\">\r\n                            <Modal.Body className=\"p-1\">\r\n                                <h6>Are you sure you want to delete this Visume ?</h6>\r\n                            </Modal.Body>\r\n                            <Modal.Footer className=\"custom pt-3 pl-0 pr-0 pb-0\">\r\n                                <Row className=\"m-0 w-100\">\r\n                                    <Col xs={6} className=\"text-left p-0\">\r\n                                        <Button\r\n                                            type=\"button\"\r\n                                            size=\"large\"\r\n                                            className=\"btn-white-outline  pr-5 pl-5\" variant=\"contained\"\r\n                                            onClick={() => {\r\n                                                this.handleCloseDeleteModal();\r\n                                            }}>\r\n                                            No\r\n                                            </Button>\r\n                                    </Col>\r\n                                    <Col xs={6} className=\"text-right p-0\">\r\n                                        <Button\r\n                                            type=\"button\"\r\n                                            size=\"large\"\r\n                                            className=\"btn-orange-gradiant pr-4 pl-4\" variant=\"contained\"\r\n                                            onClick={() => {\r\n                                                this.props.delete_bio({\r\n                                                    variables: {\r\n                                                        \"bio_id\": this.state.bioSelected.id\r\n                                                    }\r\n                                                }).then((res) => {\r\n                                                    if (res.data.delete_bio.Status.code === 200) {\r\n\r\n                                                    }\r\n                                                }).catch((err) => this.setState({ ...this.state, ConnectionErorr: \"Check your internet connection\" }));\r\n                                                this.handleClose();\r\n                                                this.handleCloseDeleteModal();\r\n\r\n                                            }}>\r\n                                            Yes, Delete\r\n                                            </Button>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Modal.Footer>\r\n                        </Col>\r\n                    </Modal>\r\n                    {/* share modal */}\r\n                    <Modal\r\n                        size=\"md\"\r\n                        centered\r\n                        rounded\r\n                        className=\"row m-0  pr-0\"\r\n                        show={this.state.showShareModal}\r\n                        onHide={this.handleCloseShareModal}>\r\n                        <Col xs={12} className=\"p-0\">\r\n                            <Modal.Header closeButton className=\"pr-3 pl-3 pt-2 pb-2\">\r\n                                <Modal.Title className='h6'>Share Visume</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body className=\"pr-3 pl-3 pt-2 pb-2 text-center\">\r\n                                <Tooltip placement=\"left\" title={this.state.copy} aria-label={this.state.copy}>\r\n                                    <Fab size=\"small\" className=\"custom-fab m-1\">\r\n                                        <CopyToClipboard\r\n                                            onCopy={() => this.setState({ ...this.state, copy: \"Copied\", showShareModal: false })}\r\n                                            text={this.state.shareLink}>\r\n                                            <CodeSharpIcon size={32} />\r\n                                        </CopyToClipboard>\r\n                                    </Fab>\r\n                                </Tooltip>\r\n                                <EmailShareButton className=\"m-1\" url={this.state.shareLink || ''}><EmailIcon size={40} round={true} /></EmailShareButton>\r\n                                <LinkedinShareButton className=\"m-1\" url={this.state.shareLink || ''}><LinkedinIcon size={40} round={true} /></LinkedinShareButton>\r\n                                <FacebookShareButton className=\"m-1\" url={this.state.shareLink || ''}><FacebookIcon size={40} round={true} /></FacebookShareButton>\r\n                                <WhatsappShareButton className=\"m-1\" url={this.state.shareLink || ''}><WhatsappIcon size={40} round={true} /></WhatsappShareButton>\r\n                            </Modal.Body>\r\n                        </Col>\r\n                    </Modal>\r\n                </Row>\r\n            )\r\n        }\r\n    }\r\n}\r\nconst DELETE_BIO = gql`\r\nmutation($bio_id : Int !){\r\n    bioDelete(Inputs: {\r\n      id : $bio_id\r\n    }){\r\n      Status{\r\n        code\r\n      }\r\n    }\r\n  }\r\n  \r\n`\r\nexport default compose(\r\n    graphql(DELETE_BIO, {\r\n        name: \"delete_bio\"\r\n    }),\r\n)(withRouter(CardBiography));","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from '../pagination/pagination.component';\r\nimport CardBiography from '../card-biography/card-biography.component';\r\n\r\n// styles , icons and images\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { Paper } from '@material-ui/core';\r\n\r\n\r\n// this component represents the videos container part in visumes/biographies page \r\n\r\nexport default class YourBiographiesPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: this.props.data\r\n        }\r\n    }\r\n    render() {\r\n        if (!this.props.data) {\r\n            return (<div>Loading...</div>)\r\n        }\r\n        else {\r\n            return (\r\n                <div style={{ borderTop: '3px solid #e85a19' }}>\r\n                    <div className=\"container-responsive\">\r\n                        <Paper elevation={3}>\r\n                            <Row elevation={3} className=\"bg-light m-0 p-3\" style={{ borderBottom: '1px solid #f2f2f2' }}>\r\n                                <Col sm={6} xs={12}>\r\n                                    <h5 className=\"mb-0\">{this.props.type}</h5>\r\n                                </Col>\r\n                                <Col className=\"text-right\" sm={6} xs={12}>\r\n                                    <h6 className=\"bold mb-0\"\r\n                                    >Sort by: <Link className=\"text-orange\" to=''\r\n                                        onClick={e => {\r\n                                            e.preventDefault();\r\n                                            this.setState({ ...this.state, filterdArray: this.props.data.reverse() });\r\n                                        }\r\n                                        }>Latest</Link> <ExpandMoreIcon /></h6>\r\n                                </Col>\r\n                            </Row>\r\n                            <Pagination card={this.props.data}>\r\n                                <CardBiography />\r\n                            </Pagination>\r\n                        </Paper>\r\n                    </div>\r\n                </div>);\r\n        }\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Container, Row, Col, Card, Tab, Nav } from 'react-bootstrap';\r\nimport { withRouter } from 'react-router';\r\nimport { Button } from '@material-ui/core';\r\nimport Header from '../header/header.component';\r\nimport Footer from '../footer/footer.component';\r\nimport YourBiographiesPage from '../your-biographies-page/your-biographies-page';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from 'react-loader-spinner';\r\nimport { createApolloFetch } from 'apollo-fetch';\r\nimport $ from 'jquery';\r\n\r\n// styles , icons and images\r\nimport img from '../../images/john.png';\r\n\r\n// this component represents  user visumes/biographies page \r\n\r\nclass Biographies extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: \"\"\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps !== this.props) {\r\n            if (this.props.get_biographies) {\r\n                this.setState({ ...this.state, biographies: this.props.get_biographies.biosYours.data });\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        let that = this;\r\n        this.connect();\r\n        const token = JSON.parse(localStorage.getItem('jwt')).BearerTokenResponse.access_token;\r\n        const uri = 'https://spreago.black-squares.com/graphql';\r\n        const apolloFetch = createApolloFetch({ uri });\r\n        apolloFetch.use(({ request, options }, next) => {\r\n            if (!options.headers) {\r\n                options.headers = {};  // Create the headers object if needed.\r\n            }\r\n            options.headers['authorization'] = `Bearer ${token}`;\r\n            next();\r\n        });\r\n\r\n        // get user completed visume \r\n        apolloFetch({\r\n            query:\r\n                `query{\r\n          biosCompletedYours(first: 10000){\r\n            data{\r\n                id\r\n                title\r\n                brif\r\n                speciality{name_en}\r\n                tags\r\n                bioTagsNames\r\n                privacy{\r\n                    id\r\n                    name_en}\r\n                speciality{\r\n                    id\r\n                    name_en\r\n                }\r\n                video{\r\n                    id\r\n                    frame{\r\n                      url\r\n                    }\r\n                    url\r\n                  }\r\n                questions{\r\n                id\r\n                title\r\n                maximum_time\r\n                video{\r\n                        url\r\n                        duration\r\n                        created_at\r\n                        url\r\n                        frame{\r\n                            url\r\n                        }\r\n                    }\r\n                 \r\n              }\r\n            }\r\n          }\r\n        }\r\n        `,\r\n        }).then(res => {\r\n            if (res.data.biosCompletedYours) {\r\n                that.setState({ ...that.state, biographies: res.data.biosCompletedYours.data });\r\n            }\r\n        });\r\n         // get user draft visume \r\n        apolloFetch({\r\n            query:`\r\n            query{\r\n              biosYoursNotPublishedWithDruft(first: 10000 ){\r\n                data{\r\n                  id\r\n                  completed{\r\n                    id\r\n                  }\r\n                  title\r\n                  brif\r\n                  speciality{name_en}\r\n                  tags\r\n                  bioTagsNames\r\n                  privacy{\r\n                    id\r\n                    name_en}\r\n                  speciality{\r\n                    id\r\n                    name_en\r\n                      }\r\n                  video{\r\n                    id\r\n                    frame{\r\n                      url\r\n                    }\r\n                    url\r\n                  }\r\n                  questions{\r\n                    id\r\n                    title\r\n                    maximum_time\r\n                    video{\r\n                      url\r\n                      duration\r\n                      created_at\r\n                      url\r\n                      frame{\r\n                        url\r\n                      }\r\n                    }\r\n            \r\n                  }\r\n                }\r\n              }\r\n            }\r\n            `,}).then(res => {\r\n                if(res.data.biosYoursNotPublishedWithDruft){\r\n                    that.setState({ ...that.state, draftBiographies: res.data.biosYoursNotPublishedWithDruft.data });\r\n                }\r\n            })\r\n        apolloFetch({\r\n            query:\r\n                `query{\r\n                  me{\r\n                    id\r\n                    name\r\n                    email\r\n                    phone\r\n                    __typename\r\n                  }\r\n                }\r\n                `,\r\n        }).then(res => {\r\n            if (res.data.me) {\r\n                that.setState({ ...that.state, userName: res.data.me.name });\r\n            }\r\n        });\r\n    }\r\n\r\n    // open socket and get updated data \r\n    timeout = 250;\r\n    connect = () => {\r\n        var ws = new WebSocket(\"wss://spreago.black-squares.com:6001/app/websocket?protocol=7&client=js&version=4.3.1&flash=false\");\r\n        let that = this; // cache the this\r\n        var connectInterval;\r\n        \r\n        // websocket onopen event listener\r\n        ws.onopen = () => {\r\n            // console.log(\"connected websocket main component\");\r\n            ws.send('{\"event\":\"pusher:subscribe\",\"data\":{\"channel\":\"bio\"}}');\r\n            // this.setState({ ws: ws });\r\n            // console.log(ws);\r\n            that.timeout = 250; // reset timer to 250 on open of websocket connection \r\n            clearTimeout(connectInterval); // clear Interval on on open of websocket connection\r\n        };\r\n\r\n        // websocket onclose event listener\r\n        ws.onclose = e => {\r\n            console.log(\r\n                `Socket is closed. Reconnect will be attempted in ${Math.min(\r\n                    10000 / 1000,\r\n                    (that.timeout + that.timeout) / 1000\r\n                )} second.`,\r\n                e.reason\r\n            );\r\n\r\n            that.timeout = that.timeout + that.timeout; //increment retry interval\r\n            connectInterval = setTimeout(this.check, Math.min(10000, that.timeout)); //call check function after timeout\r\n        };\r\n        // websocket message \r\n        ws.onmessage = evt => {\r\n            let newData = JSON.parse(evt.data)\r\n            if (newData.event === \"bioDelete\") {\r\n                let newBiography = JSON.parse(newData.data);\r\n                let state = that.state.biographies;\r\n                let draftState = this.state.draftBiographies;\r\n                let filteredArray = state.filter(item => parseInt(item.id) !== parseInt(newBiography.bio_id))\r\n                let filteredDraftArray = draftState.filter(item => parseInt(item.id) !== parseInt(newBiography.bio_id))\r\n                that.setState({ ...that.state, biographies: filteredArray , draftBiographies : filteredDraftArray});\r\n            }\r\n        }\r\n        // websocket onerror event listener\r\n        ws.onerror = err => {\r\n            console.error(\r\n                \"Socket encountered error: \",\r\n                err.message,\r\n                \"Closing socket\"\r\n            );\r\n\r\n            ws.close();\r\n        };\r\n    };\r\n\r\n    /**\r\n     * utilited by the @function connect to check if the connection is close, if so attempts to reconnect\r\n     */\r\n    check = () => {\r\n        const { ws } = this.state;\r\n        if (!ws || ws.readyState === WebSocket.CLOSED) this.connect(); //check if websocket instance is closed, if so call `connect` function.\r\n    };\r\n    render() {\r\n        const biographies = this.state.biographies;\r\n\r\n        if (!biographies) {\r\n            return (\r\n                <div className=\"loading-custom\">\r\n                    <Loader\r\n                        type=\"TailSpin\"\r\n                        color=\"#E1631C\"\r\n                        height={50}\r\n                        width={50}\r\n                    />\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            // filter visumes\r\n            let filteredArray = this.state.biographies.filter(bio => {\r\n                return bio.questions.find(question => question.video !== null)\r\n            })\r\n            return (\r\n                <div className=\"biographies\">\r\n                    <Header />\r\n                    <Container className=\"pt-5 container-fluid-responsive\">\r\n                        <Row className=\"m-0\">\r\n                            <Col sm=\"3\" className=\"p-0 pt-2\">\r\n                                <Container className=\"container-responsive\">\r\n                                    <Card className=\"bg-white shadow pt-3 pb-5 border-0\">\r\n                                        <div className=\"text-center pb-3\">\r\n                                            <img src={img} alt=\"interview img\" width=\"120px\" className=\"rounded-circle\" />\r\n                                        </div>\r\n                                        <div className=\"text-center\">\r\n                                            <div className=\"\"><h6>{this.state.userName}</h6></div>\r\n                                            {/* <div><p className=\"text-dark\">0 Follower <span> . 0 Biography </span></p></div> */}\r\n                                            <Button\r\n                                                onClick={e => localStorage.setItem('updatedBio', '')}\r\n                                                variant=\"contained\"\r\n                                                className=\"btn-orange text-white pb-1 pt-1 small-text\"\r\n                                                color=\"primary\"\r\n                                                size=\"large\">\r\n                                                <Link className=\"text-white\" to='/createVisume'>Create Visume</Link>\r\n                                            </Button>\r\n                                        </div>\r\n                                    </Card>\r\n                                </Container>\r\n                            </Col>\r\n                            <Col sm={9} className=\"p-0 pt-2\">\r\n                                <Tab.Container defaultActiveKey=\"first\">\r\n                                    <Row className=\"m-0 pt-xs-4\">\r\n                                        <Col sm={12} className=\"mb-2\">\r\n                                            <Nav variant=\"pills\" id=\"left-tabs-example\">\r\n                                                <Nav.Item>\r\n                                                    <Nav.Link eventKey=\"first\" className=\"mr-3 bg-transparent\" style={{ outline: 'none' }}>\r\n                                                        <h6>Live Visumes</h6>\r\n                                                    </Nav.Link>\r\n                                                </Nav.Item>\r\n                                                <Nav.Item>\r\n                                                    <Nav.Link eventKey=\"second\" className=\"mr-3 bg-transparent\" style={{ outline: 'none' }}>\r\n                                                        <h6>Draft Visumes</h6>\r\n                                                    </Nav.Link>\r\n                                                </Nav.Item>\r\n                                            </Nav>\r\n                                        </Col>\r\n                                        <Col sm={12} id=\"tab-content-container\">\r\n                                            <Tab.Content>\r\n                                                <Tab.Pane eventKey=\"first\">\r\n                                                    <YourBiographiesPage data={filteredArray} type=\"Your Live Visumes\"/>\r\n                                                </Tab.Pane>\r\n                                                <Tab.Pane eventKey=\"second\" >\r\n                                                    <YourBiographiesPage data={this.state.draftBiographies} type=\"Your Draft Visumes\"/>\r\n                                        </Tab.Pane>\r\n                                            </Tab.Content>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Tab.Container>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                    <Footer />\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default (withRouter(Biographies));","import React from 'react';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport LoginPage  from './components/login-page/login-page.component';\r\nimport CreateAccPage from './components/create-acc-page/create-acc-page.component';\r\nimport EmailConfirmationPage from './components/email-conf-page/email-conf-page.component';\r\nimport RegistrationPage from './components/registration-page/registration-page.component';\r\nimport ForgetPasswordPage from './components/forget-password-page/forget-password-page.component';\r\nimport HomePage from './components/homepage/homepage.component';\r\nimport ResetPassword from './components/reset-password-page/reset-password-page.component';\r\nimport Auth from './Auth';\r\nimport CreateBiography from './components/create-biography/create-biography.component';\r\nimport Biographies from './components/biographies/biographies.component';\r\nimport Test from './components/video-recorder/video-recorder';\r\n\r\n\r\n\r\nimport {\r\n//   BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  HashRouter\r\n} from \"react-router-dom\";\r\n\r\nimport './App.css';\r\n\r\n\r\n\r\nconst theme = createMuiTheme({\r\n   palette: {\r\n       primary: { main: '#E85A19', light: '#fff', dark: '#ea5f11' },\r\n       secondary: { main: '#fff' , light:'#000' ,dark:'#f1eeee' },\r\n       contrastText: { main: '#E1631C' },\r\n   },\r\n   typography: {\r\n           fontSize: 13,\r\n           button: {\r\n               textTransform: 'none',\r\n               fontSize: 10,\r\n             }\r\n   }\r\n});\r\n\r\nfunction App() {\r\n   \r\n  return (\r\n   <ThemeProvider  theme={theme}>\r\n    <HashRouter> \r\n      <Switch>\r\n      <Route key=\"header\" path=\"/header\" component/>\r\n         <Route exact path=\"/\">\r\n            <LoginPage/>\r\n         </Route>\r\n         <Route exact path=\"/createAccount\">\r\n            <CreateAccPage/>\r\n         </Route>\r\n         <Route exact path=\"/emailConfirmation\">\r\n            <EmailConfirmationPage/>\r\n         </Route>\r\n         <Route exact path=\"/registration\">\r\n            <RegistrationPage/>\r\n         </Route>\r\n         <Route exact path=\"/forgetPassword\">\r\n            <ForgetPasswordPage/>\r\n         </Route>\r\n         <Route exact path=\"/resetPassword\">\r\n            <ResetPassword/>\r\n         </Route>\r\n         <Route exact path=\"/test\">\r\n            <Test/>\r\n         </Route>\r\n         <Route exact path=\"/homepage\" render={props => <Auth><HomePage {...props} /></Auth>} />\r\n         <Route exact path=\"/visumes\" render={props => <Auth><Biographies {...props} /></Auth>} />\r\n         <Route exact path=\"/createVisume\" render={props => <Auth><CreateBiography {...props} /></Auth>} />\r\n         </Switch>\r\n  </HashRouter>   \r\n</ThemeProvider>\r\n  \r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport ApolloClient from 'apollo-boost';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { ApolloProvider } from '@apollo/react-hooks';\n\n\n   const client = new ApolloClient({\n    uri : 'https://spreago.black-squares.com/graphql',\n    cache: new InMemoryCache({\n      addTypename: false\n    }),\n    request: async (operation) => {\n      operation.setContext({\n        headers: {\n          authorization: JSON.parse(localStorage.getItem('jwt')) ? `Bearer ${JSON.parse(localStorage.getItem('jwt')).BearerTokenResponse.access_token}` : \"\"\n        }\n      });\n    }\n  });\n  ReactDOM.render(\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n    , document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/member.fbbfed5a.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAMCAYAAACnfgdqAAAABHNCSVQICAgIfAhkiAAAAIRJREFUCFtjFNW2uMDwn4H/97cfhowiWpYPGBkZ5H///a/IKKBgIMDAwSHw4caJB4wMSIBRQMNCgZXpr8Dra6cvMIpoWXxgZGTkZ/j/x5BRWNtyAuP//wZ/vv0IQNWDYoCIpmUBI+N//dfXTiQyimpb/gfJ/v/735FRWNMSpFHhzfXjEwBCKSrVXXZ3pwAAAABJRU5ErkJggg==\""],"sourceRoot":""}